io.nflow.tests.Swagger2MarkupTest#convertRemoteSwaggerToAsciiDoc
SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/root/workspace/NitorCreations/nflow/388193680/.m2/ch/qos/logback/logback-classic/1.1.7/logback-classic-1.1.7.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/root/repairnator-pipeline.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]
2018-06-05 09:55:50 INFO  [pool-1-thread-1] DefaultTestContextBootstrapper - [] Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-06-05 09:55:50 INFO  [pool-1-thread-1] DefaultTestContextBootstrapper - [] Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@240ab159, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@76bb7e45, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@4b2627a3, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3ee89a3f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4f9974c2, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@62fd6222]
2018-06-05 09:55:50 INFO  [pool-1-thread-1] pring.NflowStandardEnvironment - [] Failed to initialize environment-specific properties from resource common.properties
Failed to kill previous process: Cannot run program "lsof": error=2, No such file or directory
2018-06-05 09:55:50 INFO  [pool-1-thread-1] org.eclipse.jetty.util.log     - [] Logging initialized @968ms to org.eclipse.jetty.util.log.Slf4jLog
2018-06-05 09:55:50 INFO  [pool-1-thread-1] io.nflow.jetty.StartNflow      - [] Static resources served from [jar:file:/root/workspace/NitorCreations/nflow/388193680/.m2/io/nflow/nflow-jetty/4.2.1-SNAPSHOT/nflow-jetty-4.2.1-SNAPSHOT.jar!/static]
2018-06-05 09:55:50 INFO  [pool-1-thread-1] rg.eclipse.jetty.server.Server - [] jetty-9.4.0.v20161208
2018-06-05 09:55:50 INFO  [pool-1-thread-1] /                              - [] Initializing Spring root WebApplicationContext
2018-06-05 09:55:50 INFO  [pool-1-thread-1] work.web.context.ContextLoader - [] Root WebApplicationContext: initialization started
2018-06-05 09:55:50 INFO  [pool-1-thread-1] ionConfigWebApplicationContext - [] Refreshing Root WebApplicationContext: startup date [Tue Jun 05 11:55:50 CEST 2018]; root of context hierarchy
2018-06-05 09:55:50 INFO  [pool-1-thread-1] ionConfigWebApplicationContext - [] Successfully resolved class for [io.nflow.jetty.config.NflowJettyConfiguration]
2018-06-05 09:55:51 INFO  [pool-1-thread-1] redAnnotationBeanPostProcessor - [] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-06-05 09:55:51 INFO  [pool-1-thread-1] orage.db.DatabaseConfiguration - [] Database connection to h2 using jdbc:h2:mem:test;TRACE_LEVEL_FILE=4
2018-06-05 09:55:51 INFO  [pool-1-thread-1] zaxxer.hikari.HikariDataSource - [] nflow - Started.
2018-06-05 09:55:52 INFO  [pool-1-thread-1] storage.db.DatabaseInitializer - [] Creating database populator using script 'scripts/db/h2.create.ddl.sql'
2018-06-05 09:55:52 INFO  [pool-1-thread-1] bc.datasource.init.ScriptUtils - [] Executing SQL script from class path resource [scripts/db/h2.create.ddl.sql]
2018-06-05 09:55:52 INFO  [pool-1-thread-1] bc.datasource.init.ScriptUtils - [] Executed SQL script from class path resource [scripts/db/h2.create.ddl.sql] in 553 ms.
2018-06-05 09:55:52 INFO  [pool-1-thread-1] storage.db.DatabaseInitializer - [] Database created.
2018-06-05 09:55:53 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Preparing workflow io.nflow.tests.demo.WordGeneratorWorkflow
2018-06-05 09:56:12 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Added workflow type: wordGenerator (io.nflow.tests.demo.WordGeneratorWorkflow)
2018-06-05 09:56:12 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Preparing workflow io.nflow.tests.demo.WordGeneratorErrorsWorkflow
2018-06-05 09:56:28 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Added workflow type: wordGeneratorErrors (io.nflow.tests.demo.WordGeneratorErrorsWorkflow)
2018-06-05 09:56:28 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Preparing workflow io.nflow.tests.demo.CreditApplicationWorkflow
2018-06-05 09:56:28 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Added workflow type: creditApplicationProcess (io.nflow.tests.demo.CreditApplicationWorkflow)
2018-06-05 09:56:28 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Preparing workflow io.nflow.tests.demo.SlowWorkflow
2018-06-05 09:56:28 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Added workflow type: slowWorkflow (io.nflow.tests.demo.SlowWorkflow)
2018-06-05 09:56:28 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Preparing workflow io.nflow.tests.demo.FibonacciWorkflow
2018-06-05 09:56:28 INFO  [pool-1-thread-1] vice.WorkflowDefinitionService - [] Added workflow type: fibonacci (io.nflow.tests.demo.FibonacciWorkflow)
2018-06-05 09:56:28 INFO  [pool-1-thread-1] ngine.internal.dao.ExecutorDao - [] Joining executor group nflow-tests-Swagger2MarkupTest-1528192550609
2018-06-05 09:56:29 INFO  [pool-1-thread-1] apache.cxf.endpoint.ServerImpl - [] Setting the server's publish address to be //
2018-06-05 09:56:29 INFO  [pool-1-thread-1] org.reflections.Reflections    - [] Reflections took 51 ms to scan 1 urls, producing 62 keys and 140 values 
2018-06-05 09:56:29 INFO  [pool-1-thread-1] port.DefaultLifecycleProcessor - [] Starting beans in phase 2147483647
2018-06-05 09:56:29 INFO  [nflow-dispatcher] al.executor.WorkflowDispatcher - [] Starting.
2018-06-05 09:56:29 INFO  [pool-1-thread-1] work.web.context.ContextLoader - [] Root WebApplicationContext: initialization completed in 38973 ms
2018-06-05 09:56:29 INFO  [pool-1-thread-1] .server.handler.ContextHandler - [] Started o.e.j.s.ServletContextHandler@20bf8a9{/,[jar:file:/root/workspace/NitorCreations/nflow/388193680/.m2/io/nflow/nflow-jetty/4.2.1-SNAPSHOT/nflow-jetty-4.2.1-SNAPSHOT.jar!/static],AVAILABLE}
2018-06-05 09:56:29 INFO  [pool-1-thread-1] .server.AbstractNCSARequestLog - [] Opened /root/log/2018_06_05.request.log
2018-06-05 09:56:30 INFO  [pool-1-thread-1] jetty.server.AbstractConnector - [] Started 0@5f7aad0c{HTTP/1.1,[http/1.1]}{0.0.0.0:41865}
2018-06-05 09:56:30 INFO  [pool-1-thread-1] rg.eclipse.jetty.server.Server - [] Started @40242ms
2018-06-05 09:56:30 INFO  [pool-1-thread-1] io.nflow.jetty.StartNflow      - [] Successfully started Jetty on port 41865 in 39.418 seconds in environment [local, nflow.db.h2]
2018-06-05 09:56:30 INFO  [pool-1-thread-1] io.nflow.jetty.StartNflow      - [] API available at http://0.0.0.0:41865/api/
2018-06-05 09:56:30 INFO  [pool-1-thread-1] io.nflow.jetty.StartNflow      - [] Swagger available at http://0.0.0.0:41865/doc/
2018-06-05 09:56:30 INFO  [pool-1-thread-1] io.nflow.jetty.StartNflow      - [] Explorer available at http://0.0.0.0:41865/explorer/
2018-06-05 09:56:30 INFO  [pool-1-thread-1] io.nflow.jetty.StartNflow      - [] Metrics and health checks available at http://0.0.0.0:41865/metrics/
2018-06-05 09:56:30 INFO  [pool-1-thread-1] port.GenericApplicationContext - [] Refreshing org.springframework.context.support.GenericApplicationContext@74bf4cd7: startup date [Tue Jun 05 11:56:30 CEST 2018]; root of context hierarchy
2018-06-05 09:56:30 INFO  [pool-1-thread-1] redAnnotationBeanPostProcessor - [] JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
.reading from http://localhost:41865/api/swagger.json
2018-06-05 09:56:30 INFO  [qtp1678737909-55] terceptor.LoggingInInterceptor - [] Inbound Message
----------------------------
ID: 1
Address: http://localhost:41865/api/swagger.json
Http-Method: GET
Content-Type: 
Headers: {Accept=[application/json, application/yaml, */*], Cache-Control=[no-cache], connection=[keep-alive], Content-Type=[null], Host=[localhost:41865], Pragma=[no-cache], User-Agent=[Java/1.8.0_121]}
--------------------------------------
2018-06-05 09:56:30 INFO  [qtp1678737909-55] alidator.internal.util.Version - [] HV000001: Hibernate Validator 5.3.3.Final
2018-06-05 09:56:30 INFO  [qtp1678737909-55] org.reflections.Reflections    - [] Reflections took 6 ms to scan 1 urls, producing 62 keys and 140 values 
2018-06-05 09:56:30 INFO  [qtp1678737909-55] erceptor.LoggingOutInterceptor - [] Outbound Message
---------------------------
ID: 1
Response-Code: 200
Content-Type: application/json
Headers: {Content-Type=[application/json], Date=[Tue, 05 Jun 2018 09:56:30 GMT]}
Payload: {"swagger":"2.0","info":{"description":"nFlow REST API provides services for managing workflow instances and querying metadata (statistics, workflow definitions, etc) of nFlow Engine. The services are also used by nFlow Explorer user interface.","version":"1","title":"nflow-rest-api","contact":{"name":"nFlow community (nflow-users@googlegroups.com)"},"license":{"name":"European Union Public Licence V. 1.1","url":"https://raw.githubusercontent.com/NitorCreations/nflow/master/EUPL-v1.1-Licence.txt"}},"basePath":"/api","tags":[{"name":"nFlow workflow definition management"},{"name":"nFlow archiving"},{"name":"nFlow statistics"},{"name":"nFlow workflow executor management"},{"name":"nFlow workflow instance management"}],"paths":{"/nflow/v1/archive":{"post":{"tags":["nFlow archiving"],"summary":"Archive workflow instances synchronously","description":"","operationId":"archiveWorkflows","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","description":"Parameters for the archiving process","required":true,"schema":{"$ref":"#/definitions/ArchiveRequest"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/ArchiveResponse"}}}}},"/nflow/v1/statistics":{"get":{"tags":["nFlow statistics"],"summary":"Get executor group statistics","description":"Returns counts of queued and executing workflow instances.","operationId":"queryStatistics","consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/StatisticsResponse"}}}}},"/nflow/v1/statistics/workflow/{type}":{"get":{"tags":["nFlow statistics"],"summary":"Get workflow definition statistics","description":"","operationId":"getStatistics","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"type","in":"path","description":"Workflow definition type","required":true,"type":"string"},{"name":"createdAfter","in":"query","description":"Include only workflow instances created after given time","required":false,"type":"string","format":"date-time"},{"name":"createdBefore","in":"query","description":"Include only workflow instances created before given time","required":false,"type":"string","format":"date-time"},{"name":"modifiedAfter","in":"query","description":"Include only workflow instances modified after given time","required":false,"type":"string","format":"date-time"},{"name":"modifiedBefore","in":"query","description":"Include only workflow instances modified before given time","required":false,"type":"string","format":"date-time"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/WorkflowDefinitionStatisticsResponse"}}}}},"/nflow/v1/workflow-definition":{"get":{"tags":["nFlow workflow definition management"],"summary":"List workflow definitions","description":"Returns workflow definition(s): all possible states, transitions between states and other setting metadata.The workflow definition can deployed in nFlow engine or historical workflow definition stored in the database.","operationId":"listWorkflowDefinitions","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"type","in":"query","description":"Included workflow types","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/ListWorkflowDefinitionResponse"}}}}}},"/nflow/v1/workflow-executor":{"get":{"tags":["nFlow workflow executor management"],"summary":"List workflow executors","description":"","operationId":"listWorkflowExecutors","consumes":["application/json"],"produces":["application/json"],"parameters":[],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/ListWorkflowExecutorResponse"}}}}}},"/nflow/v1/workflow-instance":{"get":{"tags":["nFlow workflow instance management"],"summary":"List workflow instances","description":"","operationId":"listWorkflowInstances","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"query","description":"Internal id of workflow instance","required":false,"type":"array","items":{"type":"integer","format":"int32"},"collectionFormat":"multi"},{"name":"type","in":"query","description":"Workflow definition type of workflow instance","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"},{"name":"parentWorkflowId","in":"query","description":"Id of parent workflow instance","required":false,"type":"integer","format":"int32"},{"name":"parentActionId","in":"query","description":"Id of parent workflow instance action","required":false,"type":"integer","format":"int32"},{"name":"state","in":"query","description":"Current state of workflow instance","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi"},{"name":"status","in":"query","description":"Current status of workflow instance","required":false,"type":"array","items":{"type":"string","enum":["created","inProgress","finished","manual","executing"]},"collectionFormat":"multi"},{"name":"businessKey","in":"query","description":"Business key for workflow instance","required":false,"type":"string"},{"name":"externalId","in":"query","description":"External id for workflow instance","required":false,"type":"string"},{"name":"include","in":"query","description":"Data to include in response. currentStateVariables = current stateVariables for worfklow, actions = state transitions, actionStateVariables = state variable changes for actions, childWorkflows = map of created child workflow instance IDs by action ID","required":false,"type":"array","items":{"type":"string","enum":["currentStateVariables","actions","actionStateVariables","childWorkflows"]},"collectionFormat":"multi"},{"name":"maxResults","in":"query","description":"Maximum number of workflow instances to be returned","required":false,"type":"integer","format":"int64"},{"name":"maxActions","in":"query","description":"Maximum number of actions returned for each workflow instance","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/ListWorkflowInstanceResponse"}}}}},"put":{"tags":["nFlow workflow instance management"],"summary":"Submit new workflow instance","description":"","operationId":"createWorkflowInstance","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","description":"Submitted workflow instance information","required":true,"schema":{"$ref":"#/definitions/CreateWorkflowInstanceRequest"}}],"responses":{"201":{"description":"Workflow was created","schema":{"$ref":"#/definitions/CreateWorkflowInstanceResponse"}}}}},"/nflow/v1/workflow-instance/{any}":{"options":{"tags":["nFlow workflow instance management"],"summary":"CORS preflight handling","description":"","operationId":"corsPreflight","consumes":["*/*"],"produces":["application/json"],"parameters":[],"responses":{"default":{"description":"successful operation"}}}},"/nflow/v1/workflow-instance/{id}":{"get":{"tags":["nFlow workflow instance management"],"summary":"Fetch a workflow instance","description":"Fetch full state and action history of a single workflow instance.","operationId":"fetchWorkflowInstance","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"Internal id for workflow instance","required":true,"type":"integer","format":"int32"},{"name":"include","in":"query","description":"Data to include in response. currentStateVariables = current stateVariables for worfklow, actions = state transitions, actionStateVariables = state variable changes for actions, childWorkflows = map of created child workflow instance IDs by action ID","required":false,"type":"array","items":{"type":"string","enum":["currentStateVariables","actions","actionStateVariables","childWorkflows"]},"collectionFormat":"multi"},{"name":"maxActions","in":"query","description":"Maximum number of actions returned for each workflow instance","required":false,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/ListWorkflowInstanceResponse"}}}},"put":{"tags":["nFlow workflow instance management"],"summary":"Update workflow instance","description":"The service is typically used in manual state transition via nFlow Explorer or a business UI.","operationId":"updateWorkflowInstance","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"Internal id for workflow instance","required":true,"type":"integer","format":"int32"},{"in":"body","name":"body","description":"Submitted workflow instance information","required":false,"schema":{"$ref":"#/definitions/UpdateWorkflowInstanceRequest"}}],"responses":{"204":{"description":"If update was successful"},"409":{"description":"If workflow was executing and no update was done"}}}},"/nflow/v1/workflow-instance/{id}/signal":{"put":{"tags":["nFlow workflow instance management"],"summary":"Set workflow instance signal value","description":"The service may be used for example to interrupt executing workflow instance.","operationId":"setSignal","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"id","in":"path","description":"Internal id for workflow instance","required":true,"type":"integer","format":"int32"},{"in":"body","name":"body","description":"New signal value","required":false,"schema":{"$ref":"#/definitions/SetSignalRequest"}}],"responses":{"200":{"description":"When operation was successful"}}}}},"definitions":{"ArchiveRequest":{"type":"object","required":["olderThan"],"properties":{"olderThan":{"type":"string","format":"date-time","description":"Passive workflow instances whose modified time is before this will be archived."},"batchSize":{"type":"integer","format":"int32","description":"Number of workflow hierarchies to archive in a single transaction."}},"description":"Request to start archiving process"},"All":{"type":"object","required":["allInstances"],"properties":{"allInstances":{"type":"integer","format":"int64","description":"Statistics per state"}},"description":"All instances"},"QueueStatistics":{"type":"object","required":["count"],"properties":{"count":{"type":"integer","format":"int32","description":"Number for workflow instances."},"maxAge":{"type":"integer","format":"int64","description":"Maximum time (ms) currently queued workflow instances have been in queue."},"minAge":{"type":"integer","format":"int64","description":"Minimum time (ms) currently queued workflow instances have been in queue."}},"description":"Global statistics for workflow instances."},"Action":{"type":"object","properties":{"id":{"type":"integer","format":"int32","description":"Identifier of the workflow instance action"},"type":{"type":"string","description":"Type of state (stateExecution, stateExecutionFailed, externalChange, recovery)"},"state":{"type":"string","description":"Name of state"},"stateText":{"type":"string","description":"Description of state"},"retryNo":{"type":"integer","format":"int32","description":"Number of retries in this state"},"executionStartTime":{"type":"string","format":"date-time","description":"Start time for execution"},"executionEndTime":{"type":"string","format":"date-time","description":"End time for execution"},"executorId":{"type":"integer","format":"int32","description":"Identifier of the executor that executed this action"},"updatedStateVariables":{"type":"object","description":"Updated state variables","additionalProperties":{"type":"object"}}},"description":"State change attempt. A new instance for every retry attempt."},"StateStatistics":{"type":"object","required":["created","executing","finished","inProgress","manual"],"properties":{"created":{"description":"Instances created","$ref":"#/definitions/AllAndQueued"},"inProgress":{"description":"Instances in progress","$ref":"#/definitions/AllAndQueued"},"executing":{"description":"Instances executing","$ref":"#/definitions/All"},"manual":{"description":"Instances in manual state","$ref":"#/definitions/All"},"finished":{"description":"Instances finished","$ref":"#/definitions/All"}},"description":"Statistics for a state"},"ListWorkflowExecutorResponse":{"type":"object","required":["active","executorGroup","expires","host","id","pid","started"],"properties":{"id":{"type":"integer","format":"int32","description":"Identifier of the workflow executor"},"host":{"type":"string","description":"Host where the executor is running"},"pid":{"type":"integer","format":"int32","description":"Executor process identifier assigned by the operating system"},"executorGroup":{"type":"string","description":"Executor group the executor belongs to"},"started":{"type":"string","format":"date-time","description":"Time when the executor was started"},"active":{"type":"string","format":"date-time","description":"Last time the executor updated it's heart beat to the database"},"expires":{"type":"string","format":"date-time","description":"Time after which the executor is considered as crashed"}},"description":"Basic information of workflow executor"},"ListWorkflowInstanceResponse":{"type":"object","required":["created","externalId","id","modified","retries","state","status","type"],"properties":{"id":{"type":"integer","format":"int32","description":"Identifier of the workflow instance"},"status":{"type":"string","description":"Workflow instance status (created, executing, inProgress, finished, manual)"},"type":{"type":"string","description":"Workflow definition type"},"parentWorkflowId":{"type":"integer","format":"int32","description":"Parent workflow instance id for child workflows"},"parentActionId":{"type":"integer","format":"int32","description":"Parent workflow instance action id for child workflows (action that created the child workflow)"},"businessKey":{"type":"string","description":"Main business key or identifier for the workflow instance"},"externalId":{"type":"string","description":"Unique external identifier within a workflow type. Generated by nflow if not given."},"state":{"type":"string","description":"State of the workflow instance"},"stateText":{"type":"string","description":"Text of describing the reason for state (free text)"},"nextActivation":{"type":"string","format":"date-time","description":"Time when the workflow instance is processed again"},"stateVariables":{"type":"object","description":"State variables for current state","additionalProperties":{"type":"object"}},"retries":{"type":"integer","format":"int32","description":"Number of times the current state has been retried"},"actions":{"type":"array","description":"Action history of the workflow instance","items":{"$ref":"#/definitions/Action"}},"created":{"type":"string","format":"date-time","description":"Workflow instance creation timestamp"},"modified":{"type":"string","format":"date-time","description":"Workflow instance latest modification timestamp"},"started":{"type":"string","format":"date-time","description":"Time when workflow processing started (=start time of the first action)"},"childWorkflows":{"type":"object","description":"Child workflow instance IDs created by this instance, grouped by instance action ID","additionalProperties":{"type":"array","items":{"type":"integer","format":"int32"}}},"signal":{"type":"integer","format":"int32","description":"Current signal value"}},"description":"Basic information of workflow instance"},"StatisticsResponse":{"type":"object","required":["executionStatistics","queueStatistics"],"properties":{"queueStatistics":{"description":"Statistics for queued workflows. Workflow instances waiting for free executors.","$ref":"#/definitions/QueueStatistics"},"executionStatistics":{"description":"Statistics for workflows in execution. Workflow instances currently processed by an executor.","$ref":"#/definitions/QueueStatistics"}},"description":"Response for statistics"},"ListWorkflowDefinitionResponse":{"type":"object","required":["name","onError","settings","states","type"],"properties":{"type":{"type":"string","description":"Type of the workflow definition"},"name":{"type":"string","description":"Name of the workflow definition"},"description":{"type":"string","description":"Description of the workflow definition"},"onError":{"type":"string","description":"Default error state"},"states":{"type":"array","description":"Workflow definition states and transitions","items":{"$ref":"#/definitions/State"}},"settings":{"description":"Workflow settings","$ref":"#/definitions/Settings"},"supportedSignals":{"type":"array","description":"Supported signals","items":{"$ref":"#/definitions/Signal"}}},"description":"Basic information of workflow definition"},"ArchiveResponse":{"type":"object","properties":{"archivedWorkflows":{"type":"integer","format":"int32","description":"Total number of archived workflows"}},"description":"Archiving result response"},"JsonNode":{"type":"object","properties":{"number":{"type":"boolean","default":false},"bigInteger":{"type":"boolean","default":false},"bigDecimal":{"type":"boolean","default":false},"nodeType":{"type":"string","enum":["ARRAY","BINARY","BOOLEAN","MISSING","NULL","NUMBER","OBJECT","POJO","STRING"]},"pojo":{"type":"boolean","default":false},"integralNumber":{"type":"boolean","default":false},"floatingPointNumber":{"type":"boolean","default":false},"short":{"type":"boolean","default":false},"int":{"type":"boolean","default":false},"long":{"type":"boolean","default":false},"double":{"type":"boolean","default":false},"textual":{"type":"boolean","default":false},"boolean":{"type":"boolean","default":false},"binary":{"type":"boolean","default":false},"valueNode":{"type":"boolean","default":false},"containerNode":{"type":"boolean","default":false},"missingNode":{"type":"boolean","default":false},"object":{"type":"boolean","default":false},"float":{"type":"boolean","default":false},"array":{"type":"boolean","default":false},"null":{"type":"boolean","default":false}}},"CreateWorkflowInstanceRequest":{"type":"object","required":["type"],"properties":{"type":{"type":"string","description":"Workflow definition type","minLength":0,"maxLength":30},"businessKey":{"type":"string","description":"Main business key or identifier for the new workflow instance","minLength":0,"maxLength":64},"startState":{"type":"string","description":"Start state name (if other than default set in workflow definition)","minLength":0,"maxLength":64},"externalId":{"type":"string","description":"Unique external identifier within the workflow type. Generated by nflow if not given.","minLength":0,"maxLength":64},"requestData":{"description":"JSON document that contains business information. Stored as state variable 'requestData'.","$ref":"#/definitions/JsonNode"},"activationTime":{"type":"string","format":"date-time","description":"Start time for workflow execution. If null, defaults to now."},"stateVariables":{"type":"object","description":"State variables to be set for the new workflow instance.","additionalProperties":{"type":"object"}}},"description":"Request for submitting a new workflow instance. Note that if externalId is given, type and externalId pair must be unique hence enabling retry-safety."},"UpdateWorkflowInstanceRequest":{"type":"object","properties":{"state":{"type":"string","description":"New state of the workflow instance"},"nextActivationTime":{"type":"string","format":"date-time","description":"New next activation time for next workflow instance processing"},"actionDescription":{"type":"string","description":"Description of the action"},"stateVariables":{"type":"object","description":"State variables to be added or updated.","additionalProperties":{"type":"object"}}},"description":"Request for update workflow instance"},"WorkflowDefinitionStatisticsResponse":{"type":"object","required":["stateStatistics"],"properties":{"stateStatistics":{"type":"object","description":"Statistics per state","additionalProperties":{"$ref":"#/definitions/StateStatistics"}}},"description":"Response for workflow definition statistics"},"CreateWorkflowInstanceResponse":{"type":"object","required":["id","type"],"properties":{"id":{"type":"integer","format":"int32","description":"Idenfier of the new workflow instance"},"type":{"type":"string","description":"Workflow definition type"},"businessKey":{"type":"string","description":"Main business key or identifier for the workflow instance (e.g. credit application identifier)"},"externalId":{"type":"string","description":"Unique external identifier under workflow type. Generated by nflow if not given.","minLength":0,"maxLength":64}},"description":"Response for submit new workflow instance"},"Signal":{"type":"object","required":["description","value"],"properties":{"value":{"type":"integer","format":"int32","description":"Signal value"},"description":{"type":"string","description":"Signal description"}}},"TransitionDelays":{"type":"object","required":["immediate","maxErrorWait","minErrorWait","waitShort"],"properties":{"immediate":{"type":"integer","format":"int64","description":"Delay in immediate transition"},"waitShort":{"type":"integer","format":"int64","description":"Short delay between transitions"},"minErrorWait":{"type":"integer","format":"int64","description":"First retry delay after failure"},"maxErrorWait":{"type":"integer","format":"int64","description":"Maximum delay between failure retries"}}},"AllAndQueued":{"type":"object","required":["allInstances","queuedInstances"],"properties":{"allInstances":{"type":"integer","format":"int64","description":"Statistics per state"},"queuedInstances":{"type":"integer","format":"int64","description":"Statistics per state"}},"description":"All and queued instances"},"State":{"type":"object","required":["description","id","type"],"properties":{"id":{"type":"string","description":"State identifier"},"type":{"type":"string","description":"State type (start, normal, manual, end)"},"description":{"type":"string","description":"State description"},"transitions":{"type":"array","description":"Permitted transitions from this state","uniqueItems":true,"items":{"type":"string"}},"onFailure":{"type":"string","description":"Failure state for the this state"}},"description":"Workflow definition states and transition to next states"},"Settings":{"type":"object","required":["maxRetries","transitionDelaysInMilliseconds"],"properties":{"transitionDelaysInMilliseconds":{"description":"Global transition delays for the workflow","$ref":"#/definitions/TransitionDelays"},"maxRetries":{"type":"integer","format":"int32","description":"Maximum retries for a state before moving to failure"}}},"SetSignalRequest":{"type":"object","properties":{"signal":{"type":"integer","format":"int32","description":"New signal value"},"reason":{"type":"string","description":"Reason for setting the signal"}},"description":"Request to set workflow instance signal value"}}}
--------------------------------------
2018-06-05 09:56:30 INFO  [pool-1-thread-1] ilder.asciidoc.AsciiDocBuilder - [] overview.adoc was written to: src/main/asciidoc/swagger2markup
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: POST /nflow/v1/archive
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: GET /nflow/v1/statistics
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: GET /nflow/v1/statistics/workflow/{type}
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: GET /nflow/v1/workflow-definition
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: GET /nflow/v1/workflow-executor
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: PUT /nflow/v1/workflow-instance
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: GET /nflow/v1/workflow-instance
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: OPTIONS /nflow/v1/workflow-instance/{any}
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: PUT /nflow/v1/workflow-instance/{id}
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: GET /nflow/v1/workflow-instance/{id}
2018-06-05 09:56:30 INFO  [pool-1-thread-1] builder.document.PathsDocument - [] Path processed: PUT /nflow/v1/workflow-instance/{id}/signal
2018-06-05 09:56:30 INFO  [pool-1-thread-1] ilder.asciidoc.AsciiDocBuilder - [] paths.adoc was written to: src/main/asciidoc/swagger2markup
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: Action
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: All
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: AllAndQueued
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: ArchiveRequest
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: ArchiveResponse
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: CreateWorkflowInstanceRequest
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: CreateWorkflowInstanceResponse
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: JsonNode
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: ListWorkflowDefinitionResponse
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: ListWorkflowExecutorResponse
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: ListWorkflowInstanceResponse
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: QueueStatistics
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: SetSignalRequest
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: Settings
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: Signal
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: State
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: StateStatistics
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: StatisticsResponse
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: TransitionDelays
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: UpdateWorkflowInstanceRequest
2018-06-05 09:56:30 INFO  [pool-1-thread-1] r.document.DefinitionsDocument - [] Definition processed: WorkflowDefinitionStatisticsResponse
2018-06-05 09:56:30 INFO  [pool-1-thread-1] ilder.asciidoc.AsciiDocBuilder - [] definitions.adoc was written to: src/main/asciidoc/swagger2markup
E2018-06-05 09:56:30 INFO  [pool-1-thread-1] jetty.server.AbstractConnector - [] Stopped 0@5f7aad0c{HTTP/1.1,[http/1.1]}{0.0.0.0:0}
2018-06-05 09:56:30 INFO  [pool-1-thread-1] /                              - [] Closing Spring root WebApplicationContext
2018-06-05 09:56:30 INFO  [pool-1-thread-1] ionConfigWebApplicationContext - [] Closing Root WebApplicationContext: startup date [Tue Jun 05 11:55:50 CEST 2018]; root of context hierarchy
2018-06-05 09:56:30 INFO  [pool-1-thread-1] port.DefaultLifecycleProcessor - [] Stopping beans in phase 2147483647
2018-06-05 09:56:30 INFO  [pool-1-thread-1] al.executor.WorkflowDispatcher - [] Shutdown requested.
2018-06-05 09:56:30 INFO  [nflow-dispatcher] al.executor.WorkflowDispatcher - [] Shutdown finished.
2018-06-05 09:56:30 INFO  [pool-1-thread-1] .zaxxer.hikari.pool.HikariPool - [] nflow - Close initiated...
2018-06-05 09:56:30 INFO  [pool-1-thread-1] .zaxxer.hikari.pool.HikariPool - [] nflow - Closed.
2018-06-05 09:56:30 INFO  [pool-1-thread-1] .server.handler.ContextHandler - [] Stopped o.e.j.s.ServletContextHandler@20bf8a9{/,[jar:file:/root/workspace/NitorCreations/nflow/388193680/.m2/io/nflow/nflow-jetty/4.2.1-SNAPSHOT/nflow-jetty-4.2.1-SNAPSHOT.jar!/static],UNAVAILABLE}

Time: 40.319
There was 1 failure:
1) convertRemoteSwaggerToAsciiDoc(io.nflow.tests.Swagger2MarkupTest)
java.lang.AssertionError: expected:<5> but was:<3>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at io.nflow.tests.Swagger2MarkupTest.convertRemoteSwaggerToAsciiDoc(Swagger2MarkupTest.java:31)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at io.nflow.tests.runner.SkipTestMethodsAfterFirstFailureRule$1.evaluate(SkipTestMethodsAfterFirstFailureRule.java:37)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at fr.inria.lille.repair.MethodTestRunner.runTest(MethodTestRunner.java:44)
	at fr.inria.lille.repair.MethodTestRunner.access$000(MethodTestRunner.java:12)
	at fr.inria.lille.repair.MethodTestRunner$1.call(MethodTestRunner.java:20)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)

FAILURES!!!
Tests run: 1,  Failures: 1

2018-06-05 09:56:30 INFO  [Thread-21] port.GenericApplicationContext - [] Closing org.springframework.context.support.GenericApplicationContext@74bf4cd7: startup date [Tue Jun 05 11:56:30 CEST 2018]; root of context hierarchy
