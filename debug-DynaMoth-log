dk.alexandra.fresco.suite.spdz.maccheck.TestMacCheck#testClosedValuesIncorrectSize
.SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/root/workspace/aicis/fresco/356933402/.m2/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/root/repairnator-pipeline.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
17:20:13,061 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]
17:20:13,061 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]
17:20:13,061 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [jar:file:/root/repairnator-pipeline.jar!/logback.xml]
17:20:13,062 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs multiple times on the classpath.
17:20:13,062 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs at [jar:file:/root/repairnator-pipeline.jar!/logback.xml]
17:20:13,062 |-WARN in ch.qos.logback.classic.LoggerContext[default] - Resource [logback.xml] occurs at [file:/root/logback.xml]
17:20:13,080 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@721e2abb - URL [jar:file:/root/repairnator-pipeline.jar!/logback.xml] is not of type file
17:20:13,133 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set
17:20:13,134 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]
17:20:13,142 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]
17:20:13,148 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property
17:20:13,191 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [fr.inria.jtravis.helpers] to WARN
17:20:13,191 |-INFO in ch.qos.logback.classic.joran.action.LoggerAction - Setting level of logger [org.apache] to OFF
17:20:13,191 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to DEBUG
17:20:13,191 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]
17:20:13,191 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.
17:20:13,192 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@6a6dba57 - Registering current configuration as safe fallback point

SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]
17:20:13.426 [Thread-1] DEBUG d.a.f.f.network.KryoNetNetwork - P2: Trying to bind to 9002
17:20:13.426 [Thread-0] DEBUG d.a.f.f.network.KryoNetNetwork - P1: Trying to bind to 9001
17:20:13.460 [Thread-1] DEBUG d.a.f.f.network.KryoNetNetwork - P2: Successfully connected to all parties!
17:20:13.460 [Thread-0] DEBUG d.a.f.f.network.KryoNetNetwork - P1: Successfully connected to all parties!
17:20:13.464 [SCE-1] INFO  d.a.f.f.s.SecureComputationEngineImpl - Running application: dk.alexandra.fresco.lib.math.integer.division.DivisionTests$TestDivision$1$$Lambda$3/329696663@323b430b using protocol suite: dk.alexandra.fresco.suite.spdz.SpdzProtocolSuite@3cfcbb3c
17:20:13.464 [SCE-2] INFO  d.a.f.f.s.SecureComputationEngineImpl - Running application: dk.alexandra.fresco.lib.math.integer.division.DivisionTests$TestDivision$1$$Lambda$3/329696663@10fec6cd using protocol suite: dk.alexandra.fresco.suite.spdz.SpdzProtocolSuite@1e392aa2
17:20:13.685 [Thread-1] ERROR d.a.f.framework.TestThreadRunner - TestThread(dk.alexandra.fresco.suite.spdz.SpdzResourcePoolImpl@776412a9) threw exception during test:
java.lang.RuntimeException: Execution exception when running the application
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.runApplication(SecureComputationEngineImpl.java:61)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngine.runApplication(SecureComputationEngine.java:37)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.runApplication(TestThreadRunner.java:41)
	at dk.alexandra.fresco.lib.math.integer.division.DivisionTests$TestDivision$1.test(DivisionTests.java:163)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.runTest(TestThreadRunner.java:65)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.run(TestThreadRunner.java:53)
Caused by: dk.alexandra.fresco.framework.MaliciousException: Malicious activity detected: Amount of closed values does not equal the amount of partially opened values. Aborting!
	at dk.alexandra.fresco.suite.spdz.gates.SpdzMacCheckProtocol.lambda$buildComputation$2(SpdzMacCheckProtocol.java:71)
	at dk.alexandra.fresco.framework.builder.ProtocolBuilderImpl.lambda$seq$2(ProtocolBuilderImpl.java:94)
	at dk.alexandra.fresco.framework.builder.BuildStepSingle.createNextStep(BuildStepSingle.java:30)
	at dk.alexandra.fresco.framework.builder.BuildStep.createProducer(BuildStep.java:127)
	at dk.alexandra.fresco.framework.builder.ProtocolBuilderImpl.lambda$seq$3(ProtocolBuilderImpl.java:97)
	at dk.alexandra.fresco.lib.helper.LazyProtocolProducerDecorator.getInnerProtocolProducer(LazyProtocolProducerDecorator.java:35)
	at dk.alexandra.fresco.lib.helper.SequentialProtocolProducer.inline(SequentialProtocolProducer.java:41)
	at dk.alexandra.fresco.lib.helper.SequentialProtocolProducer.getNextProtocols(SequentialProtocolProducer.java:25)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedProtocolEvaluator.eval(BatchedProtocolEvaluator.java:54)
	at dk.alexandra.fresco.suite.spdz.SpdzRoundSynchronization.doMacCheck(SpdzRoundSynchronization.java:49)
	at dk.alexandra.fresco.suite.spdz.SpdzRoundSynchronization.finishedBatch(SpdzRoundSynchronization.java:63)
	at dk.alexandra.fresco.suite.spdz.SpdzRoundSynchronization.finishedBatch(SpdzRoundSynchronization.java:19)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedProtocolEvaluator.eval(BatchedProtocolEvaluator.java:65)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.evalApplication(SecureComputationEngineImpl.java:81)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.lambda$startApplication$0(SecureComputationEngineImpl.java:69)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
17:20:13.685 [Thread-0] ERROR d.a.f.framework.TestThreadRunner - TestThread(dk.alexandra.fresco.suite.spdz.SpdzResourcePoolImpl@38203742) threw exception during test:
java.lang.RuntimeException: Execution exception when running the application
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.runApplication(SecureComputationEngineImpl.java:61)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngine.runApplication(SecureComputationEngine.java:37)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.runApplication(TestThreadRunner.java:41)
	at dk.alexandra.fresco.lib.math.integer.division.DivisionTests$TestDivision$1.test(DivisionTests.java:163)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.runTest(TestThreadRunner.java:65)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.run(TestThreadRunner.java:53)
Caused by: dk.alexandra.fresco.framework.MaliciousException: Malicious activity detected: Amount of closed values does not equal the amount of partially opened values. Aborting!
	at dk.alexandra.fresco.suite.spdz.gates.SpdzMacCheckProtocol.lambda$buildComputation$2(SpdzMacCheckProtocol.java:71)
	at dk.alexandra.fresco.framework.builder.ProtocolBuilderImpl.lambda$seq$2(ProtocolBuilderImpl.java:94)
	at dk.alexandra.fresco.framework.builder.BuildStepSingle.createNextStep(BuildStepSingle.java:30)
	at dk.alexandra.fresco.framework.builder.BuildStep.createProducer(BuildStep.java:127)
	at dk.alexandra.fresco.framework.builder.ProtocolBuilderImpl.lambda$seq$3(ProtocolBuilderImpl.java:97)
	at dk.alexandra.fresco.lib.helper.LazyProtocolProducerDecorator.getInnerProtocolProducer(LazyProtocolProducerDecorator.java:35)
	at dk.alexandra.fresco.lib.helper.SequentialProtocolProducer.inline(SequentialProtocolProducer.java:41)
	at dk.alexandra.fresco.lib.helper.SequentialProtocolProducer.getNextProtocols(SequentialProtocolProducer.java:25)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedProtocolEvaluator.eval(BatchedProtocolEvaluator.java:54)
	at dk.alexandra.fresco.suite.spdz.SpdzRoundSynchronization.doMacCheck(SpdzRoundSynchronization.java:49)
	at dk.alexandra.fresco.suite.spdz.SpdzRoundSynchronization.finishedBatch(SpdzRoundSynchronization.java:63)
	at dk.alexandra.fresco.suite.spdz.SpdzRoundSynchronization.finishedBatch(SpdzRoundSynchronization.java:19)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedProtocolEvaluator.eval(BatchedProtocolEvaluator.java:65)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.evalApplication(SecureComputationEngineImpl.java:81)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.lambda$startApplication$0(SecureComputationEngineImpl.java:69)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
17:20:13.686 [Thread-1] DEBUG d.a.f.f.network.KryoNetNetwork - P2: Shutting down KryoNet network
17:20:13.686 [Thread-0] DEBUG d.a.f.f.network.KryoNetNetwork - P1: Shutting down KryoNet network
17:20:13.687 [pool-1-thread-1] DEBUG d.a.f.f.network.KryoNetNetwork - P1: Shutting down KryoNet network
17:20:13.687 [pool-1-thread-1] DEBUG d.a.f.f.network.KryoNetNetwork - P2: Shutting down KryoNet network

Time: 0.671

OK (1 test)

dk.alexandra.fresco.suite.spdz.maccheck.TestMacCheck#testMacCorrupt
.17:20:13.700 [Thread-3] DEBUG d.a.f.f.network.KryoNetNetwork - P2: Trying to bind to 9002
17:20:13.700 [Thread-2] DEBUG d.a.f.f.network.KryoNetNetwork - P1: Trying to bind to 9001
17:20:13.702 [Thread-3] DEBUG d.a.f.f.network.KryoNetNetwork - P2: Successfully connected to all parties!
17:20:13.703 [Thread-2] DEBUG d.a.f.f.network.KryoNetNetwork - P1: Successfully connected to all parties!
17:20:13.703 [SCE-3] INFO  d.a.f.f.s.SecureComputationEngineImpl - Running application: dk.alexandra.fresco.lib.math.integer.division.DivisionTests$TestDivision$1$$Lambda$3/329696663@2cb819e2 using protocol suite: dk.alexandra.fresco.suite.spdz.SpdzProtocolSuite@227fe205
17:20:13.703 [SCE-4] INFO  d.a.f.f.s.SecureComputationEngineImpl - Running application: dk.alexandra.fresco.lib.math.integer.division.DivisionTests$TestDivision$1$$Lambda$3/329696663@5fe047d3 using protocol suite: dk.alexandra.fresco.suite.spdz.SpdzProtocolSuite@5127b25f
17:20:14.426 [Thread-3] ERROR d.a.f.framework.TestThreadRunner - TestThread(dk.alexandra.fresco.suite.spdz.SpdzResourcePoolImpl@489e25aa) threw exception during test:
java.lang.RuntimeException: Execution exception when running the application
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.runApplication(SecureComputationEngineImpl.java:61)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngine.runApplication(SecureComputationEngine.java:37)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.runApplication(TestThreadRunner.java:41)
	at dk.alexandra.fresco.lib.math.integer.division.DivisionTests$TestDivision$1.test(DivisionTests.java:163)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.runTest(TestThreadRunner.java:65)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.run(TestThreadRunner.java:53)
Caused by: java.lang.ArrayStoreException: dk.alexandra.fresco.framework.util.Pair
	at java.util.stream.Nodes$FixedNodeBuilder.accept(Nodes.java:1222)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:545)
	at java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:438)
	at dk.alexandra.fresco.suite.spdz.storage.SpdzDummyDataSupplier.getNextExpPipe(SpdzDummyDataSupplier.java:60)
	at dk.alexandra.fresco.suite.spdz.SpdzExponentiationPipeProtocol.evaluate(SpdzExponentiationPipeProtocol.java:21)
	at dk.alexandra.fresco.suite.spdz.SpdzExponentiationPipeProtocol.evaluate(SpdzExponentiationPipeProtocol.java:10)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedStrategy.evaluateCurrentRound(BatchedStrategy.java:52)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedStrategy.processBatch(BatchedStrategy.java:40)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedProtocolEvaluator.eval(BatchedProtocolEvaluator.java:58)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.evalApplication(SecureComputationEngineImpl.java:81)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.lambda$startApplication$0(SecureComputationEngineImpl.java:69)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
17:20:14.426 [Thread-2] ERROR d.a.f.framework.TestThreadRunner - TestThread(dk.alexandra.fresco.suite.spdz.SpdzResourcePoolImpl@4c055252) threw exception during test:
java.lang.RuntimeException: Execution exception when running the application
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.runApplication(SecureComputationEngineImpl.java:61)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngine.runApplication(SecureComputationEngine.java:37)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.runApplication(TestThreadRunner.java:41)
	at dk.alexandra.fresco.lib.math.integer.division.DivisionTests$TestDivision$1.test(DivisionTests.java:163)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.runTest(TestThreadRunner.java:65)
	at dk.alexandra.fresco.framework.TestThreadRunner$TestThread.run(TestThreadRunner.java:53)
Caused by: java.lang.ArrayStoreException: dk.alexandra.fresco.framework.util.Pair
	at java.util.stream.Nodes$FixedNodeBuilder.accept(Nodes.java:1222)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:545)
	at java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)
	at java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:438)
	at dk.alexandra.fresco.suite.spdz.storage.SpdzDummyDataSupplier.getNextExpPipe(SpdzDummyDataSupplier.java:60)
	at dk.alexandra.fresco.suite.spdz.SpdzExponentiationPipeProtocol.evaluate(SpdzExponentiationPipeProtocol.java:21)
	at dk.alexandra.fresco.suite.spdz.SpdzExponentiationPipeProtocol.evaluate(SpdzExponentiationPipeProtocol.java:10)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedStrategy.evaluateCurrentRound(BatchedStrategy.java:52)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedStrategy.processBatch(BatchedStrategy.java:40)
	at dk.alexandra.fresco.framework.sce.evaluator.BatchedProtocolEvaluator.eval(BatchedProtocolEvaluator.java:58)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.evalApplication(SecureComputationEngineImpl.java:81)
	at dk.alexandra.fresco.framework.sce.SecureComputationEngineImpl.lambda$startApplication$0(SecureComputationEngineImpl.java:69)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
17:20:14.427 [Thread-3] DEBUG d.a.f.f.network.KryoNetNetwork - P2: Shutting down KryoNet network
17:20:14.427 [Thread-2] DEBUG d.a.f.f.network.KryoNetNetwork - P1: Shutting down KryoNet network
17:20:14.427 [pool-2-thread-1] DEBUG d.a.f.f.network.KryoNetNetwork - P1: Shutting down KryoNet network
17:20:14.428 [pool-2-thread-1] DEBUG d.a.f.f.network.KryoNetNetwork - P2: Shutting down KryoNet network
E
Time: 0.739
There was 1 failure:
1) testMacCorrupt(dk.alexandra.fresco.suite.spdz.maccheck.TestMacCheck)
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.fail(Assert.java:95)
	at dk.alexandra.fresco.suite.spdz.maccheck.TestMacCheck.testMacCorrupt(TestMacCheck.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at fr.inria.lille.repair.MethodTestRunner.runTest(MethodTestRunner.java:44)
	at fr.inria.lille.repair.MethodTestRunner.access$000(MethodTestRunner.java:12)
	at fr.inria.lille.repair.MethodTestRunner$1.call(MethodTestRunner.java:20)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)

FAILURES!!!
Tests run: 1,  Failures: 1

