<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>RedisConstants.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">redis-proxy-core</a> &gt; <a href="index.source.html" class="el_package">com.rains.proxy.core.constants</a> &gt; <span class="el_source">RedisConstants.java</span></div><h1>RedisConstants.java</h1><pre class="source lang-java linenums">/**
 * 
 */
package com.rains.proxy.core.constants;


import com.rains.proxy.core.utils.ReflectUtils;

import java.util.regex.Pattern;


/**
 * 常量
 * @author liubing
 *
 */
public class RedisConstants {
	
	public static final String SEPERATOR_ACCESS_LOG = &quot;|&quot;;
    public static final String COMMA_SEPARATOR = &quot;,&quot;;
<span class="nc" id="L21">    public static final Pattern COMMA_SPLIT_PATTERN = Pattern.compile(&quot;\\s*[,]+\\s*&quot;);</span>
    public static final String PROTOCOL_SEPARATOR = &quot;:&quot;;
    public static final String PATH_SEPARATOR = &quot;/&quot;;
    public static final String REGISTRY_SEPARATOR = &quot;|&quot;;
<span class="nc" id="L25">    public static final Pattern REGISTRY_SPLIT_PATTERN = Pattern.compile(&quot;\\s*[|;]+\\s*&quot;);</span>
    public static final String SEMICOLON_SEPARATOR = &quot;;&quot;;
<span class="nc" id="L27">    public static final Pattern SEMICOLON_SPLIT_PATTERN = Pattern.compile(&quot;\\s*[;]+\\s*&quot;);</span>
    public static final String QUERY_PARAM_SEPARATOR = &quot;&amp;&quot;;
<span class="nc" id="L29">    public static final Pattern QUERY_PARAM_PATTERN = Pattern.compile(&quot;\\s*[&amp;]+\\s*&quot;);</span>
    public static final String EQUAL_SIGN_SEPERATOR = &quot;=&quot;;
<span class="nc" id="L31">    public static final Pattern EQUAL_SIGN_PATTERN = Pattern.compile(&quot;\\s*[=]\\s*&quot;);</span>

    public static final int MILLS = 1;
    public static final int SECOND_MILLS = 1000;
    public static final int MINUTE_MILLS = 60 * SECOND_MILLS;
    public static final String DEFAULT_VALUE = &quot;default&quot;;
    public static final int DEFAULT_INT_VALUE = 0;
    public static final String DEFAULT_VERSION = &quot;1.0&quot;;
    public static final boolean DEFAULT_THROWS_EXCEPTION = true;
    public static final String DEFAULT_CHARACTER = &quot;utf-8&quot;;
    public static final int SLOW_COST = 50; // 50ms
    public static final int STATISTIC_PEROID = 30; // 30 seconds
    
    public static final String KEYS=&quot;keys&quot;;
    
    public static final String INFO=&quot;info&quot;;
    
    public static final String PING=&quot;ping&quot;;
    
    public static final String PONG=&quot;pong&quot;;
    
    public static final String ZOOKEEPER_REGISTRY_NAMESPACE = &quot;/nredis-proxy&quot;;
    
    
    public static final String ZOOKEEPER_REGISTRY_COMMAND = &quot;/command&quot;;
    
    public static final String TOP_PATH=&quot;/nredis-proxy/command/server&quot;;
    
    public static final String REGISTRY_HEARTBEAT_SWITCHER = &quot;feature.configserver.heartbeat&quot;;
    
    public static final String ADDRESS=&quot;zkAddress&quot;;
    
<span class="nc" id="L63">    public static final Integer TIMEOUT=500;</span>
    /**
     * netty channel constants start
     **/

    // netty codec
    public static final short NETTY_MAGIC_TYPE = (short) 0xF1F1;
    // netty header length
    public static final int NETTY_HEADER = 16;
    // netty server max excutor thread
    public static final int NETTY_EXECUTOR_MAX_SIZE = 800;
    // netty thread idle time: 1 mintue
    public static final int NETTY_THREAD_KEEPALIVE_TIME = 60 * 1000;
    // netty client max concurrent request TODO 2W is suitable?
    public static final int NETTY_CLIENT_MAX_REQUEST = 20000;
    // share channel max worker thread
    public static final int NETTY_SHARECHANNEL_MAX_WORKDER = 800;
    // share channel min worker thread
    public static final int NETTY_SHARECHANNEL_MIN_WORKDER = 40;
    // don't share channel max worker thread
    public static final int NETTY_NOT_SHARECHANNEL_MAX_WORKDER = 200;
    // don't share channel min worker thread
    public static final int NETTY_NOT_SHARECHANNEL_MIN_WORKDER = 20;
    public static final int NETTY_TIMEOUT_TIMER_PERIOD = 100;
    public static final byte NETTY_REQUEST_TYPE = 1;
    public static final byte FLAG_REQUEST = 0x00;
    public static final byte FLAG_RESPONSE = 0x01;
    public static final byte FLAG_RESPONSE_VOID = 0x03;
    public static final byte FLAG_RESPONSE_EXCEPTION = 0x05;
    public static final byte FLAG_RESPONSE_ATTACHMENT = 0x07;
    public static final byte FLAG_OTHER = (byte) 0xFF;
    /**
     * heartbeat constants start
     */
    public static final int HEARTBEAT_PERIOD = 500;

    public static final String HHEARTBEAT_PARAM = ReflectUtils.EMPTY_PARAM;
    /**
     * heartbeat constants end
     */

    /**
     * 默认的consistent的hash的数量
     */
    public static final int DEFAULT_CONSISTENT_HASH_BASE_LOOP = 1000;
    
    /**
     * 
     */
    public static final String WEIGHT_RULE=&quot;weight_rule&quot;;//权重规则
    
    public static final String REDIS_PROXY=&quot;nredis_proxy_&quot;;
    
    public static final char DOLLAR_BYTE = '$';
    public static final char ASTERISK_BYTE = '*';
    public static final char SPACE_BYTE = ' ';

    public static final char PING_BYTE = 'P';
    public static final char COLON_BYTE = ':';
    public static final char OK_BYTE = '+';
    public static final char ERROR_BYTE = '-';
    public static final char CR_BYTE = '\r';
    public static final char LF_BYTE = '\n';

<span class="nc" id="L127">    private RedisConstants() {</span>
<span class="nc" id="L128">    }</span>
}	
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>