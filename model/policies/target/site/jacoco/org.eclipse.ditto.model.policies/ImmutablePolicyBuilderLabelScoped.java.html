<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ImmutablePolicyBuilderLabelScoped.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Eclipse Ditto :: Model :: Policies</a> &gt; <a href="index.source.html" class="el_package">org.eclipse.ditto.model.policies</a> &gt; <span class="el_source">ImmutablePolicyBuilderLabelScoped.java</span></div><h1>ImmutablePolicyBuilderLabelScoped.java</h1><pre class="source lang-java linenums">/*
 * Copyright (c) 2017 Bosch Software Innovations GmbH.
 *
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Eclipse Public License v2.0
 * which accompanies this distribution, and is available at
 * https://www.eclipse.org/org/documents/epl-2.0/index.php
 *
 * Contributors:
 *    Bosch Software Innovations GmbH - initial contribution
 */
package org.eclipse.ditto.model.policies;

import static org.eclipse.ditto.model.base.common.ConditionChecker.checkNotNull;

import java.time.Instant;

import javax.annotation.Nullable;
import javax.annotation.concurrent.NotThreadSafe;

/**
 * A mutable builder for a {@link ImmutablePolicy} with a fluent API scoped to a specified {@link Label}.
 */
@NotThreadSafe
final class ImmutablePolicyBuilderLabelScoped implements PolicyBuilder.LabelScoped {

    private final PolicyBuilder delegate;
    private final Label label;

<span class="fc" id="L30">    private ImmutablePolicyBuilderLabelScoped(final PolicyBuilder delegate, final Label label) {</span>
<span class="fc" id="L31">        this.delegate = delegate;</span>
<span class="fc" id="L32">        this.label = label;</span>
<span class="fc" id="L33">    }</span>

    /**
     * Returns a new empty builder for a {@code Policy} but scoped to the provided {@code label}.
     *
     * @return the new builder.
     */
    public static PolicyBuilder.LabelScoped newInstance(final PolicyBuilder delegate, final Label label) {
<span class="fc" id="L41">        return new ImmutablePolicyBuilderLabelScoped(checkNotNull(delegate, &quot;delegate&quot;), checkNotNull(label, &quot;label&quot;));</span>
    }

    @Override
    public LabelScoped forLabel(final Label label) {
<span class="fc" id="L46">        return newInstance(delegate, label);</span>
    }

    @Override
    public Label getLabel() {
<span class="fc" id="L51">        return label;</span>
    }

    @Override
    public PolicyBuilder exitLabel() {
<span class="nc" id="L56">        return delegate;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setId(@Nullable final CharSequence id) {
<span class="nc" id="L61">        delegate.setId(id);</span>
<span class="nc" id="L62">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setLifecycle(@Nullable final PolicyLifecycle lifecycle) {
<span class="nc" id="L67">        delegate.setLifecycle(lifecycle);</span>
<span class="nc" id="L68">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setRevision(@Nullable final PolicyRevision revision) {
<span class="nc" id="L73">        delegate.setRevision(revision);</span>
<span class="nc" id="L74">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setModified(@Nullable final Instant modified) {
<span class="nc" id="L79">        delegate.setModified(modified);</span>
<span class="nc" id="L80">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped set(final PolicyEntry entry) {
<span class="nc" id="L85">        delegate.set(entry);</span>
<span class="nc" id="L86">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setAll(final Iterable&lt;PolicyEntry&gt; entries) {
<span class="nc" id="L91">        delegate.setAll(entries);</span>
<span class="nc" id="L92">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped remove(final CharSequence label) {
<span class="nc" id="L97">        delegate.remove(label);</span>
<span class="nc" id="L98">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped remove(final PolicyEntry entry) {
<span class="nc" id="L103">        delegate.remove(entry);</span>
<span class="nc" id="L104">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped removeAll(final Iterable&lt;PolicyEntry&gt; entries) {
<span class="nc" id="L109">        delegate.removeAll(entries);</span>
<span class="nc" id="L110">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setSubjectsFor(final CharSequence label, final Subjects subjects) {
<span class="nc" id="L115">        delegate.setSubjectsFor(label, subjects);</span>
<span class="nc" id="L116">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setSubjectFor(final CharSequence label, final Subject subject) {
<span class="fc" id="L121">        delegate.setSubjectFor(label, subject);</span>
<span class="fc" id="L122">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped removeSubjectFor(final CharSequence label, final CharSequence subjectId) {
<span class="nc" id="L127">        delegate.removeSubjectFor(label, subjectId);</span>
<span class="nc" id="L128">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped removeSubjectFor(final CharSequence label, final Subject subject) {
<span class="nc" id="L133">        delegate.removeSubjectFor(label, subject);</span>
<span class="nc" id="L134">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setResourcesFor(final CharSequence label, final Resources resources) {
<span class="nc" id="L139">        delegate.setResourcesFor(label, resources);</span>
<span class="nc" id="L140">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setResourceFor(final CharSequence label, final Resource resource) {
<span class="nc" id="L145">        delegate.setResourceFor(label, resource);</span>
<span class="nc" id="L146">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped removeResourceFor(final CharSequence label,
            final ResourceKey resourceKey) {

<span class="nc" id="L153">        delegate.removeResourceFor(label, resourceKey);</span>
<span class="nc" id="L154">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped removeResourceFor(final CharSequence label, final Resource resource) {
<span class="nc" id="L159">        delegate.removeResourceFor(label, resource);</span>
<span class="nc" id="L160">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setPermissionsFor(final CharSequence label, final ResourceKey resourceKey,
            final EffectedPermissions effectedPermissions) {

<span class="nc" id="L167">        delegate.setPermissionsFor(label, resourceKey, effectedPermissions);</span>
<span class="nc" id="L168">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setGrantedPermissionsFor(final CharSequence label,
            final ResourceKey resourceKey, final Permissions grantedPermissions) {

<span class="fc" id="L175">        delegate.setGrantedPermissionsFor(label, resourceKey, grantedPermissions);</span>
<span class="fc" id="L176">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setGrantedPermissionsFor(final CharSequence label,
            final ResourceKey resourceKey,
            final String grantedPermission,
            final String... furtherGrantedPermissions) {

<span class="nc" id="L185">        delegate.setGrantedPermissionsFor(label, resourceKey, grantedPermission, furtherGrantedPermissions);</span>
<span class="nc" id="L186">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setRevokedPermissionsFor(final CharSequence label,
            final ResourceKey resourceKey, final Permissions revokedPermissions) {

<span class="fc" id="L193">        delegate.setRevokedPermissionsFor(label, resourceKey, revokedPermissions);</span>
<span class="fc" id="L194">        return this;</span>
    }

    @Override
    public ImmutablePolicyBuilderLabelScoped setRevokedPermissionsFor(final CharSequence label,
            final ResourceKey resourceKey,
            final String revokedPermission,
            final String... furtherRevokedPermissions) {

<span class="nc" id="L203">        delegate.setRevokedPermissionsFor(label, resourceKey, revokedPermission, furtherRevokedPermissions);</span>
<span class="nc" id="L204">        return this;</span>
    }

    @Override
    public Policy build() {
<span class="fc" id="L209">        return delegate.build();</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.0.201801022044</span></div></body></html>