--- /XSD2OWLMapper.java
+++ /XSD2OWLMapper.java
@@ -166,7 +166,17 @@
         try {
-            URI uri = new URI(schema.getTargetNamespace());
-            if (uri.isAbsolute()) {
-                mainURI = schema.getTargetNamespace();
+            if (schema != null) {
+                URI uri = new URI(schema.getTargetNamespace());
+            }
+            if (uri == null) {
+                if ( new URI(null, null, null).isAbsolute()) {
+                    mainURI = schema.getTargetNamespace();
+                } else {
+                    mainURI = "http://uri-not-absolute.com";
+                }
             } else {
-                mainURI = "http://uri-not-absolute.com";
+                if (uri.isAbsolute()) {
+                    mainURI = schema.getTargetNamespace();
+                } else {
+                    mainURI = "http://uri-not-absolute.com";
+                }
             }
@@ -188,18 +198,47 @@
     public void convertXSD2OWL() {
-        Iterator<XSSimpleType> simpleTypes = schema.iterateSimpleTypes();
-        while (simpleTypes.hasNext()) {
-            convertSimpleType((XSSimpleType) simpleTypes.next(), null);
+        if (schema != null) {
+            Iterator<XSSimpleType> simpleTypes = schema.iterateSimpleTypes();
         }
+        if (simpleTypes == null) {
+            while ( new NullIterator().hasNext()) {
+                convertSimpleType((XSSimpleType) simpleTypes.next(), null);
+            }
+        } else {
+            while (simpleTypes.hasNext()) {
+                convertSimpleType((XSSimpleType) simpleTypes.next(), null);
+            }
+        }
 
-        Iterator<XSComplexType> complexTypes = schema.iterateComplexTypes();
-        while (complexTypes.hasNext()) {
-            convertComplexType((XSComplexType) complexTypes.next(), null);
+        if (schema != null) {
+            Iterator<XSComplexType> complexTypes = schema.iterateComplexTypes();
         }
+        if (complexTypes == null) {
+            while ( new NullIterator().hasNext()) {
+                convertComplexType((XSComplexType) complexTypes.next(), null);
+            }
+        } else {
+            while (complexTypes.hasNext()) {
+                convertComplexType((XSComplexType) complexTypes.next(), null);
+            }
+        }
 
-        Iterator<XSElementDecl> elements = schema.iterateElementDecls();
-        while (elements.hasNext()) {
-            convertElement((XSElementDecl) elements.next(), null);
+        if (schema != null) {
+            Iterator<XSElementDecl> elements = schema.iterateElementDecls();
         }
+        if (elements == null) {
+            while ( new NullIterator().hasNext()) {
+                convertElement((XSElementDecl) elements.next(), null);
+            }
+        } else {
+            while (elements.hasNext()) {
+                convertElement((XSElementDecl) elements.next(), null);
+            }
+        }
 
-        Iterator<XSModelGroupDecl> groups = schema.iterateModelGroupDecls();
+        if (schema != null) {
+            Iterator<XSModelGroupDecl> groups = schema.iterateModelGroupDecls();
+        }
+        if (groups == null) {
+            groups = new NullIterator();
+        }
         while (groups.hasNext()) {
@@ -208,2 +247,5 @@
 
+        if (schema == null) {
+            return null;
+        }
         Iterator<XSAttGroupDecl> attGroups = schema.iterateAttGroupDecls();
