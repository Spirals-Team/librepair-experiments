<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tangly.mapper.UserInfoMapper">
  <resultMap id="BaseResultMap" type="com.tangly.entity.UserInfo">
    <!--
      WARNING - @mbg.generated
    -->
    <id column="id" jdbcType="BIGINT" property="id" />
    <result column="name" jdbcType="VARCHAR" property="name" />
    <result column="available" jdbcType="BIT" property="available" />
    <result column="permission" jdbcType="VARCHAR" property="permission" />
  </resultMap>

    <cache eviction="FIFO" flushInterval="60000" readOnly="true" size="512" />

    <!--<resultMap id="UserInfoResultMap" type="com.tangly.entity.UserInfo">-->
        <!--<id column="u_id" jdbcType="INTEGER" property="uid" />-->
        <!--<result column="u_name" jdbcType="VARCHAR" property="name" />-->
        <!--<result column="u_username" jdbcType="VARCHAR" property="username" />-->
        <!--<result column="u_password" jdbcType="VARCHAR" property="password" />-->
        <!--<result column="u_salt" jdbcType="VARCHAR" property="salt" />-->
        <!--<result column="u_state" jdbcType="TINYINT" property="state" />-->
        <!--<collection fetchType="lazy" ofType="com.tangly.entity.SysRole" property="roleList">-->
            <!--<id column="r_id" jdbcType="INTEGER" property="id" />-->
            <!--<result column="r_role" jdbcType="VARCHAR" property="role" />-->
            <!--<collection fetchType="lazy" ofType="SysPermission" property="permissions">-->
                <!--<id column="p_id" jdbcType="INTEGER" property="id" />-->
                <!--<result column="p_name" jdbcType="VARCHAR" property="name" />-->
            <!--</collection>-->
        <!--</collection>-->
    <!--</resultMap>-->

    <!--<select id="getUser" resultMap="UserInfoResultMap">-->
        <!--SELECT-->
            <!--u.uid      u_id,-->
            <!--u.name     u_name,-->
            <!--u.username u_username,-->
            <!--u.salt     u_salt,-->
            <!--u.password u_password,-->
            <!--u.state    u_state,-->
            <!--r.id  r_id,-->
            <!--r.role     r_role,-->
            <!--p.id       p_id,-->
            <!--p.name     p_name-->
        <!--FROM-->
            <!--user_info u-->
            <!--LEFT JOIN sys_user_role ur ON ur.uid = u.uid-->
            <!--LEFT JOIN sys_role r ON r.role_id = ur.role_id-->
            <!--LEFT JOIN sys_role_permission rp ON rp.role_id = r.id-->
            <!--LEFT JOIN sys_permission p ON p.id = rp.permission_id-->
        <!--WHERE u.username = #{username}-->
    <!--</select>-->
</mapper>