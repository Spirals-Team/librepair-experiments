(function(c,a){var b=new a.RestClient();c(function(){var d;c(".execute").click(function(){d=c(this).parent().siblings(".name").text();var e=c(this).attr("data-hasAttributes");if(e=="false"){window.open("/scripts/"+encodeURIComponent(d)+"/start")}else{var f=Handlebars.compile(c("#parameters-template").html());b.getAsync("/api/v1/sys"+a.packageSeparator+"scr"+a.packageSeparator+"Script",{q:{q:[{field:"name",operator:"EQUALS",value:d}]},expand:["parameters"]},function(g){c("#parametersForm").html(f({parameters:g.items[0].parameters.items}));c("#parametersModal").modal("show")})}});c("#runWithParametersButton").click(function(){var e=c("#parametersForm");e.validate();if(e.valid()){window.open("/scripts/"+encodeURIComponent(d)+"/start?"+e.serialize())}});c("#create-script-btn").click(function(f){React.render(a.ui.Form({mode:"create",entity:"sys"+a.packageSeparator+"scr"+a.packageSeparator+"Script",modal:true,onSubmitSuccess:function(){location.reload()}}),c("<div>")[0])});c(".edit-script-btn").click(function(){var e=c(this).parent().siblings(".name").text();React.render(a.ui.Form({mode:"edit",entity:"sys"+a.packageSeparator+"scr"+a.packageSeparator+"Script",entityInstance:encodeURIComponent(e),modal:true,onSubmitSuccess:function(){location.reload()}}),c("<div>")[0])});c(".delete-script-btn").click(function(){var e=c(this).parent().siblings(".name").text();if(confirm("Delete script named "+e+" ?")){b.remove("/api/v1/sys"+a.packageSeparator+"scr"+a.packageSeparator+"Script/"+encodeURIComponent(e),{success:function(){},error:function(){}});location.reload()}});c(".delete-script-parameter-btn").click(function(){var e=c(this).parent().siblings(".name").text();if(confirm("Delete script parameter named "+e+" ?")){b.remove("/api/v1/sys"+a.packageSeparator+"scr"+a.packageSeparator+"ScriptParameter/"+encodeURIComponent(e),{success:function(){location.reload()},error:function(){}})}});c("#create-scriptparameter-btn").click(function(){React.render(a.ui.Form({mode:"create",entity:"sys"+a.packageSeparator+"scr"+a.packageSeparator+"ScriptParameter",modal:true,onSubmitSuccess:function(){location.reload()}}),c("<div>")[0])})})})($,window.top.molgenis=window.top.molgenis||{});