location: SourceLocation org.eclipse.ditto.services.connectivity.messaging.BaseClientActor:416
type: PRECONDITION
patch: --- /root/workspace/eclipse/ditto/374304236/services/connectivity/messaging/src/main/java/org/eclipse/ditto/services/connectivity/messaging/BaseClientActor.java
+++ /root/workspace/eclipse/ditto/374304236/services/connectivity/messaging/src/main/java/org/eclipse/ditto/services/connectivity/messaging/BaseClientActor.java
@@ -415,3 +415,5 @@
         LogUtil.enhanceLogWithCustomField(log, BaseClientData.MDC_CONNECTION_ID, connectionId());
-        stopMessageMappingProcessorActor();
+        if (!this.shouldBeConnecting((org.eclipse.ditto.services.connectivity.messaging.BaseClientData) data) == !this.isPublishing()) {
+            stopMessageMappingProcessorActor();
+        }
         onClientDisconnected(event, data);
