--- /WMSHttpHelper.java
+++ /WMSHttpHelper.java
@@ -308,7 +308,19 @@
         // prepare the request
-        NameValuePair[] params = new NameValuePair[queryParams.size()];
+        NameValuePair[] params;
+        if (queryParams == null) {
+            params = new NameValuePair[ new HashMap().size()];
+        } else {
+            params = new NameValuePair[queryParams.size()];
+        }
         int i = 0;
-        for (Map.Entry<String, String> e : queryParams.entrySet()) {
-            params[i] = new NameValuePair(e.getKey(), e.getValue());
-            i++;
+        if (queryParams == null) {
+            for (Map.Entry<String, String> e : new HashMap().entrySet()) {
+                params[i] = new NameValuePair(e.getKey(), e.getValue());
+                i++;
+            }
+        } else {
+            for (Map.Entry<String, String> e : queryParams.entrySet()) {
+                params[i] = new NameValuePair(e.getKey(), e.getValue());
+                i++;
+            }
         }
