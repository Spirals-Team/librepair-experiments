location: SourceLocation org.eclipse.ditto.services.connectivity.messaging.BaseClientActor:722
type: PRECONDITION
patch: --- /root/workspace/eclipse/ditto/374304236/services/connectivity/messaging/src/main/java/org/eclipse/ditto/services/connectivity/messaging/BaseClientActor.java
+++ /root/workspace/eclipse/ditto/374304236/services/connectivity/messaging/src/main/java/org/eclipse/ditto/services/connectivity/messaging/BaseClientActor.java
@@ -721,3 +721,5 @@
             log.debug("Stopping MessageMappingProcessorActor.");
-            getContext().stop(messageMappingProcessorActor);
+            if (this.isConsuming() || !this.isPublishing()) {
+                getContext().stop(messageMappingProcessorActor);
+            }
             messageMappingProcessorActor = null;
