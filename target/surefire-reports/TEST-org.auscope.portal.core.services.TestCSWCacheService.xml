<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="org.auscope.portal.core.services.TestCSWCacheService" time="28.219" tests="13" errors="0" skipped="0" failures="7">
  <properties>
    <property name="java.runtime.name" value="OpenJDK Runtime Environment"/>
    <property name="sun.boot.library.path" value="/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64"/>
    <property name="java.vm.version" value="25.121-b13"/>
    <property name="java.vm.vendor" value="Oracle Corporation"/>
    <property name="maven.multiModuleProjectDirectory" value="/root/workspace/AuScope/portal-core/385530692"/>
    <property name="java.vendor.url" value="http://java.oracle.com/"/>
    <property name="path.separator" value=":"/>
    <property name="guice.disable.misplaced.annotation.check" value="true"/>
    <property name="skip.gulp" value="true"/>
    <property name="java.vm.name" value="OpenJDK 64-Bit Server VM"/>
    <property name="file.encoding.pkg" value="sun.io"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.os.patch.level" value="unknown"/>
    <property name="findbugs.skip" value="true"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="user.dir" value="/root/workspace/AuScope/portal-core/385530692"/>
    <property name="checkstyle.skip" value="true"/>
    <property name="java.runtime.version" value="1.8.0_121-8u121-b13-1~bpo8+1-b13"/>
    <property name="java.awt.graphicsenv" value="sun.awt.X11GraphicsEnvironment"/>
    <property name="skip.npm" value="true"/>
    <property name="java.endorsed.dirs" value="/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/endorsed"/>
    <property name="os.arch" value="amd64"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="gpg.skip" value="true"/>
    <property name="line.separator" value="&#10;"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="cobertura.skip" value="true"/>
    <property name="os.name" value="Linux"/>
    <property name="classworlds.conf" value="/usr/share/maven/bin/m2.conf"/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.library.path" value="/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib"/>
    <property name="license.skip" value="true"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.class.version" value="52.0"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="skip.bower" value="true"/>
    <property name="maven.repo.local" value="/root/./workspace/AuScope/portal-core/385530692/.m2"/>
    <property name="os.version" value="3.10.0-862.2.3.el7.x86_64"/>
    <property name="user.home" value="/root"/>
    <property name="user.timezone" value="Europe/Paris"/>
    <property name="java.awt.printerjob" value="sun.print.PSPrinterJob"/>
    <property name="java.specification.version" value="1.8"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="user.name" value="root"/>
    <property name="java.class.path" value="/usr/share/maven/boot/plexus-classworlds-2.5.2.jar"/>
    <property name="skipITs" value="true"/>
    <property name="java.vm.specification.version" value="1.8"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.home" value="/usr/lib/jvm/java-8-openjdk-amd64/jre"/>
    <property name="sun.java.command" value="org.codehaus.plexus.classworlds.launcher.Launcher -B -D enforcer.skip=true -D dependency-check.skip=true -D skipITs=true -D cobertura.skip=true -D maven.repo.local=/root/./workspace/AuScope/portal-core/385530692/.m2 -D rat.skip=true -D findbugs.skip=true -D skip.bower=true -D gpg.skip=true -D checkstyle.skip=true -D skip.gulp=true -D license.skip=true -D skip.npm=true test"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="user.language" value="en"/>
    <property name="awt.toolkit" value="sun.awt.X11.XToolkit"/>
    <property name="dependency-check.skip" value="true"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="java.version" value="1.8.0_121"/>
    <property name="java.ext.dirs" value="/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext:/usr/java/packages/lib/ext"/>
    <property name="securerandom.source" value="file:/dev/./urandom"/>
    <property name="sun.boot.class.path" value="/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/classes"/>
    <property name="java.vendor" value="Oracle Corporation"/>
    <property name="enforcer.skip" value="true"/>
    <property name="rat.skip" value="true"/>
    <property name="maven.home" value="/usr/share/maven"/>
    <property name="file.separator" value="/"/>
    <property name="java.vendor.url.bug" value="http://bugreport.sun.com/bugreport/"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="sun.cpu.isalist" value=""/>
  </properties>
  <testcase name="testSerialization" classname="org.auscope.portal.core.services.TestCSWCacheService" time="0.562">
    <failure type="java.lang.AssertionError:">java.lang.AssertionError: null
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.auscope.portal.core.services.TestCSWCacheService.testSerialization(TestCSWCacheService.java:325)
</failure>
    <system-out><![CDATA[2018-05-30 08:09:39,330 [pool-3-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.2.url/': java.lang.IllegalStateException: tried to throw a java.lang.Exception from a method that throws java.io.IOException
2018-05-30 08:09:39,330 [pool-3-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.IllegalStateException: tried to throw a java.lang.Exception from a method that throws java.io.IOException
	at org.jmock.lib.action.ThrowAction.reportIncompatibleCheckedException(ThrowAction.java:62)
	at org.jmock.lib.action.ThrowAction.checkTypeCompatiblity(ThrowAction.java:42)
	at org.jmock.lib.action.ThrowAction.invoke(ThrowAction.java:24)
	at org.jmock.internal.InvocationExpectation.invoke(InvocationExpectation.java:165)
	at org.jmock.internal.InvocationDispatcher.dispatch(InvocationDispatcher.java:81)
	at org.jmock.Mockery.dispatch(Mockery.java:244)
	at org.jmock.Mockery.access$100(Mockery.java:29)
	at org.jmock.Mockery$MockObject.invoke(Mockery.java:284)
	at org.jmock.internal.InvocationDiverter.invoke(InvocationDiverter.java:27)
	at org.jmock.internal.FakeObjectMethods.invoke(FakeObjectMethods.java:38)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.synchroniseInvocation(PortalSynchroniser.java:47)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.access$000(PortalSynchroniser.java:15)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser$1.invoke(PortalSynchroniser.java:21)
	at org.jmock.lib.legacy.ClassImposteriser$4.invoke(ClassImposteriser.java:136)
	at org.auscope.portal.core.server.http.HttpServiceCaller$$EnhancerByCGLIB$$48032eef.getMethodResponseAsStream(<generated>)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:118)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:39,331 [pool-3-thread-2] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:39,331 [pool-3-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-2.ser
2018-05-30 08:09:39,379 [pool-3-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.1.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:39,380 [pool-3-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:39,380 [pool-3-thread-1] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:39,380 [pool-3-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-1.ser
2018-05-30 08:09:39,384 [pool-3-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.3.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:39,384 [pool-3-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:39,385 [pool-3-thread-3] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:39,385 [pool-3-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-3.ser
2018-05-30 08:09:39,385 [pool-3-thread-3] INFO  core.services.CSWCacheService (updateFinished): Keyword cache updated! Cache now has '0' unique keyword names
2018-05-30 08:09:39,385 [pool-3-thread-3] INFO  core.services.CSWCacheService (updateFinished): Record cache updated! Cache now has '0' records
]]></system-out>
  </testcase>
  <testcase name="testSingleUpdate" classname="org.auscope.portal.core.services.TestCSWCacheService" time="1.014"/>
  <testcase name="testMultiUpdate" classname="org.auscope.portal.core.services.TestCSWCacheService" time="0.56">
    <failure message="expected:&lt;75&gt; but was:&lt;0&gt;" type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: expected:<75> but was:<0>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.auscope.portal.core.services.TestCSWCacheService.testMultiUpdate(TestCSWCacheService.java:167)
]]></failure>
    <system-out><![CDATA[2018-05-30 08:09:40,959 [pool-5-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.1.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:40,960 [pool-5-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:40,960 [pool-5-thread-1] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:40,960 [pool-5-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.2.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:40,960 [pool-5-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:40,961 [pool-5-thread-2] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:40,960 [pool-5-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.3.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:40,961 [pool-5-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:40,962 [pool-5-thread-3] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:40,960 [pool-5-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-1.ser
2018-05-30 08:09:40,962 [pool-5-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-3.ser
2018-05-30 08:09:40,961 [pool-5-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-2.ser
2018-05-30 08:09:40,964 [pool-5-thread-2] INFO  core.services.CSWCacheService (updateFinished): Keyword cache updated! Cache now has '0' unique keyword names
2018-05-30 08:09:40,964 [pool-5-thread-2] INFO  core.services.CSWCacheService (updateFinished): Record cache updated! Cache now has '0' records
]]></system-out>
  </testcase>
  <testcase name="testMultiUpdateGet" classname="org.auscope.portal.core.services.TestCSWCacheService" time="0.56">
    <failure message="expected:&lt;75&gt; but was:&lt;0&gt;" type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: expected:<75> but was:<0>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.auscope.portal.core.services.TestCSWCacheService.testMultiUpdateGet(TestCSWCacheService.java:987)
]]></failure>
    <system-out><![CDATA[2018-05-30 08:09:41,465 [pool-6-thread-3] DEBUG services.methodmakers.CSWMethodMakerGetDataRecords (makeGetMethod): cswservice.3.url query sent to GeoNetwork: 
	http://cswservice.3.url/?service=CSW&constraint_language_version=1.1.0&request=GetRecords&version=2.0.2&outputSchema=csw:IsoRecord&typeNames=gmd:MD_Metadata&constraintLanguage=FILTER&namespace=csw:http://www.opengis.net/cat/csw&elementSetName=full&startPosition=1&maxRecords=500&resultType=results
2018-05-30 08:09:41,465 [pool-6-thread-2] DEBUG services.methodmakers.CSWMethodMakerGetDataRecords (makeGetMethod): cswservice.2.url query sent to GeoNetwork: 
	http://cswservice.2.url/?service=CSW&constraint_language_version=1.1.0&request=GetRecords&version=2.0.2&outputSchema=csw:IsoRecord&typeNames=gmd:MD_Metadata&constraintLanguage=FILTER&namespace=csw:http://www.opengis.net/cat/csw&elementSetName=full&startPosition=1&maxRecords=500&resultType=results
2018-05-30 08:09:41,465 [pool-6-thread-1] DEBUG services.methodmakers.CSWMethodMakerGetDataRecords (makeGetMethod): cswservice.1.url query sent to GeoNetwork: 
	http://cswservice.1.url/?service=CSW&constraint_language_version=1.1.0&request=GetRecords&version=2.0.2&outputSchema=csw:IsoRecord&typeNames=gmd:MD_Metadata&constraintLanguage=FILTER&namespace=csw:http://www.opengis.net/cat/csw&elementSetName=full&startPosition=1&maxRecords=500&resultType=results
2018-05-30 08:09:41,520 [pool-6-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.3.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:41,520 [pool-6-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:41,521 [pool-6-thread-3] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:41,521 [pool-6-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-3.ser
2018-05-30 08:09:41,522 [pool-6-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.1.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:41,523 [pool-6-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:41,523 [pool-6-thread-1] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:41,523 [pool-6-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.2.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:41,523 [pool-6-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:41,524 [pool-6-thread-2] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:41,523 [pool-6-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-1.ser
2018-05-30 08:09:41,524 [pool-6-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-2.ser
2018-05-30 08:09:41,525 [pool-6-thread-2] INFO  core.services.CSWCacheService (updateFinished): Keyword cache updated! Cache now has '0' unique keyword names
2018-05-30 08:09:41,525 [pool-6-thread-2] INFO  core.services.CSWCacheService (updateFinished): Record cache updated! Cache now has '0' records
]]></system-out>
  </testcase>
  <testcase name="testVariousErrors" classname="org.auscope.portal.core.services.TestCSWCacheService" time="4.055"/>
  <testcase name="testKeywordCache" classname="org.auscope.portal.core.services.TestCSWCacheService" time="4.057">
    <failure message="er:MineralOccurrence expected:&lt;3&gt; but was:&lt;0&gt;" type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: er:MineralOccurrence expected:<3> but was:<0>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.auscope.portal.core.services.TestCSWCacheService.testKeywordCache(TestCSWCacheService.java:778)
]]></failure>
    <system-out><![CDATA[2018-05-30 08:09:46,076 [pool-8-thread-2] WARN  core.services.CSWService (queryCSWEndpoint): Attempt to query CSW end point failed. Number of attempts left:2
2018-05-30 08:09:46,076 [pool-8-thread-3] WARN  core.services.CSWService (queryCSWEndpoint): Attempt to query CSW end point failed. Number of attempts left:2
2018-05-30 08:09:46,133 [pool-8-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.1.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:46,133 [pool-8-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:46,134 [pool-8-thread-1] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:46,134 [pool-8-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-1.ser
2018-05-30 08:09:48,077 [pool-8-thread-2] WARN  core.services.CSWService (queryCSWEndpoint): Attempt to query CSW end point failed. Number of attempts left:1
2018-05-30 08:09:48,077 [pool-8-thread-3] WARN  core.services.CSWService (queryCSWEndpoint): Attempt to query CSW end point failed. Number of attempts left:1
2018-05-30 08:09:50,078 [pool-8-thread-2] WARN  core.services.CSWService (queryCSWEndpoint): Attempt to query CSW end point failed. Number of attempts left:0
2018-05-30 08:09:50,078 [pool-8-thread-3] WARN  core.services.CSWService (queryCSWEndpoint): Attempt to query CSW end point failed. Number of attempts left:0
2018-05-30 08:09:50,078 [pool-8-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.2.url/': java.net.ConnectException
2018-05-30 08:09:50,078 [pool-8-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.net.ConnectException
	at org.jmock.lib.action.ThrowAction.invoke(ThrowAction.java:27)
	at org.jmock.internal.InvocationExpectation.invoke(InvocationExpectation.java:165)
	at org.jmock.internal.InvocationDispatcher.dispatch(InvocationDispatcher.java:81)
	at org.jmock.Mockery.dispatch(Mockery.java:244)
	at org.jmock.Mockery.access$100(Mockery.java:29)
	at org.jmock.Mockery$MockObject.invoke(Mockery.java:284)
	at org.jmock.internal.InvocationDiverter.invoke(InvocationDiverter.java:27)
	at org.jmock.internal.FakeObjectMethods.invoke(FakeObjectMethods.java:38)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.synchroniseInvocation(PortalSynchroniser.java:47)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.access$000(PortalSynchroniser.java:15)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser$1.invoke(PortalSynchroniser.java:21)
	at org.jmock.lib.legacy.ClassImposteriser$4.invoke(ClassImposteriser.java:136)
	at org.auscope.portal.core.server.http.HttpServiceCaller$$EnhancerByCGLIB$$48032eef.getMethodResponseAsStream(<generated>)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:118)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:90)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:90)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:50,079 [pool-8-thread-2] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:50,078 [pool-8-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.3.url/': java.net.ConnectException
2018-05-30 08:09:50,079 [pool-8-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.net.ConnectException
	at org.jmock.lib.action.ThrowAction.invoke(ThrowAction.java:27)
	at org.jmock.internal.InvocationExpectation.invoke(InvocationExpectation.java:165)
	at org.jmock.internal.InvocationDispatcher.dispatch(InvocationDispatcher.java:81)
	at org.jmock.Mockery.dispatch(Mockery.java:244)
	at org.jmock.Mockery.access$100(Mockery.java:29)
	at org.jmock.Mockery$MockObject.invoke(Mockery.java:284)
	at org.jmock.internal.InvocationDiverter.invoke(InvocationDiverter.java:27)
	at org.jmock.internal.FakeObjectMethods.invoke(FakeObjectMethods.java:38)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.synchroniseInvocation(PortalSynchroniser.java:47)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.access$000(PortalSynchroniser.java:15)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser$1.invoke(PortalSynchroniser.java:21)
	at org.jmock.lib.legacy.ClassImposteriser$4.invoke(ClassImposteriser.java:136)
	at org.auscope.portal.core.server.http.HttpServiceCaller$$EnhancerByCGLIB$$48032eef.getMethodResponseAsStream(<generated>)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:118)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:90)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:90)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:50,080 [pool-8-thread-3] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:50,079 [pool-8-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-2.ser
2018-05-30 08:09:50,080 [pool-8-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-3.ser
2018-05-30 08:09:50,081 [pool-8-thread-3] INFO  core.services.CSWCacheService (updateFinished): Keyword cache updated! Cache now has '0' unique keyword names
2018-05-30 08:09:50,081 [pool-8-thread-3] INFO  core.services.CSWCacheService (updateFinished): Record cache updated! Cache now has '0' records
]]></system-out>
  </testcase>
  <testcase name="testMultiUpdateWithErrors" classname="org.auscope.portal.core.services.TestCSWCacheService" time="0.559">
    <failure message="expected:&lt;60&gt; but was:&lt;0&gt;" type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: expected:<60> but was:<0>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.auscope.portal.core.services.TestCSWCacheService.testMultiUpdateWithErrors(TestCSWCacheService.java:245)
]]></failure>
    <system-out><![CDATA[2018-05-30 08:09:50,136 [pool-9-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.2.url/': java.lang.IllegalStateException: tried to throw a java.lang.Exception from a method that throws java.io.IOException
2018-05-30 08:09:50,136 [pool-9-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.IllegalStateException: tried to throw a java.lang.Exception from a method that throws java.io.IOException
	at org.jmock.lib.action.ThrowAction.reportIncompatibleCheckedException(ThrowAction.java:62)
	at org.jmock.lib.action.ThrowAction.checkTypeCompatiblity(ThrowAction.java:42)
	at org.jmock.lib.action.ThrowAction.invoke(ThrowAction.java:24)
	at org.jmock.internal.InvocationExpectation.invoke(InvocationExpectation.java:165)
	at org.jmock.internal.InvocationDispatcher.dispatch(InvocationDispatcher.java:81)
	at org.jmock.Mockery.dispatch(Mockery.java:244)
	at org.jmock.Mockery.access$100(Mockery.java:29)
	at org.jmock.Mockery$MockObject.invoke(Mockery.java:284)
	at org.jmock.internal.InvocationDiverter.invoke(InvocationDiverter.java:27)
	at org.jmock.internal.FakeObjectMethods.invoke(FakeObjectMethods.java:38)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.synchroniseInvocation(PortalSynchroniser.java:47)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.access$000(PortalSynchroniser.java:15)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser$1.invoke(PortalSynchroniser.java:21)
	at org.jmock.lib.legacy.ClassImposteriser$4.invoke(ClassImposteriser.java:136)
	at org.auscope.portal.core.server.http.HttpServiceCaller$$EnhancerByCGLIB$$48032eef.getMethodResponseAsStream(<generated>)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:118)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:50,137 [pool-9-thread-2] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:50,137 [pool-9-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-2.ser
2018-05-30 08:09:50,200 [pool-9-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.1.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:50,200 [pool-9-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:50,201 [pool-9-thread-1] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:50,201 [pool-9-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-1.ser
2018-05-30 08:09:50,203 [pool-9-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.3.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:50,203 [pool-9-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:50,203 [pool-9-thread-3] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:50,203 [pool-9-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-3.ser
2018-05-30 08:09:50,204 [pool-9-thread-3] INFO  core.services.CSWCacheService (updateFinished): Keyword cache updated! Cache now has '0' unique keyword names
2018-05-30 08:09:50,204 [pool-9-thread-3] INFO  core.services.CSWCacheService (updateFinished): Record cache updated! Cache now has '0' records
]]></system-out>
  </testcase>
  <testcase name="testMultiUpdateAllErrors" classname="org.auscope.portal.core.services.TestCSWCacheService" time="0.054"/>
  <testcase name="testMultiUpdateFallbackOnCache" classname="org.auscope.portal.core.services.TestCSWCacheService" time="0.571">
    <failure message="expected:&lt;75&gt; but was:&lt;0&gt;" type="java.lang.AssertionError"><![CDATA[java.lang.AssertionError: expected:<75> but was:<0>
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:834)
	at org.junit.Assert.assertEquals(Assert.java:645)
	at org.junit.Assert.assertEquals(Assert.java:631)
	at org.auscope.portal.core.services.TestCSWCacheService.testMultiUpdateFallbackOnCache(TestCSWCacheService.java:413)
]]></failure>
    <system-out><![CDATA[2018-05-30 08:09:50,832 [pool-11-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.2.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:50,832 [pool-11-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:50,833 [pool-11-thread-2] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:50,833 [pool-11-thread-2] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-2.ser
2018-05-30 08:09:50,834 [pool-11-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.1.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:50,834 [pool-11-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:50,834 [pool-11-thread-1] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:50,834 [pool-11-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.3.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:50,834 [pool-11-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:50,835 [pool-11-thread-3] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:50,834 [pool-11-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-1.ser
2018-05-30 08:09:50,835 [pool-11-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-3.ser
2018-05-30 08:09:50,836 [pool-11-thread-3] INFO  core.services.CSWCacheService (updateFinished): Keyword cache updated! Cache now has '0' unique keyword names
2018-05-30 08:09:50,836 [pool-11-thread-3] INFO  core.services.CSWCacheService (updateFinished): Record cache updated! Cache now has '0' records
]]></system-out>
  </testcase>
  <testcase name="testOnlineResourceMerging" classname="org.auscope.portal.core.services.TestCSWCacheService" time="4.056"/>
  <testcase name="testKeywordsByEndpointCache" classname="org.auscope.portal.core.services.TestCSWCacheService" time="4.059">
    <failure type="java.lang.AssertionError:">java.lang.AssertionError: null
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertNotNull(Assert.java:712)
	at org.junit.Assert.assertNotNull(Assert.java:722)
	at org.auscope.portal.core.services.TestCSWCacheService.testKeywordsByEndpointCache(TestCSWCacheService.java:835)
</failure>
    <system-out><![CDATA[2018-05-30 08:09:55,377 [pool-13-thread-3] WARN  core.services.CSWService (queryCSWEndpoint): Attempt to query CSW end point failed. Number of attempts left:2
2018-05-30 08:09:55,395 [pool-13-thread-2] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): http://cswservice.2.url/ have been serialized.To refresh, delete /tmp/id-2.ser
2018-05-30 08:09:55,442 [pool-13-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.1.url/': java.lang.NumberFormatException: empty String
2018-05-30 08:09:55,442 [pool-13-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.lang.NumberFormatException: empty String
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1842)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:724)
	at org.auscope.portal.core.services.responses.csw.CSWRecordTransformer.transformToCSWRecord(CSWRecordTransformer.java:560)
	at org.auscope.portal.core.services.responses.csw.CSWGetRecordResponse.<init>(CSWGetRecordResponse.java:98)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:126)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:55,442 [pool-13-thread-1] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:55,442 [pool-13-thread-1] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-1.ser
2018-05-30 08:09:57,378 [pool-13-thread-3] WARN  core.services.CSWService (queryCSWEndpoint): Attempt to query CSW end point failed. Number of attempts left:1
2018-05-30 08:09:59,379 [pool-13-thread-3] WARN  core.services.CSWService (queryCSWEndpoint): Attempt to query CSW end point failed. Number of attempts left:0
2018-05-30 08:09:59,379 [pool-13-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Error updating keyword cache for 'http://cswservice.3.url/': java.net.ConnectException
2018-05-30 08:09:59,379 [pool-13-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): Exception: 
java.net.ConnectException
	at org.jmock.lib.action.ThrowAction.invoke(ThrowAction.java:27)
	at org.jmock.internal.InvocationExpectation.invoke(InvocationExpectation.java:165)
	at org.jmock.internal.InvocationDispatcher.dispatch(InvocationDispatcher.java:81)
	at org.jmock.Mockery.dispatch(Mockery.java:244)
	at org.jmock.Mockery.access$100(Mockery.java:29)
	at org.jmock.Mockery$MockObject.invoke(Mockery.java:284)
	at org.jmock.internal.InvocationDiverter.invoke(InvocationDiverter.java:27)
	at org.jmock.internal.FakeObjectMethods.invoke(FakeObjectMethods.java:38)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.synchroniseInvocation(PortalSynchroniser.java:47)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser.access$000(PortalSynchroniser.java:15)
	at org.auscope.portal.core.test.jmock.PortalSynchroniser$1.invoke(PortalSynchroniser.java:21)
	at org.jmock.lib.legacy.ClassImposteriser$4.invoke(ClassImposteriser.java:136)
	at org.auscope.portal.core.server.http.HttpServiceCaller$$EnhancerByCGLIB$$48032eef.getMethodResponseAsStream(<generated>)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:118)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:75)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:90)
	at org.auscope.portal.core.services.CSWService.queryCSWEndpoint(CSWService.java:90)
	at org.auscope.portal.core.services.CSWCacheService$CSWCacheUpdateThread.run(CSWCacheService.java:586)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
2018-05-30 08:09:59,380 [pool-13-thread-3] INFO  core.services.CSWCacheService$CSWCacheUpdateThread (run): Falling back on cached results for this endpoint.
2018-05-30 08:09:59,380 [pool-13-thread-3] WARN  core.services.CSWCacheService$CSWCacheUpdateThread (run): No saved registry found on disk on:/tmp/id-3.ser
2018-05-30 08:09:59,380 [pool-13-thread-3] INFO  core.services.CSWCacheService (updateFinished): Keyword cache updated! Cache now has '5' unique keyword names
2018-05-30 08:09:59,380 [pool-13-thread-3] INFO  core.services.CSWCacheService (updateFinished): Record cache updated! Cache now has '1' records
]]></system-out>
  </testcase>
  <testcase name="testPagedParentChildren" classname="org.auscope.portal.core.services.TestCSWCacheService" time="4.056"/>
  <testcase name="testRecordMerging" classname="org.auscope.portal.core.services.TestCSWCacheService" time="4.056"/>
</testsuite>