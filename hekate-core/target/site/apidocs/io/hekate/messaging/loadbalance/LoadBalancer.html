<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Fri May 25 13:21:41 CEST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LoadBalancer (Hekate 2.4.0-SNAPSHOT)</title>
<meta name="date" content="2018-05-25">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LoadBalancer (Hekate 2.4.0-SNAPSHOT)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<link rel="stylesheet" href="../../../../highlight/styles/idea.css">                         <link rel="stylesheet" href="../../../../jquery/jquery-ui.structure.min.css">                         <link rel="stylesheet" href="../../../../jquery/jquery-ui.min.css">                         <link rel="stylesheet" href="../../../../jquery/jquery-ui.theme.min.css">                         <link rel="stylesheet" href="../../../../style.css">                         <script src="../../../../highlight/highlight.pack.js"></script>                         <script src="../../../../jquery/jquery.min.js"></script>                         <script src="../../../../jquery/jquery-ui.min.js"></script>                         <script>                             hljs.initHighlightingOnLoad();                              $( function() {                                 $(".tabs").tabs();                              });                         </script>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LoadBalancer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/hekate/messaging/loadbalance/EmptyTopologyException.html" title="class in io.hekate.messaging.loadbalance"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/hekate/messaging/loadbalance/LoadBalancerContext.html" title="interface in io.hekate.messaging.loadbalance"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/hekate/messaging/loadbalance/LoadBalancer.html" target="_top">Frames</a></li>
<li><a href="LoadBalancer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.hekate.messaging.loadbalance</div>
<h2 title="Interface LoadBalancer" class="title">Interface LoadBalancer&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - Base type of messages that can be handled by this load balancer.</dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../io/hekate/rpc/RpcLoadBalancer.html" title="interface in io.hekate.rpc">RpcLoadBalancer</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../io/hekate/messaging/loadbalance/DefaultLoadBalancer.html" title="class in io.hekate.messaging.loadbalance">DefaultLoadBalancer</a>, <a href="../../../../io/hekate/rpc/DefaultRpcLoadBalancer.html" title="class in io.hekate.rpc">DefaultRpcLoadBalancer</a></dd>
</dl>
<dl>
<dt>Functional Interface:</dt>
<dd>This is a functional interface and can therefore be used as the assignment target for a lambda expression or method reference.</dd>
</dl>
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/FunctionalInterface.html?is-external=true" title="class or interface in java.lang">@FunctionalInterface</a>
public interface <span class="typeNameLabel">LoadBalancer&lt;T&gt;</span></pre>
<div class="block">Load balancer for unicast messaging.

 <p>
 Implementations of this interface are responsible for unicast message routing within a <a href="../../../../io/hekate/messaging/MessagingChannel.html" title="interface in io.hekate.messaging"><code>MessagingChannel</code></a>. Channel calls the
 <a href="../../../../io/hekate/messaging/loadbalance/LoadBalancer.html#route-T-io.hekate.messaging.loadbalance.LoadBalancerContext-"><code>route(Object, LoadBalancerContext)</code></a> method of this interface every time when it is going to perform a unicast operation
 (f.e. <a href="../../../../io/hekate/messaging/MessagingChannel.html#send-T-"><code>send(...)</code></a> or <a href="../../../../io/hekate/messaging/MessagingChannel.html#request-T-"><code>request(...)</code></a>).
 Implementations of this method must select one of the cluster nodes from the provided context. The selected cluster node will be used by
 the channel as a messaging operation target.
 </p>

 <p>
 Below is the example that uses a modulo-based approach for load balancing:
<div class="doc_source">
<pre><code class="java">
public class ExampleLoadBalancer implements LoadBalancer&lt;Object&gt; {
    @Override
    public ClusterNodeId route(Object message, LoadBalancerContext ctx) {
        // Calculate position of a destination node within the cluster topology.
        int idx = Math.abs(message.hashCode() % ctx.size());

        // Select the destination node
        // Note that nodes are always sorted by their IDs within the topology.
        return ctx.topology().nodes().get(idx).id();
    }
}
</code></pre>
</div>
 </p>

 <p>
 Instances of this interface can be registered via <a href="../../../../io/hekate/messaging/MessagingChannel.html#withLoadBalancer-io.hekate.messaging.loadbalance.LoadBalancer-"><code>MessagingChannel.withLoadBalancer(LoadBalancer)</code></a> or
 <a href="../../../../io/hekate/messaging/MessagingChannelConfig.html#setLoadBalancer-io.hekate.messaging.loadbalance.LoadBalancer-"><code>MessagingChannelConfig.setLoadBalancer(LoadBalancer)</code></a> methods.
 </p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../io/hekate/messaging/MessagingService.html" title="interface in io.hekate.messaging"><code>MessagingService</code></a>, 
<a href="../../../../io/hekate/messaging/MessagingChannel.html#withLoadBalancer-io.hekate.messaging.loadbalance.LoadBalancer-"><code>MessagingChannel.withLoadBalancer(LoadBalancer)</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../io/hekate/cluster/ClusterNodeId.html" title="class in io.hekate.cluster">ClusterNodeId</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../io/hekate/messaging/loadbalance/LoadBalancer.html#route-T-io.hekate.messaging.loadbalance.LoadBalancerContext-">route</a></span>(<a href="../../../../io/hekate/messaging/loadbalance/LoadBalancer.html" title="type parameter in LoadBalancer">T</a>&nbsp;message,
     <a href="../../../../io/hekate/messaging/loadbalance/LoadBalancerContext.html" title="interface in io.hekate.messaging.loadbalance">LoadBalancerContext</a>&nbsp;ctx)</code>
<div class="block">Selects one of the cluster nodes from the load balancer context.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="route-java.lang.Object-io.hekate.messaging.loadbalance.LoadBalancerContext-">
<!--   -->
</a><a name="route-T-io.hekate.messaging.loadbalance.LoadBalancerContext-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>route</h4>
<pre><a href="../../../../io/hekate/cluster/ClusterNodeId.html" title="class in io.hekate.cluster">ClusterNodeId</a>&nbsp;route(<a href="../../../../io/hekate/messaging/loadbalance/LoadBalancer.html" title="type parameter in LoadBalancer">T</a>&nbsp;message,
                    <a href="../../../../io/hekate/messaging/loadbalance/LoadBalancerContext.html" title="interface in io.hekate.messaging.loadbalance">LoadBalancerContext</a>&nbsp;ctx)
             throws <a href="../../../../io/hekate/messaging/loadbalance/LoadBalancerException.html" title="class in io.hekate.messaging.loadbalance">LoadBalancerException</a></pre>
<div class="block">Selects one of the cluster nodes from the load balancer context. Note that the provided context contains only those nodes that are
 capable of receiving messages of this channel (i.e. have <a href="../../../../io/hekate/messaging/MessageReceiver.html" title="interface in io.hekate.messaging"><code>MessageReceiver</code></a>) and match the channel's
 <a href="../../../../io/hekate/cluster/ClusterFilterSupport.html#filter-io.hekate.cluster.ClusterNodeFilter-"><code>topology filtering</code></a> rules.

 <p>
 Returning <code>null</code> from this method (if target node can't be selected for some reason) will cause message sending operation to
 fail with <a href="../../../../io/hekate/messaging/loadbalance/LoadBalancerException.html" title="class in io.hekate.messaging.loadbalance"><code>LoadBalancerException</code></a>.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - Message.</dd>
<dd><code>ctx</code> - Load balancer context.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Node that should be used for the messaging operation.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../io/hekate/messaging/loadbalance/LoadBalancerException.html" title="class in io.hekate.messaging.loadbalance">LoadBalancerException</a></code> - if failed to perform load balancing.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/LoadBalancer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../io/hekate/messaging/loadbalance/EmptyTopologyException.html" title="class in io.hekate.messaging.loadbalance"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../io/hekate/messaging/loadbalance/LoadBalancerContext.html" title="interface in io.hekate.messaging.loadbalance"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?io/hekate/messaging/loadbalance/LoadBalancer.html" target="_top">Frames</a></li>
<li><a href="LoadBalancer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="http://hekate.io/">The Hekate Project</a>. All rights reserved.</small></p>
</body>
</html>
