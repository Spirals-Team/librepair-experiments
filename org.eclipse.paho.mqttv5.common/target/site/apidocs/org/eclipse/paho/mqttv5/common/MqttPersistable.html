<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Tue May 29 13:52:00 CEST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>MqttPersistable (org.eclipse.paho.mqttv5.common 1.2.1-SNAPSHOT API)</title>
<meta name="date" content="2018-05-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MqttPersistable (org.eclipse.paho.mqttv5.common 1.2.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MqttPersistable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttMessage.html" title="class in org.eclipse.paho.mqttv5.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/paho/mqttv5/common/MqttPersistable.html" target="_top">Frames</a></li>
<li><a href="MqttPersistable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.eclipse.paho.mqttv5.common</div>
<h2 title="Interface MqttPersistable" class="title">Interface MqttPersistable</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/eclipse/paho/mqttv5/common/packet/MqttPersistableWireMessage.html" title="class in org.eclipse.paho.mqttv5.common.packet">MqttPersistableWireMessage</a>, <a href="../../../../../org/eclipse/paho/mqttv5/common/packet/MqttPublish.html" title="class in org.eclipse.paho.mqttv5.common.packet">MqttPublish</a>, <a href="../../../../../org/eclipse/paho/mqttv5/common/packet/MqttPubRel.html" title="class in org.eclipse.paho.mqttv5.common.packet">MqttPubRel</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">MqttPersistable</span></pre>
<div class="block">Represents an object used to pass data to be persisted across the
 <code>MqttClientPersistence</code> interface.
 <p>
 When data is passed across the interface the header and payload are
 separated, so that unnecessary message copies may be avoided. For example, if
 a 10 MB payload was published it would be inefficient to create a byte array
 a few bytes larger than 10 MB and copy the MQTT message header and payload
 into a contiguous byte array.
 </p>
 <p>
 When the request to persist data is made a separate byte array and offset is
 passed for the header and payload. Only the data between offset and length
 need be persisted. So for example, a message to be persisted consists of a
 header byte array starting at offset 1 and length 4, plus a payload byte
 array starting at offset 30 and length 40000. There are three ways in which
 the persistence implementation may return data to the client on recovery:
 </p>
 <ul>
 <li>It could return the data as it was passed in originally, with the same
 byte arrays and offsets.</li>
 <li>It could safely just persist and return the bytes from the offset for the
 specified length. For example, return a header byte array with offset 0 and
 length 4, plus a payload byte array with offset 0 and length 40000</li>
 <li>It could return the header and payload as a contiguous byte array with
 the header bytes preceeding the payload. The contiguous byte array should be
 set as the header byte array, with the payload byte array being null. For
 example, return a single byte array with offset 0 and length 40004. This is
 useful when recovering from a file where the header and payload could be
 written as a contiguous stream of bytes.</li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getHeaderBytes--">getHeaderBytes</a></span>()</code>
<div class="block">Returns the header bytes in an array.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getHeaderLength--">getHeaderLength</a></span>()</code>
<div class="block">Returns the length of the header.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getHeaderOffset--">getHeaderOffset</a></span>()</code>
<div class="block">Returns the offset of the header within the byte array returned by
 <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getHeaderBytes--"><code>getHeaderBytes()</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getPayloadBytes--">getPayloadBytes</a></span>()</code>
<div class="block">Returns the payload bytes in an array.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getPayloadLength--">getPayloadLength</a></span>()</code>
<div class="block">Returns the length of the payload.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getPayloadOffset--">getPayloadOffset</a></span>()</code>
<div class="block">Returns the offset of the payload within the byte array returned by
 <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getPayloadBytes--"><code>getPayloadBytes()</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getHeaderBytes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderBytes</h4>
<pre>byte[]&nbsp;getHeaderBytes()
               throws <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></pre>
<div class="block">Returns the header bytes in an array. The bytes start at
 <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getHeaderOffset--"><code>getHeaderOffset()</code></a> and continue for <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getHeaderLength--"><code>getHeaderLength()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the header bytes.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></code> - if an error occurs getting the Header Bytes</dd>
</dl>
</li>
</ul>
<a name="getHeaderLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderLength</h4>
<pre>int&nbsp;getHeaderLength()
             throws <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></pre>
<div class="block">Returns the length of the header.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the header length</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></code> - if an error occurs getting the Header length</dd>
</dl>
</li>
</ul>
<a name="getHeaderOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHeaderOffset</h4>
<pre>int&nbsp;getHeaderOffset()
             throws <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></pre>
<div class="block">Returns the offset of the header within the byte array returned by
 <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getHeaderBytes--"><code>getHeaderBytes()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the header offset.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></code> - if an error occurs getting the Header offset</dd>
</dl>
</li>
</ul>
<a name="getPayloadBytes--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPayloadBytes</h4>
<pre>byte[]&nbsp;getPayloadBytes()
                throws <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></pre>
<div class="block">Returns the payload bytes in an array. The bytes start at
 <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getPayloadOffset--"><code>getPayloadOffset()</code></a> and continue for <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getPayloadLength--"><code>getPayloadLength()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the payload bytes.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></code> - if an error occurs getting the Payload Bytes</dd>
</dl>
</li>
</ul>
<a name="getPayloadLength--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPayloadLength</h4>
<pre>int&nbsp;getPayloadLength()
              throws <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></pre>
<div class="block">Returns the length of the payload.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the payload length.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></code> - if an error occurs getting the Payload length</dd>
</dl>
</li>
</ul>
<a name="getPayloadOffset--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPayloadOffset</h4>
<pre>int&nbsp;getPayloadOffset()
              throws <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></pre>
<div class="block">Returns the offset of the payload within the byte array returned by
 <a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistable.html#getPayloadBytes--"><code>getPayloadBytes()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the payload offset.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common">MqttPersistenceException</a></code> - if an error occurs getting the Payload Offset</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MqttPersistable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttMessage.html" title="class in org.eclipse.paho.mqttv5.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/eclipse/paho/mqttv5/common/MqttPersistenceException.html" title="class in org.eclipse.paho.mqttv5.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/paho/mqttv5/common/MqttPersistable.html" target="_top">Frames</a></li>
<li><a href="MqttPersistable.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018 <a href="http://www.eclipse.org/paho">Eclipse Paho</a>. All rights reserved.</small></p>
</body>
</html>
