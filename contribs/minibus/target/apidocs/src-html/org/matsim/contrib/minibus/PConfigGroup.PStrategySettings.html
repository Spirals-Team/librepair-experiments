<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>Source code</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<div class="sourceContainer">
<pre><span class="sourceLineNo">001</span>/* *********************************************************************** *<a name="line.1"></a>
<span class="sourceLineNo">002</span> * project: org.matsim.*<a name="line.2"></a>
<span class="sourceLineNo">003</span> *                                                                         *<a name="line.3"></a>
<span class="sourceLineNo">004</span> * *********************************************************************** *<a name="line.4"></a>
<span class="sourceLineNo">005</span> *                                                                         *<a name="line.5"></a>
<span class="sourceLineNo">006</span> * copyright       : (C) 2011 by the members listed in the COPYING,        *<a name="line.6"></a>
<span class="sourceLineNo">007</span> *                   LICENSE and WARRANTY file.                            *<a name="line.7"></a>
<span class="sourceLineNo">008</span> * email           : info at matsim dot org                                *<a name="line.8"></a>
<span class="sourceLineNo">009</span> *                                                                         *<a name="line.9"></a>
<span class="sourceLineNo">010</span> * *********************************************************************** *<a name="line.10"></a>
<span class="sourceLineNo">011</span> *                                                                         *<a name="line.11"></a>
<span class="sourceLineNo">012</span> *   This program is free software; you can redistribute it and/or modify  *<a name="line.12"></a>
<span class="sourceLineNo">013</span> *   it under the terms of the GNU General Public License as published by  *<a name="line.13"></a>
<span class="sourceLineNo">014</span> *   the Free Software Foundation; either version 2 of the License, or     *<a name="line.14"></a>
<span class="sourceLineNo">015</span> *   (at your option) any later version.                                   *<a name="line.15"></a>
<span class="sourceLineNo">016</span> *   See also COPYING, LICENSE and WARRANTY file                           *<a name="line.16"></a>
<span class="sourceLineNo">017</span> *                                                                         *<a name="line.17"></a>
<span class="sourceLineNo">018</span> * *********************************************************************** */<a name="line.18"></a>
<span class="sourceLineNo">019</span><a name="line.19"></a>
<span class="sourceLineNo">020</span>package org.matsim.contrib.minibus;<a name="line.20"></a>
<span class="sourceLineNo">021</span><a name="line.21"></a>
<span class="sourceLineNo">022</span>import java.util.*;<a name="line.22"></a>
<span class="sourceLineNo">023</span>import java.util.Map.Entry;<a name="line.23"></a>
<span class="sourceLineNo">024</span><a name="line.24"></a>
<span class="sourceLineNo">025</span>import org.apache.log4j.Logger;<a name="line.25"></a>
<span class="sourceLineNo">026</span>import org.matsim.api.core.v01.Id;<a name="line.26"></a>
<span class="sourceLineNo">027</span>import org.matsim.api.core.v01.TransportMode;<a name="line.27"></a>
<span class="sourceLineNo">028</span>import org.matsim.contrib.minibus.operator.BasicOperator;<a name="line.28"></a>
<span class="sourceLineNo">029</span>import org.matsim.core.config.Config;<a name="line.29"></a>
<span class="sourceLineNo">030</span>import org.matsim.core.config.ConfigGroup;<a name="line.30"></a>
<span class="sourceLineNo">031</span>import org.matsim.core.utils.misc.StringUtils;<a name="line.31"></a>
<span class="sourceLineNo">032</span>import org.matsim.vehicles.VehicleType.DoorOperationMode;<a name="line.32"></a>
<span class="sourceLineNo">033</span><a name="line.33"></a>
<span class="sourceLineNo">034</span>/**<a name="line.34"></a>
<span class="sourceLineNo">035</span> * Config group to configure p<a name="line.35"></a>
<span class="sourceLineNo">036</span> * <a name="line.36"></a>
<span class="sourceLineNo">037</span> * @author aneumann<a name="line.37"></a>
<span class="sourceLineNo">038</span> *<a name="line.38"></a>
<span class="sourceLineNo">039</span> */<a name="line.39"></a>
<span class="sourceLineNo">040</span>public final class PConfigGroup extends ConfigGroup{<a name="line.40"></a>
<span class="sourceLineNo">041</span>        <a name="line.41"></a>
<span class="sourceLineNo">042</span>        /**<a name="line.42"></a>
<span class="sourceLineNo">043</span>         * TODO [AN] This one has to be checked<a name="line.43"></a>
<span class="sourceLineNo">044</span>         */<a name="line.44"></a>
<span class="sourceLineNo">045</span>        private static final long serialVersionUID = 4840713748058034511L;<a name="line.45"></a>
<span class="sourceLineNo">046</span>        private static final Logger log = Logger.getLogger(PConfigGroup.class);<a name="line.46"></a>
<span class="sourceLineNo">047</span>        <a name="line.47"></a>
<span class="sourceLineNo">048</span>        // Tags<a name="line.48"></a>
<span class="sourceLineNo">049</span>        <a name="line.49"></a>
<span class="sourceLineNo">050</span>        public static final String GROUP_NAME = "p";<a name="line.50"></a>
<span class="sourceLineNo">051</span>        <a name="line.51"></a>
<span class="sourceLineNo">052</span>        private static final String P_IDENTIFIER = "pIdentifier";<a name="line.52"></a>
<span class="sourceLineNo">053</span>        private static final String MIN_X = "minX";<a name="line.53"></a>
<span class="sourceLineNo">054</span>        private static final String MIN_Y = "minY";<a name="line.54"></a>
<span class="sourceLineNo">055</span>        private static final String MAX_X = "maxX";<a name="line.55"></a>
<span class="sourceLineNo">056</span>        private static final String MAX_Y = "maxY";<a name="line.56"></a>
<span class="sourceLineNo">057</span>        private static final String SERVICEAREAFILE = "serviceAreaFile";<a name="line.57"></a>
<span class="sourceLineNo">058</span>        private static final String OPERATOR_TYPE = "operatorType";<a name="line.58"></a>
<span class="sourceLineNo">059</span>        private static final String NUMBER_OF_OPERATORS = "numberOfOperators";<a name="line.59"></a>
<span class="sourceLineNo">060</span>        private static final String PAX_PER_VEHICLE = "paxPerVehicle";<a name="line.60"></a>
<span class="sourceLineNo">061</span>        private static final String PCE = "passengerCarEquivalents";<a name="line.61"></a>
<span class="sourceLineNo">062</span>        private static final String VEHICLE_MAXIMUM_VELOCITY = "vehicleMaximumVelocity";<a name="line.62"></a>
<span class="sourceLineNo">063</span>        private static final String DELAY_PER_BOARDING_PASSENGER = "delayPerBoardingPassenger";<a name="line.63"></a>
<span class="sourceLineNo">064</span>        private static final String DELAY_PER_ALIGHTING_PASSENGER = "delayPerAlightingPassenger";<a name="line.64"></a>
<span class="sourceLineNo">065</span>        private static final String DOOR_OPERATION_MODE = "doorOperationMode";<a name="line.65"></a>
<span class="sourceLineNo">066</span>        private static final String NUMBER_OF_ITERATIONS_FOR_PROSPECTING = "numberOfIterationsForProspecting";<a name="line.66"></a>
<span class="sourceLineNo">067</span>        private static final String INITIAL_BUDGET = "initialBudget";<a name="line.67"></a>
<span class="sourceLineNo">068</span>        private static final String COST_PER_VEHICLE_AND_DAY = "costPerVehicleAndDay";<a name="line.68"></a>
<span class="sourceLineNo">069</span>        private static final String COST_PER_KILOMETER = "costPerKilometer";<a name="line.69"></a>
<span class="sourceLineNo">070</span>        private static final String COST_PER_HOUR = "costPerHour";<a name="line.70"></a>
<span class="sourceLineNo">071</span>        private static final String EARNINGS_PER_BOARDING_PASSENGER = "earningsPerBoardingPassenger";<a name="line.71"></a>
<span class="sourceLineNo">072</span>        private static final String EARNINGS_PER_KILOMETER_AND_PASSENGER = "earningsPerKilometerAndPassenger";<a name="line.72"></a>
<span class="sourceLineNo">073</span>        private static final String PRICE_PER_VEHICLE_BOUGHT = "pricePerVehicleBought";<a name="line.73"></a>
<span class="sourceLineNo">074</span>        private static final String PRICE_PER_VEHICLE_SOLD = "pricePerVehicleSold";<a name="line.74"></a>
<span class="sourceLineNo">075</span>        private static final String START_WITH_24_HOURS = "startWith24Hours";<a name="line.75"></a>
<span class="sourceLineNo">076</span>        private static final String MIN_OPERATION_TIME = "minOperationTime";<a name="line.76"></a>
<span class="sourceLineNo">077</span>        private static final String MIN_INITIAL_STOP_DISTANCE = "minInitialStopDistance";<a name="line.77"></a>
<span class="sourceLineNo">078</span>        private static final String USEFRANCHISE = "useFranchise";<a name="line.78"></a>
<span class="sourceLineNo">079</span>        private static final String WRITESTATS_INTERVAL = "writeStatsInterval";<a name="line.79"></a>
<span class="sourceLineNo">080</span>        private static final String LOG_OPERATORS = "logOperators";<a name="line.80"></a>
<span class="sourceLineNo">081</span>        private static final String WRITE_METRICS = "writeMetrics";<a name="line.81"></a>
<span class="sourceLineNo">082</span>        private static final String WRITE_GEXF_STATS_INTERVAL = "writeGexfStatsInterval";<a name="line.82"></a>
<span class="sourceLineNo">083</span>        private static final String ROUTE_PROVIDER = "routeProvider";<a name="line.83"></a>
<span class="sourceLineNo">084</span>        private static final String SPEED_LIMIT_FOR_STOPS = "speedLimitForStops";<a name="line.84"></a>
<span class="sourceLineNo">085</span>        private static final String PLANNING_SPEED_FACTOR = "planningSpeedFactor";<a name="line.85"></a>
<span class="sourceLineNo">086</span>        private static final String DRIVER_REST_TIME = "driverRestTime";<a name="line.86"></a>
<span class="sourceLineNo">087</span>        private static final String GRID_SIZE = "gridSize";<a name="line.87"></a>
<span class="sourceLineNo">088</span>        private static final String TIMESLOT_SIZE = "timeSlotSize";<a name="line.88"></a>
<span class="sourceLineNo">089</span>        private static final String USE_ADAPTIVE_NUMBER_OF_OPERATORS = "useAdaptiveNumberOfOperators";<a name="line.89"></a>
<span class="sourceLineNo">090</span>        private static final String SHARE_OF_OPERATORS_WITH_PROFIT = "shareOfOperatorsWithProfit";<a name="line.90"></a>
<span class="sourceLineNo">091</span>        private static final String DISABLE_CREATION_OF_NEW_OPERATORS_IN_ITERATION = "disableCreationOfNewOperatorsInIteration";<a name="line.91"></a>
<span class="sourceLineNo">092</span>        private static final String REROUTE_AGENTS_STUCK = "reRouteAgentsStuck";<a name="line.92"></a>
<span class="sourceLineNo">093</span>        private static final String PASSENGERS_BOARD_EVERY_LINE = "passengersBoardEveryLine";<a name="line.93"></a>
<span class="sourceLineNo">094</span>        private static final String TRANSIT_SCHEDULE_TO_START_WITH = "transitScheduleToStartWith";<a name="line.94"></a>
<span class="sourceLineNo">095</span>        private static final String MERGE_TRANSIT_LINE = "mergeTransitLine";<a name="line.95"></a>
<span class="sourceLineNo">096</span>        private static final String PT_ENABLER = "ptEnabler";<a name="line.96"></a>
<span class="sourceLineNo">097</span>        private static final String PT_ROUTER = "ptRouter";<a name="line.97"></a>
<span class="sourceLineNo">098</span>        private static final String OPERATIONMODE = "OperationMode";<a name="line.98"></a>
<span class="sourceLineNo">099</span>        private static final String TOPOTYPESFORSTOPS = "TopoTypesForStops";<a name="line.99"></a>
<span class="sourceLineNo">100</span>        private static final String MIN_CAPACITY_FOR_STOPS = "minCapacityForStops";<a name="line.100"></a>
<span class="sourceLineNo">101</span>        <a name="line.101"></a>
<span class="sourceLineNo">102</span>        private static final String PMODULE = "Module_";<a name="line.102"></a>
<span class="sourceLineNo">103</span>        private static final String PMODULE_PROBABILITY = "ModuleProbability_";<a name="line.103"></a>
<span class="sourceLineNo">104</span>        private static final String PMODULE_DISABLEINITERATION = "ModuleDisableInIteration_";<a name="line.104"></a>
<span class="sourceLineNo">105</span>        private static final String PMODULE_PARAMETER = "ModuleParameter_";<a name="line.105"></a>
<span class="sourceLineNo">106</span>        <a name="line.106"></a>
<span class="sourceLineNo">107</span>        private static final String SUBSIDY_APPROACH = "subsidyApproach";<a name="line.107"></a>
<span class="sourceLineNo">108</span>        <a name="line.108"></a>
<span class="sourceLineNo">109</span>        // Defaults<a name="line.109"></a>
<span class="sourceLineNo">110</span>        private String pIdentifier = "p_";<a name="line.110"></a>
<span class="sourceLineNo">111</span>        private double minX = -Double.MAX_VALUE;<a name="line.111"></a>
<span class="sourceLineNo">112</span>        private double minY = -Double.MAX_VALUE;        <a name="line.112"></a>
<span class="sourceLineNo">113</span>        private double maxX = Double.MAX_VALUE;<a name="line.113"></a>
<span class="sourceLineNo">114</span>        private double maxY = Double.MAX_VALUE;<a name="line.114"></a>
<span class="sourceLineNo">115</span>        private String serviceAreaFile = "";<a name="line.115"></a>
<span class="sourceLineNo">116</span>        private String operatorType = BasicOperator.OPERATOR_NAME;<a name="line.116"></a>
<span class="sourceLineNo">117</span>        private int numberOfOperators = 1;<a name="line.117"></a>
<span class="sourceLineNo">118</span>        private int paxPerVehicle = 10;<a name="line.118"></a>
<span class="sourceLineNo">119</span>        private double passengerCarEquivalents = 1.0;<a name="line.119"></a>
<span class="sourceLineNo">120</span>        private double vehicleMaximumVelocity = Double.POSITIVE_INFINITY;<a name="line.120"></a>
<span class="sourceLineNo">121</span>        private double delayPerBoardingPassenger = 2.0;<a name="line.121"></a>
<span class="sourceLineNo">122</span>        private double delayPerAlightingPassenger = 1.0;<a name="line.122"></a>
<span class="sourceLineNo">123</span>        private DoorOperationMode doorOperationMode = DoorOperationMode.serial;<a name="line.123"></a>
<span class="sourceLineNo">124</span>        private int numberOfIterationsForProspecting = 0;<a name="line.124"></a>
<span class="sourceLineNo">125</span>        private double initialBudget = 0.0;<a name="line.125"></a>
<span class="sourceLineNo">126</span>        private double costPerVehicleAndDay = 0.0;<a name="line.126"></a>
<span class="sourceLineNo">127</span>        private double costPerKilometer = 0.30;<a name="line.127"></a>
<span class="sourceLineNo">128</span>        private double costPerHour = 0.0;<a name="line.128"></a>
<span class="sourceLineNo">129</span>        private boolean startWith24Hours = false;<a name="line.129"></a>
<span class="sourceLineNo">130</span>        private double minOperationTime = 6 * 3600;<a name="line.130"></a>
<span class="sourceLineNo">131</span>        private double minInitialStopDistance = 1.0;<a name="line.131"></a>
<span class="sourceLineNo">132</span>        private double earningsPerBoardingPassenger = 0.0;<a name="line.132"></a>
<span class="sourceLineNo">133</span>        private double earningsPerKilometerAndPassenger = 0.50;<a name="line.133"></a>
<span class="sourceLineNo">134</span>        private double pricePerVehicleBought = 1000.0;<a name="line.134"></a>
<span class="sourceLineNo">135</span>        private double pricePerVehicleSold = 1000.0;<a name="line.135"></a>
<span class="sourceLineNo">136</span>        private boolean useFranchise = false;<a name="line.136"></a>
<span class="sourceLineNo">137</span>        private int writeStatsInterval = 0;<a name="line.137"></a>
<span class="sourceLineNo">138</span>        private boolean logOperators = false;<a name="line.138"></a>
<span class="sourceLineNo">139</span>        private boolean writeMetrics = false;<a name="line.139"></a>
<span class="sourceLineNo">140</span>        private int writeGexfStatsInterval = 0;<a name="line.140"></a>
<span class="sourceLineNo">141</span>        private String routeProvider = "SimpleCircleScheduleProvider";<a name="line.141"></a>
<span class="sourceLineNo">142</span>        private double speedLimitForStops = Double.MAX_VALUE;<a name="line.142"></a>
<span class="sourceLineNo">143</span>        private double planningSpeedFactor = 1.0;<a name="line.143"></a>
<span class="sourceLineNo">144</span>        private double driverRestTime = 1.0 * 60.0;<a name="line.144"></a>
<span class="sourceLineNo">145</span>        private double gridSize = Double.MAX_VALUE;<a name="line.145"></a>
<span class="sourceLineNo">146</span>        private double timeSlotSize = Double.MAX_VALUE;<a name="line.146"></a>
<span class="sourceLineNo">147</span>        private boolean useAdaptiveNumberOfOperators = false;<a name="line.147"></a>
<span class="sourceLineNo">148</span>        private double shareOfOperatorsWithProfit = 0.50;<a name="line.148"></a>
<span class="sourceLineNo">149</span>        private int disableCreationOfNewOperatorsInIteration = Integer.MAX_VALUE;<a name="line.149"></a>
<span class="sourceLineNo">150</span>        private boolean reRouteAgentsStuck = false;<a name="line.150"></a>
<span class="sourceLineNo">151</span>        private boolean passengersBoardEveryLine = false;<a name="line.151"></a>
<span class="sourceLineNo">152</span>        private String transitScheduleToStartWith = null;<a name="line.152"></a>
<span class="sourceLineNo">153</span>        private boolean mergeTransitLine = false;<a name="line.153"></a>
<span class="sourceLineNo">154</span>        private String ptEnabler = null;<a name="line.154"></a>
<span class="sourceLineNo">155</span>        private String ptRouter = "none set";<a name="line.155"></a>
<span class="sourceLineNo">156</span>        private String operationMode = TransportMode.pt;<a name="line.156"></a>
<span class="sourceLineNo">157</span>        private String topoTypesForStops = null;<a name="line.157"></a>
<span class="sourceLineNo">158</span>        private double minCapacityForStops = 0.0;<a name="line.158"></a>
<span class="sourceLineNo">159</span>        private String subsidyApproach = null;<a name="line.159"></a>
<span class="sourceLineNo">160</span><a name="line.160"></a>
<span class="sourceLineNo">161</span>        // Strategies<a name="line.161"></a>
<span class="sourceLineNo">162</span>        private final LinkedHashMap&lt;Id&lt;PStrategySettings&gt;, PStrategySettings&gt; strategies = new LinkedHashMap&lt;&gt;();<a name="line.162"></a>
<span class="sourceLineNo">163</span>        <a name="line.163"></a>
<span class="sourceLineNo">164</span>        <a name="line.164"></a>
<span class="sourceLineNo">165</span>        public PConfigGroup(){<a name="line.165"></a>
<span class="sourceLineNo">166</span>                super(GROUP_NAME);<a name="line.166"></a>
<span class="sourceLineNo">167</span>                log.info("Started...");<a name="line.167"></a>
<span class="sourceLineNo">168</span>                log.warn("SerialVersionUID has to be checked. Current one is " + PConfigGroup.serialVersionUID);<a name="line.168"></a>
<span class="sourceLineNo">169</span>        }<a name="line.169"></a>
<span class="sourceLineNo">170</span>        <a name="line.170"></a>
<span class="sourceLineNo">171</span>        // Setter<a name="line.171"></a>
<span class="sourceLineNo">172</span>        <a name="line.172"></a>
<span class="sourceLineNo">173</span>        @Override<a name="line.173"></a>
<span class="sourceLineNo">174</span>        public void addParam(final String key, final String value) {<a name="line.174"></a>
<span class="sourceLineNo">175</span>                // emulate previous behavior of reader (ignore null values at reading). td Apr'15<a name="line.175"></a>
<span class="sourceLineNo">176</span>                if ( "null".equalsIgnoreCase( value ) ) return;<a name="line.176"></a>
<span class="sourceLineNo">177</span>                <a name="line.177"></a>
<span class="sourceLineNo">178</span>                if (P_IDENTIFIER.equals(key)){<a name="line.178"></a>
<span class="sourceLineNo">179</span>                        this.pIdentifier = value;<a name="line.179"></a>
<span class="sourceLineNo">180</span>                }else if (SERVICEAREAFILE.equals(key)) {<a name="line.180"></a>
<span class="sourceLineNo">181</span>                        this.serviceAreaFile = value;<a name="line.181"></a>
<span class="sourceLineNo">182</span>                }else if (MIN_X.equals(key)) {<a name="line.182"></a>
<span class="sourceLineNo">183</span>                        this.minX = Double.parseDouble(value);<a name="line.183"></a>
<span class="sourceLineNo">184</span>                } else if (MIN_Y.equals(key)) {<a name="line.184"></a>
<span class="sourceLineNo">185</span>                        this.minY = Double.parseDouble(value);<a name="line.185"></a>
<span class="sourceLineNo">186</span>                } else if (MAX_X.equals(key)) {<a name="line.186"></a>
<span class="sourceLineNo">187</span>                        this.maxX = Double.parseDouble(value);<a name="line.187"></a>
<span class="sourceLineNo">188</span>                } else if (MAX_Y.equals(key)) {<a name="line.188"></a>
<span class="sourceLineNo">189</span>                        this.maxY = Double.parseDouble(value);<a name="line.189"></a>
<span class="sourceLineNo">190</span>                }else if (OPERATOR_TYPE.equals(key)){<a name="line.190"></a>
<span class="sourceLineNo">191</span>                        this.operatorType = value;<a name="line.191"></a>
<span class="sourceLineNo">192</span>                } else if (NUMBER_OF_OPERATORS.equals(key)) {<a name="line.192"></a>
<span class="sourceLineNo">193</span>                        this.numberOfOperators = Integer.parseInt(value);<a name="line.193"></a>
<span class="sourceLineNo">194</span>                } else if (NUMBER_OF_ITERATIONS_FOR_PROSPECTING.equals(key)) {<a name="line.194"></a>
<span class="sourceLineNo">195</span>                        this.numberOfIterationsForProspecting = Integer.parseInt(value);<a name="line.195"></a>
<span class="sourceLineNo">196</span>                } else if (INITIAL_BUDGET.equals(key)) {<a name="line.196"></a>
<span class="sourceLineNo">197</span>                        this.initialBudget = Double.parseDouble(value);<a name="line.197"></a>
<span class="sourceLineNo">198</span>                } else if (PAX_PER_VEHICLE.equals(key)) {<a name="line.198"></a>
<span class="sourceLineNo">199</span>                        this.paxPerVehicle = Integer.parseInt(value);<a name="line.199"></a>
<span class="sourceLineNo">200</span>                } else if (PCE.equals(key)) {<a name="line.200"></a>
<span class="sourceLineNo">201</span>                        this.passengerCarEquivalents = Double.parseDouble(value);<a name="line.201"></a>
<span class="sourceLineNo">202</span>                } else if (VEHICLE_MAXIMUM_VELOCITY.equals(key)) {<a name="line.202"></a>
<span class="sourceLineNo">203</span>                        this.vehicleMaximumVelocity = Double.parseDouble(value);<a name="line.203"></a>
<span class="sourceLineNo">204</span>                } else if (DELAY_PER_BOARDING_PASSENGER.equals(key)) {<a name="line.204"></a>
<span class="sourceLineNo">205</span>                        this.delayPerBoardingPassenger = Double.parseDouble(value);<a name="line.205"></a>
<span class="sourceLineNo">206</span>                } else if (DELAY_PER_ALIGHTING_PASSENGER.equals(key)) {<a name="line.206"></a>
<span class="sourceLineNo">207</span>                        this.delayPerAlightingPassenger = Double.parseDouble(value);<a name="line.207"></a>
<span class="sourceLineNo">208</span>                } else if (DOOR_OPERATION_MODE.equals(key)) { <a name="line.208"></a>
<span class="sourceLineNo">209</span>                        if (DoorOperationMode.serial.toString().equalsIgnoreCase(value)){<a name="line.209"></a>
<span class="sourceLineNo">210</span>                                this.doorOperationMode = DoorOperationMode.serial;<a name="line.210"></a>
<span class="sourceLineNo">211</span>                        } else if (DoorOperationMode.parallel.toString().equalsIgnoreCase(value)){<a name="line.211"></a>
<span class="sourceLineNo">212</span>                                this.doorOperationMode = DoorOperationMode.parallel;<a name="line.212"></a>
<span class="sourceLineNo">213</span>                        } <a name="line.213"></a>
<span class="sourceLineNo">214</span>                } else if (COST_PER_VEHICLE_AND_DAY.equals(key)){<a name="line.214"></a>
<span class="sourceLineNo">215</span>                        this.costPerVehicleAndDay = Double.parseDouble(value);<a name="line.215"></a>
<span class="sourceLineNo">216</span>                } else if (COST_PER_KILOMETER.equals(key)){<a name="line.216"></a>
<span class="sourceLineNo">217</span>                        this.costPerKilometer = Double.parseDouble(value);<a name="line.217"></a>
<span class="sourceLineNo">218</span>                } else if (COST_PER_HOUR.equals(key)){<a name="line.218"></a>
<span class="sourceLineNo">219</span>                        this.costPerHour = Double.parseDouble(value);<a name="line.219"></a>
<span class="sourceLineNo">220</span>                } else if (EARNINGS_PER_BOARDING_PASSENGER.equals(key)){<a name="line.220"></a>
<span class="sourceLineNo">221</span>                        this.earningsPerBoardingPassenger = Double.parseDouble(value);<a name="line.221"></a>
<span class="sourceLineNo">222</span>                } else if (EARNINGS_PER_KILOMETER_AND_PASSENGER.equals(key)){<a name="line.222"></a>
<span class="sourceLineNo">223</span>                        this.earningsPerKilometerAndPassenger = Double.parseDouble(value);<a name="line.223"></a>
<span class="sourceLineNo">224</span>                } else if (PRICE_PER_VEHICLE_BOUGHT.equals(key)){<a name="line.224"></a>
<span class="sourceLineNo">225</span>                        this.pricePerVehicleBought = Double.parseDouble(value);<a name="line.225"></a>
<span class="sourceLineNo">226</span>                } else if (PRICE_PER_VEHICLE_SOLD.equals(key)){<a name="line.226"></a>
<span class="sourceLineNo">227</span>                        this.pricePerVehicleSold = Double.parseDouble(value);<a name="line.227"></a>
<span class="sourceLineNo">228</span>                } else if (START_WITH_24_HOURS.equals(key)){<a name="line.228"></a>
<span class="sourceLineNo">229</span>                        this.startWith24Hours = Boolean.parseBoolean(value);<a name="line.229"></a>
<span class="sourceLineNo">230</span>                } else if (MIN_OPERATION_TIME.equals(key)){<a name="line.230"></a>
<span class="sourceLineNo">231</span>                        this.minOperationTime = Double.parseDouble(value);<a name="line.231"></a>
<span class="sourceLineNo">232</span>                } else if (MIN_INITIAL_STOP_DISTANCE.equals(key)){<a name="line.232"></a>
<span class="sourceLineNo">233</span>                        this.minInitialStopDistance = Double.parseDouble(value);<a name="line.233"></a>
<span class="sourceLineNo">234</span>                } else if (USEFRANCHISE.equals(key)){<a name="line.234"></a>
<span class="sourceLineNo">235</span>                        this.useFranchise = Boolean.parseBoolean(value);<a name="line.235"></a>
<span class="sourceLineNo">236</span>                } else if (WRITESTATS_INTERVAL.equals(key)){<a name="line.236"></a>
<span class="sourceLineNo">237</span>                        this.writeStatsInterval = Integer.parseInt(value);<a name="line.237"></a>
<span class="sourceLineNo">238</span>                } else if (LOG_OPERATORS.equals(key)){<a name="line.238"></a>
<span class="sourceLineNo">239</span>                        this.logOperators = Boolean.parseBoolean(value);                <a name="line.239"></a>
<span class="sourceLineNo">240</span>                } else if (WRITE_METRICS.equals(key)){<a name="line.240"></a>
<span class="sourceLineNo">241</span>                        this.writeMetrics = Boolean.parseBoolean(value);                <a name="line.241"></a>
<span class="sourceLineNo">242</span>                } else if (WRITE_GEXF_STATS_INTERVAL.equals(key)) {<a name="line.242"></a>
<span class="sourceLineNo">243</span>                        this.writeGexfStatsInterval = Integer.parseInt(value);<a name="line.243"></a>
<span class="sourceLineNo">244</span>                } else if (ROUTE_PROVIDER.equals(key)){<a name="line.244"></a>
<span class="sourceLineNo">245</span>                        this.routeProvider = value;<a name="line.245"></a>
<span class="sourceLineNo">246</span>                } else if (SPEED_LIMIT_FOR_STOPS.equals(key)){<a name="line.246"></a>
<span class="sourceLineNo">247</span>                        this.speedLimitForStops = Double.parseDouble(value);<a name="line.247"></a>
<span class="sourceLineNo">248</span>                } else if (PLANNING_SPEED_FACTOR.equals(key)){<a name="line.248"></a>
<span class="sourceLineNo">249</span>                        this.planningSpeedFactor = Double.parseDouble(value);<a name="line.249"></a>
<span class="sourceLineNo">250</span>                } else if (DRIVER_REST_TIME.equals(key)){<a name="line.250"></a>
<span class="sourceLineNo">251</span>                        this.driverRestTime = Double.parseDouble(value);<a name="line.251"></a>
<span class="sourceLineNo">252</span>                } else if (GRID_SIZE.equals(key)){<a name="line.252"></a>
<span class="sourceLineNo">253</span>                        this.gridSize = Double.parseDouble(value);<a name="line.253"></a>
<span class="sourceLineNo">254</span>                } else if (TIMESLOT_SIZE.equals(key)){<a name="line.254"></a>
<span class="sourceLineNo">255</span>                        this.timeSlotSize = Double.parseDouble(value);<a name="line.255"></a>
<span class="sourceLineNo">256</span>                } else if (USE_ADAPTIVE_NUMBER_OF_OPERATORS.equals(key)){<a name="line.256"></a>
<span class="sourceLineNo">257</span>                        this.useAdaptiveNumberOfOperators = Boolean.parseBoolean(value);<a name="line.257"></a>
<span class="sourceLineNo">258</span>                } else if (SHARE_OF_OPERATORS_WITH_PROFIT.equals(key)){<a name="line.258"></a>
<span class="sourceLineNo">259</span>                        this.shareOfOperatorsWithProfit = Double.parseDouble(value);<a name="line.259"></a>
<span class="sourceLineNo">260</span>                } else if (DISABLE_CREATION_OF_NEW_OPERATORS_IN_ITERATION.equals(key)){<a name="line.260"></a>
<span class="sourceLineNo">261</span>                        this.disableCreationOfNewOperatorsInIteration = Integer.parseInt(value);<a name="line.261"></a>
<span class="sourceLineNo">262</span>                } else if (REROUTE_AGENTS_STUCK.equals(key)){<a name="line.262"></a>
<span class="sourceLineNo">263</span>                        this.reRouteAgentsStuck = Boolean.parseBoolean(value);<a name="line.263"></a>
<span class="sourceLineNo">264</span>                } else if (PASSENGERS_BOARD_EVERY_LINE.equals(key)){<a name="line.264"></a>
<span class="sourceLineNo">265</span>                        this.passengersBoardEveryLine = Boolean.parseBoolean(value);<a name="line.265"></a>
<span class="sourceLineNo">266</span>                } else if (TRANSIT_SCHEDULE_TO_START_WITH.equals(key)){<a name="line.266"></a>
<span class="sourceLineNo">267</span>                        this.transitScheduleToStartWith = value;<a name="line.267"></a>
<span class="sourceLineNo">268</span>                } else if (MERGE_TRANSIT_LINE.equals(key)){<a name="line.268"></a>
<span class="sourceLineNo">269</span>                        this.mergeTransitLine = Boolean.parseBoolean(value);<a name="line.269"></a>
<span class="sourceLineNo">270</span>                } else if (PT_ENABLER.equals(key)){<a name="line.270"></a>
<span class="sourceLineNo">271</span>                        this.ptEnabler = value;<a name="line.271"></a>
<span class="sourceLineNo">272</span>                } else if (PT_ROUTER.equals(key)){<a name="line.272"></a>
<span class="sourceLineNo">273</span>                        this.ptRouter = value;<a name="line.273"></a>
<span class="sourceLineNo">274</span>                } else if(OPERATIONMODE.equals(key)){<a name="line.274"></a>
<span class="sourceLineNo">275</span>                        this.operationMode = value;<a name="line.275"></a>
<span class="sourceLineNo">276</span>                } else if(TOPOTYPESFORSTOPS.equals(key)){<a name="line.276"></a>
<span class="sourceLineNo">277</span>                        this.topoTypesForStops = value;<a name="line.277"></a>
<span class="sourceLineNo">278</span>                } else if(MIN_CAPACITY_FOR_STOPS.equals(key)){<a name="line.278"></a>
<span class="sourceLineNo">279</span>                        this.minCapacityForStops = Double.parseDouble(value);<a name="line.279"></a>
<span class="sourceLineNo">280</span>                }else if (key != null &amp;&amp; key.startsWith(PMODULE)) {<a name="line.280"></a>
<span class="sourceLineNo">281</span>                        PStrategySettings settings = getStrategySettings(Id.create(key.substring(PMODULE.length()), PStrategySettings.class), true);<a name="line.281"></a>
<span class="sourceLineNo">282</span>                        settings.setModuleName(value);<a name="line.282"></a>
<span class="sourceLineNo">283</span>                } else if (key != null &amp;&amp; key.startsWith(PMODULE_PROBABILITY)) {<a name="line.283"></a>
<span class="sourceLineNo">284</span>                        PStrategySettings settings = getStrategySettings(Id.create(key.substring(PMODULE_PROBABILITY.length()), PStrategySettings.class), true);<a name="line.284"></a>
<span class="sourceLineNo">285</span>                        settings.setProbability(Double.parseDouble(value));<a name="line.285"></a>
<span class="sourceLineNo">286</span>                } else if (key != null &amp;&amp; key.startsWith(PMODULE_DISABLEINITERATION)) {<a name="line.286"></a>
<span class="sourceLineNo">287</span>                        PStrategySettings settings = getStrategySettings(Id.create(key.substring(PMODULE_DISABLEINITERATION.length()), PStrategySettings.class), true);<a name="line.287"></a>
<span class="sourceLineNo">288</span>                        settings.setDisableInIteration(Integer.parseInt(value));<a name="line.288"></a>
<span class="sourceLineNo">289</span>                } else if (key != null &amp;&amp; key.startsWith(PMODULE_PARAMETER)) {<a name="line.289"></a>
<span class="sourceLineNo">290</span>                        PStrategySettings settings = getStrategySettings(Id.create(key.substring(PMODULE_PARAMETER.length()), PStrategySettings.class), true);<a name="line.290"></a>
<span class="sourceLineNo">291</span>                        settings.setParameters(value);<a name="line.291"></a>
<span class="sourceLineNo">292</span>                } else if (SUBSIDY_APPROACH.equals(key)) {<a name="line.292"></a>
<span class="sourceLineNo">293</span>                        this.subsidyApproach = value;<a name="line.293"></a>
<span class="sourceLineNo">294</span>                } else {<a name="line.294"></a>
<span class="sourceLineNo">295</span>                        log.error("unknown parameter: " + key + "...");<a name="line.295"></a>
<span class="sourceLineNo">296</span>                }<a name="line.296"></a>
<span class="sourceLineNo">297</span>        }<a name="line.297"></a>
<span class="sourceLineNo">298</span>        <a name="line.298"></a>
<span class="sourceLineNo">299</span>        // Getter<a name="line.299"></a>
<span class="sourceLineNo">300</span>        <a name="line.300"></a>
<span class="sourceLineNo">301</span>        @Override<a name="line.301"></a>
<span class="sourceLineNo">302</span>        public TreeMap&lt;String, String&gt; getParams() {<a name="line.302"></a>
<span class="sourceLineNo">303</span>                TreeMap&lt;String, String&gt; map = new TreeMap&lt;&gt;();<a name="line.303"></a>
<span class="sourceLineNo">304</span>                <a name="line.304"></a>
<span class="sourceLineNo">305</span>                map.put(P_IDENTIFIER, this.pIdentifier);<a name="line.305"></a>
<span class="sourceLineNo">306</span>                map.put(MIN_X, Double.toString(this.minX));<a name="line.306"></a>
<span class="sourceLineNo">307</span>                map.put(MIN_Y, Double.toString(this.minY));<a name="line.307"></a>
<span class="sourceLineNo">308</span>                map.put(MAX_X, Double.toString(this.maxX));<a name="line.308"></a>
<span class="sourceLineNo">309</span>                map.put(MAX_Y, Double.toString(this.maxY));<a name="line.309"></a>
<span class="sourceLineNo">310</span>                map.put(SERVICEAREAFILE, this.serviceAreaFile);<a name="line.310"></a>
<span class="sourceLineNo">311</span>                map.put(OPERATOR_TYPE, this.operatorType);<a name="line.311"></a>
<span class="sourceLineNo">312</span>                map.put(NUMBER_OF_OPERATORS, Integer.toString(this.numberOfOperators));<a name="line.312"></a>
<span class="sourceLineNo">313</span>                map.put(NUMBER_OF_ITERATIONS_FOR_PROSPECTING, Integer.toString(this.numberOfIterationsForProspecting));<a name="line.313"></a>
<span class="sourceLineNo">314</span>                map.put(INITIAL_BUDGET, Double.toString(this.initialBudget));<a name="line.314"></a>
<span class="sourceLineNo">315</span>                map.put(PAX_PER_VEHICLE, Integer.toString(this.paxPerVehicle));<a name="line.315"></a>
<span class="sourceLineNo">316</span>                map.put(DELAY_PER_BOARDING_PASSENGER, Double.toString(this.delayPerBoardingPassenger));<a name="line.316"></a>
<span class="sourceLineNo">317</span>                map.put(DELAY_PER_ALIGHTING_PASSENGER, Double.toString(this.delayPerAlightingPassenger));<a name="line.317"></a>
<span class="sourceLineNo">318</span>                map.put(DOOR_OPERATION_MODE, this.doorOperationMode.toString());<a name="line.318"></a>
<span class="sourceLineNo">319</span>                map.put(PCE, Double.toString(this.passengerCarEquivalents));<a name="line.319"></a>
<span class="sourceLineNo">320</span>                map.put(VEHICLE_MAXIMUM_VELOCITY, Double.toString(this.vehicleMaximumVelocity));<a name="line.320"></a>
<span class="sourceLineNo">321</span>                map.put(COST_PER_VEHICLE_AND_DAY, Double.toString(this.costPerVehicleAndDay));<a name="line.321"></a>
<span class="sourceLineNo">322</span>                map.put(COST_PER_KILOMETER, Double.toString(this.costPerKilometer));<a name="line.322"></a>
<span class="sourceLineNo">323</span>                map.put(COST_PER_HOUR, Double.toString(this.costPerHour));<a name="line.323"></a>
<span class="sourceLineNo">324</span>                map.put(EARNINGS_PER_BOARDING_PASSENGER, Double.toString(this.earningsPerBoardingPassenger));<a name="line.324"></a>
<span class="sourceLineNo">325</span>                map.put(EARNINGS_PER_KILOMETER_AND_PASSENGER, Double.toString(this.earningsPerKilometerAndPassenger));<a name="line.325"></a>
<span class="sourceLineNo">326</span>                map.put(PRICE_PER_VEHICLE_BOUGHT, Double.toString(this.pricePerVehicleBought));<a name="line.326"></a>
<span class="sourceLineNo">327</span>                map.put(PRICE_PER_VEHICLE_SOLD, Double.toString(this.pricePerVehicleSold));<a name="line.327"></a>
<span class="sourceLineNo">328</span>                map.put(START_WITH_24_HOURS, Boolean.toString(this.startWith24Hours));<a name="line.328"></a>
<span class="sourceLineNo">329</span>                map.put(MIN_OPERATION_TIME, Double.toString(this.minOperationTime));<a name="line.329"></a>
<span class="sourceLineNo">330</span>                map.put(MIN_INITIAL_STOP_DISTANCE, Double.toString(this.minInitialStopDistance));<a name="line.330"></a>
<span class="sourceLineNo">331</span>                map.put(USEFRANCHISE, Boolean.toString(this.useFranchise));<a name="line.331"></a>
<span class="sourceLineNo">332</span>                map.put(WRITESTATS_INTERVAL, Integer.toString(this.writeStatsInterval));<a name="line.332"></a>
<span class="sourceLineNo">333</span>                map.put(LOG_OPERATORS, Boolean.toString(this.logOperators));<a name="line.333"></a>
<span class="sourceLineNo">334</span>                map.put(WRITE_METRICS, Boolean.toString(this.writeMetrics));<a name="line.334"></a>
<span class="sourceLineNo">335</span>                map.put(WRITE_GEXF_STATS_INTERVAL, Integer.toString(this.writeGexfStatsInterval));<a name="line.335"></a>
<span class="sourceLineNo">336</span>                map.put(ROUTE_PROVIDER, this.routeProvider);<a name="line.336"></a>
<span class="sourceLineNo">337</span>                map.put(SPEED_LIMIT_FOR_STOPS, Double.toString(this.speedLimitForStops));<a name="line.337"></a>
<span class="sourceLineNo">338</span>                map.put(PLANNING_SPEED_FACTOR, Double.toString(this.planningSpeedFactor));<a name="line.338"></a>
<span class="sourceLineNo">339</span>                map.put(DRIVER_REST_TIME, Double.toString(this.driverRestTime));<a name="line.339"></a>
<span class="sourceLineNo">340</span>                map.put(GRID_SIZE, Double.toString(this.gridSize));<a name="line.340"></a>
<span class="sourceLineNo">341</span>                map.put(TIMESLOT_SIZE, Double.toString(this.timeSlotSize));<a name="line.341"></a>
<span class="sourceLineNo">342</span>                map.put(USE_ADAPTIVE_NUMBER_OF_OPERATORS, Boolean.toString(this.useAdaptiveNumberOfOperators));<a name="line.342"></a>
<span class="sourceLineNo">343</span>                map.put(SHARE_OF_OPERATORS_WITH_PROFIT, Double.toString(this.shareOfOperatorsWithProfit));<a name="line.343"></a>
<span class="sourceLineNo">344</span>                map.put(DISABLE_CREATION_OF_NEW_OPERATORS_IN_ITERATION, Integer.toString(this.disableCreationOfNewOperatorsInIteration));<a name="line.344"></a>
<span class="sourceLineNo">345</span>                map.put(REROUTE_AGENTS_STUCK, Boolean.toString(this.reRouteAgentsStuck));<a name="line.345"></a>
<span class="sourceLineNo">346</span>                map.put(PASSENGERS_BOARD_EVERY_LINE, Boolean.toString(this.passengersBoardEveryLine));<a name="line.346"></a>
<span class="sourceLineNo">347</span>                map.put(TRANSIT_SCHEDULE_TO_START_WITH, this.transitScheduleToStartWith);<a name="line.347"></a>
<span class="sourceLineNo">348</span>                map.put(MERGE_TRANSIT_LINE, Boolean.toString(this.mergeTransitLine));<a name="line.348"></a>
<span class="sourceLineNo">349</span>                map.put(PT_ROUTER, this.ptRouter);<a name="line.349"></a>
<span class="sourceLineNo">350</span>                map.put(OPERATIONMODE, this.operationMode);<a name="line.350"></a>
<span class="sourceLineNo">351</span>                map.put(TOPOTYPESFORSTOPS, this.topoTypesForStops);<a name="line.351"></a>
<span class="sourceLineNo">352</span>                map.put(MIN_CAPACITY_FOR_STOPS, Double.toString(this.minCapacityForStops));<a name="line.352"></a>
<span class="sourceLineNo">353</span>                map.put(SUBSIDY_APPROACH, this.subsidyApproach);<a name="line.353"></a>
<span class="sourceLineNo">354</span>                <a name="line.354"></a>
<span class="sourceLineNo">355</span>                for (Entry&lt;Id&lt;PStrategySettings&gt;, PStrategySettings&gt; entry : this.strategies.entrySet()) {<a name="line.355"></a>
<span class="sourceLineNo">356</span>                        map.put(PMODULE + entry.getKey().toString(), entry.getValue().getModuleName());<a name="line.356"></a>
<span class="sourceLineNo">357</span>                        map.put(PMODULE_PROBABILITY + entry.getKey().toString(), Double.toString(entry.getValue().getProbability()));<a name="line.357"></a>
<span class="sourceLineNo">358</span>                        map.put(PMODULE_DISABLEINITERATION + entry.getKey().toString(), Integer.toString(entry.getValue().getDisableInIteration()));<a name="line.358"></a>
<span class="sourceLineNo">359</span>                        map.put(PMODULE_PARAMETER + entry.getKey().toString(), entry.getValue().getParametersAsString());<a name="line.359"></a>
<span class="sourceLineNo">360</span>                }<a name="line.360"></a>
<span class="sourceLineNo">361</span>                <a name="line.361"></a>
<span class="sourceLineNo">362</span>                return map;<a name="line.362"></a>
<span class="sourceLineNo">363</span>        }<a name="line.363"></a>
<span class="sourceLineNo">364</span>        <a name="line.364"></a>
<span class="sourceLineNo">365</span>        @Override<a name="line.365"></a>
<span class="sourceLineNo">366</span>        public final Map&lt;String, String&gt; getComments() {<a name="line.366"></a>
<span class="sourceLineNo">367</span>                Map&lt;String,String&gt; map = super.getComments();<a name="line.367"></a>
<span class="sourceLineNo">368</span>                <a name="line.368"></a>
<span class="sourceLineNo">369</span>                map.put(P_IDENTIFIER, "This String will be used to identify all components of the paratransit system, e.g. vehicles and drivers");<a name="line.369"></a>
<span class="sourceLineNo">370</span>                map.put(MIN_X, "min x coordinate for service area");<a name="line.370"></a>
<span class="sourceLineNo">371</span>                map.put(MIN_Y, "min y coordinate for service area");<a name="line.371"></a>
<span class="sourceLineNo">372</span>                map.put(MAX_X, "max x coordinate for service area");<a name="line.372"></a>
<span class="sourceLineNo">373</span>                map.put(MAX_Y, "max y coordinate for service area");<a name="line.373"></a>
<span class="sourceLineNo">374</span>                map.put(SERVICEAREAFILE, "a shapefile containing a shape of the service-area or a textfile containing a sequence of x/y values, describing a line string");<a name="line.374"></a>
<span class="sourceLineNo">375</span>                map.put(OPERATOR_TYPE, "Type of operator to be used");<a name="line.375"></a>
<span class="sourceLineNo">376</span>                map.put(NUMBER_OF_OPERATORS, "number of operators operating");<a name="line.376"></a>
<span class="sourceLineNo">377</span>                map.put(NUMBER_OF_ITERATIONS_FOR_PROSPECTING, "number of iterations an operator will survive with a negative scoring");<a name="line.377"></a>
<span class="sourceLineNo">378</span>                map.put(INITIAL_BUDGET, "The budget a new operator is initialized with");<a name="line.378"></a>
<span class="sourceLineNo">379</span>                map.put(PAX_PER_VEHICLE, "number of passengers per vehicle");<a name="line.379"></a>
<span class="sourceLineNo">380</span>                map.put(PCE, "Passenger car equilvalents of one paratransit vehicle");<a name="line.380"></a>
<span class="sourceLineNo">381</span>                map.put(VEHICLE_MAXIMUM_VELOCITY, "Maximum velocity of minibuses. Default is Double.POSITIVE_INFINITY.");<a name="line.381"></a>
<span class="sourceLineNo">382</span>                map.put(DELAY_PER_BOARDING_PASSENGER, "The amount of time a vehicle is delayed by one single boarding passenger in seconds.");<a name="line.382"></a>
<span class="sourceLineNo">383</span>                map.put(DELAY_PER_ALIGHTING_PASSENGER, "The amount of time a vehicle is delayed by one single alighting passenger in seconds.");<a name="line.383"></a>
<span class="sourceLineNo">384</span>                map.put(DOOR_OPERATION_MODE, "serial and parallel are permitted. Default is serial.");<a name="line.384"></a>
<span class="sourceLineNo">385</span>                map.put(COST_PER_VEHICLE_AND_DAY, "cost per vehicle and day - will prevent companies from operating only short periods of a day");<a name="line.385"></a>
<span class="sourceLineNo">386</span>                map.put(COST_PER_KILOMETER, "cost per vehicle and kilometer travelled");<a name="line.386"></a>
<span class="sourceLineNo">387</span>                map.put(COST_PER_HOUR, "cost per vehicle and hour in service");<a name="line.387"></a>
<span class="sourceLineNo">388</span>                map.put(EARNINGS_PER_BOARDING_PASSENGER, "Price an agent has to pay when boarding, regardless how far he will travel");<a name="line.388"></a>
<span class="sourceLineNo">389</span>                map.put(EARNINGS_PER_KILOMETER_AND_PASSENGER, "earnings per passenger kilometer");<a name="line.389"></a>
<span class="sourceLineNo">390</span>                map.put(PRICE_PER_VEHICLE_BOUGHT, "price of one vehicle bought");<a name="line.390"></a>
<span class="sourceLineNo">391</span>                map.put(PRICE_PER_VEHICLE_SOLD, "price of one vehicle sold");<a name="line.391"></a>
<span class="sourceLineNo">392</span>                map.put(START_WITH_24_HOURS, "Initial plan will start operating 0-24 hours");<a name="line.392"></a>
<span class="sourceLineNo">393</span>                map.put(MIN_OPERATION_TIME, "min time of operation of each operator in seconds");<a name="line.393"></a>
<span class="sourceLineNo">394</span>                map.put(MIN_INITIAL_STOP_DISTANCE, "min distance the two initial stops of a new operator's first route should be apart. Default is 1.0. Set to 0.0 to allow for the same stop being picked as start and end stop.");<a name="line.394"></a>
<span class="sourceLineNo">395</span>                map.put(USEFRANCHISE, "Will use a franchise system if set to true");<a name="line.395"></a>
<span class="sourceLineNo">396</span>                map.put(WRITESTATS_INTERVAL, "interval in which statistics will be plotted. Set to zero to turn this feature off. Set to something larger than the total number of iterations to turn off the plots, but write the statistics file anyway");<a name="line.396"></a>
<span class="sourceLineNo">397</span>                map.put(LOG_OPERATORS, "will log operators individually if set to true");<a name="line.397"></a>
<span class="sourceLineNo">398</span>                map.put(WRITE_METRICS, "will calculate common performance metrics if set to true, default is false");<a name="line.398"></a>
<span class="sourceLineNo">399</span>                map.put(WRITE_GEXF_STATS_INTERVAL, "number of iterations the gexf output gets updated. Set to zero to turn this feature off");<a name="line.399"></a>
<span class="sourceLineNo">400</span>                map.put(ROUTE_PROVIDER, "The route provider used. Currently, there are SimpleCircleScheduleProvider and SimpleBackAndForthScheduleProvider");<a name="line.400"></a>
<span class="sourceLineNo">401</span>                map.put(SPEED_LIMIT_FOR_STOPS, "Link cannot serve as paratransit stop, if its speed limit is equal or higher than the limit set here. Default is +INF");<a name="line.401"></a>
<span class="sourceLineNo">402</span>                map.put(PLANNING_SPEED_FACTOR, "Freespeed of link will be modified by factor. Resulting link travel time is written to transit schedule. Default is 1.0 aka freespeed of the link.");<a name="line.402"></a>
<span class="sourceLineNo">403</span>                map.put(DRIVER_REST_TIME, "The rest time of a driver at the end of a complete tour in seconds. Defaults to 60 seconds.");<a name="line.403"></a>
<span class="sourceLineNo">404</span>                map.put(GRID_SIZE, "The grid size (length and height) for aggregating stuff in various modules (RandomStopProvider, ActivityLocationsParatransitUser, PFranchise). Default of Double.maxvalue effectively aggregates all data points into one gridPoint");<a name="line.404"></a>
<span class="sourceLineNo">405</span>                map.put(TIMESLOT_SIZE, "The size of a time slot aggregating stuff in various modules (TimeProvider, CreateNewPlan). Default of Double.maxvalue effectively aggregates all data points into one time slot");<a name="line.405"></a>
<span class="sourceLineNo">406</span>                map.put(USE_ADAPTIVE_NUMBER_OF_OPERATORS, "Will try to adapt the number of operators to meet the given share of profitable operators if set to true");<a name="line.406"></a>
<span class="sourceLineNo">407</span>                map.put(SHARE_OF_OPERATORS_WITH_PROFIT, "Target share of profitable operators - Set " + USE_ADAPTIVE_NUMBER_OF_OPERATORS + "=true to enable this feature");<a name="line.407"></a>
<span class="sourceLineNo">408</span>                map.put(DISABLE_CREATION_OF_NEW_OPERATORS_IN_ITERATION, "No more new operators will be found beginning with the iteration specified");<a name="line.408"></a>
<span class="sourceLineNo">409</span>                map.put(REROUTE_AGENTS_STUCK, "All agents stuck will be rerouted at the beginning of an iteration, if set to true.");<a name="line.409"></a>
<span class="sourceLineNo">410</span>                map.put(PASSENGERS_BOARD_EVERY_LINE, "Agents will board every vehicles serving the destination (stop), if set to true. Set to false, to force agents to take only vehicles of the line planned. Default is false.");<a name="line.410"></a>
<span class="sourceLineNo">411</span>                map.put(TRANSIT_SCHEDULE_TO_START_WITH, "Will initialize one operator for each transit line with the given time of operation and number of vehicles");<a name="line.411"></a>
<span class="sourceLineNo">412</span>                map.put(MERGE_TRANSIT_LINE, "Merges all routes of a transit line that have the same sequence of stops. Does not respect the time profile of the routes. Default is false.");<a name="line.412"></a>
<span class="sourceLineNo">413</span>                map.put(PT_ROUTER, "Uses a experimental connection scan algorithm for routing if set to 'raptor'. Defaults to MATSim standard router.");<a name="line.413"></a>
<span class="sourceLineNo">414</span>                map.put(OPERATIONMODE, "the mode of transport in which the paratransit operates");<a name="line.414"></a>
<span class="sourceLineNo">415</span>                map.put(TOPOTYPESFORSTOPS, "comma separated integer-values, as used in NetworkCalcTopoTypes");<a name="line.415"></a>
<span class="sourceLineNo">416</span>                map.put(MIN_CAPACITY_FOR_STOPS, "Link cannot serve as paratransit stop, if its capacity is lower than the limit set here. Default is 0.");<a name="line.416"></a>
<span class="sourceLineNo">417</span>                map.put(SUBSIDY_APPROACH, "Optional: add a subsidy to the operators' scores. Currently implemented: 'null': no subsidy; 'perPassenger': a subsidy of 100000 monetary units per passenger");<a name="line.417"></a>
<span class="sourceLineNo">418</span>                <a name="line.418"></a>
<span class="sourceLineNo">419</span>                for (Entry&lt;Id&lt;PStrategySettings&gt;, PStrategySettings&gt;  entry : this.strategies.entrySet()) {<a name="line.419"></a>
<span class="sourceLineNo">420</span>                        map.put(PMODULE + entry.getKey().toString(), "name of strategy");<a name="line.420"></a>
<span class="sourceLineNo">421</span>                        map.put(PMODULE_PROBABILITY + entry.getKey().toString(), "probability that a strategy is applied to a given a plan. despite its name, this really is a ``weight''");<a name="line.421"></a>
<span class="sourceLineNo">422</span>                        map.put(PMODULE_DISABLEINITERATION + entry.getKey().toString(), "removes the strategy from the choice set at the beginning of the given iteration");<a name="line.422"></a>
<span class="sourceLineNo">423</span>                        map.put(PMODULE_PARAMETER + entry.getKey().toString(), "parameters of the strategy");<a name="line.423"></a>
<span class="sourceLineNo">424</span>                }<a name="line.424"></a>
<span class="sourceLineNo">425</span><a name="line.425"></a>
<span class="sourceLineNo">426</span>                return map;<a name="line.426"></a>
<span class="sourceLineNo">427</span>        }<a name="line.427"></a>
<span class="sourceLineNo">428</span>        <a name="line.428"></a>
<span class="sourceLineNo">429</span>        public String getPIdentifier(){<a name="line.429"></a>
<span class="sourceLineNo">430</span>                return this.pIdentifier;<a name="line.430"></a>
<span class="sourceLineNo">431</span>        }<a name="line.431"></a>
<span class="sourceLineNo">432</span>        <a name="line.432"></a>
<span class="sourceLineNo">433</span>        public String getServiceAreaFile(){<a name="line.433"></a>
<span class="sourceLineNo">434</span>                return this.serviceAreaFile;<a name="line.434"></a>
<span class="sourceLineNo">435</span>        }<a name="line.435"></a>
<span class="sourceLineNo">436</span>        <a name="line.436"></a>
<span class="sourceLineNo">437</span>        public double getMinX() {<a name="line.437"></a>
<span class="sourceLineNo">438</span>                return this.minX;<a name="line.438"></a>
<span class="sourceLineNo">439</span>        }<a name="line.439"></a>
<span class="sourceLineNo">440</span><a name="line.440"></a>
<span class="sourceLineNo">441</span>        public double getMinY() {<a name="line.441"></a>
<span class="sourceLineNo">442</span>                return this.minY;<a name="line.442"></a>
<span class="sourceLineNo">443</span>        }<a name="line.443"></a>
<span class="sourceLineNo">444</span><a name="line.444"></a>
<span class="sourceLineNo">445</span>        public double getMaxX() {<a name="line.445"></a>
<span class="sourceLineNo">446</span>                return this.maxX;<a name="line.446"></a>
<span class="sourceLineNo">447</span>        }<a name="line.447"></a>
<span class="sourceLineNo">448</span><a name="line.448"></a>
<span class="sourceLineNo">449</span>        public double getMaxY() {<a name="line.449"></a>
<span class="sourceLineNo">450</span>                return this.maxY;<a name="line.450"></a>
<span class="sourceLineNo">451</span>        }<a name="line.451"></a>
<span class="sourceLineNo">452</span><a name="line.452"></a>
<span class="sourceLineNo">453</span>        public String getOperatorType() {<a name="line.453"></a>
<span class="sourceLineNo">454</span>                return this.operatorType;<a name="line.454"></a>
<span class="sourceLineNo">455</span>        }<a name="line.455"></a>
<span class="sourceLineNo">456</span>        <a name="line.456"></a>
<span class="sourceLineNo">457</span>        public int getNumberOfOperators() {<a name="line.457"></a>
<span class="sourceLineNo">458</span>                return this.numberOfOperators;<a name="line.458"></a>
<span class="sourceLineNo">459</span>        }<a name="line.459"></a>
<span class="sourceLineNo">460</span>        <a name="line.460"></a>
<span class="sourceLineNo">461</span>        public int getNumberOfIterationsForProspecting() {<a name="line.461"></a>
<span class="sourceLineNo">462</span>                return this.numberOfIterationsForProspecting;<a name="line.462"></a>
<span class="sourceLineNo">463</span>        }<a name="line.463"></a>
<span class="sourceLineNo">464</span>        <a name="line.464"></a>
<span class="sourceLineNo">465</span>        public double getInitialBudget() {<a name="line.465"></a>
<span class="sourceLineNo">466</span>                return this.initialBudget;<a name="line.466"></a>
<span class="sourceLineNo">467</span>        }<a name="line.467"></a>
<span class="sourceLineNo">468</span>        <a name="line.468"></a>
<span class="sourceLineNo">469</span>        public int getPaxPerVehicle() {<a name="line.469"></a>
<span class="sourceLineNo">470</span>                return this.paxPerVehicle;<a name="line.470"></a>
<span class="sourceLineNo">471</span>        }<a name="line.471"></a>
<span class="sourceLineNo">472</span>        <a name="line.472"></a>
<span class="sourceLineNo">473</span>        public double getPassengerCarEquivalents() {<a name="line.473"></a>
<span class="sourceLineNo">474</span>                return this.passengerCarEquivalents;<a name="line.474"></a>
<span class="sourceLineNo">475</span>        }<a name="line.475"></a>
<span class="sourceLineNo">476</span>        <a name="line.476"></a>
<span class="sourceLineNo">477</span>        public double getVehicleMaximumVelocity() {<a name="line.477"></a>
<span class="sourceLineNo">478</span>                return this.vehicleMaximumVelocity;<a name="line.478"></a>
<span class="sourceLineNo">479</span>        }<a name="line.479"></a>
<span class="sourceLineNo">480</span>        <a name="line.480"></a>
<span class="sourceLineNo">481</span>        public double getDelayPerBoardingPassenger() {<a name="line.481"></a>
<span class="sourceLineNo">482</span>                return this.delayPerBoardingPassenger;<a name="line.482"></a>
<span class="sourceLineNo">483</span>        }<a name="line.483"></a>
<span class="sourceLineNo">484</span>        <a name="line.484"></a>
<span class="sourceLineNo">485</span>        public double getDelayPerAlightingPassenger() {<a name="line.485"></a>
<span class="sourceLineNo">486</span>                return this.delayPerAlightingPassenger;<a name="line.486"></a>
<span class="sourceLineNo">487</span>        }<a name="line.487"></a>
<span class="sourceLineNo">488</span>        <a name="line.488"></a>
<span class="sourceLineNo">489</span>        public DoorOperationMode getDoorOperationMode() {<a name="line.489"></a>
<span class="sourceLineNo">490</span>                return this.doorOperationMode;<a name="line.490"></a>
<span class="sourceLineNo">491</span>        }<a name="line.491"></a>
<span class="sourceLineNo">492</span>        <a name="line.492"></a>
<span class="sourceLineNo">493</span>        public double getCostPerVehicleAndDay() {<a name="line.493"></a>
<span class="sourceLineNo">494</span>                return this.costPerVehicleAndDay;<a name="line.494"></a>
<span class="sourceLineNo">495</span>        }<a name="line.495"></a>
<span class="sourceLineNo">496</span>        <a name="line.496"></a>
<span class="sourceLineNo">497</span>        public double getCostPerKilometer() {<a name="line.497"></a>
<span class="sourceLineNo">498</span>                return this.costPerKilometer;<a name="line.498"></a>
<span class="sourceLineNo">499</span>        }<a name="line.499"></a>
<span class="sourceLineNo">500</span>        <a name="line.500"></a>
<span class="sourceLineNo">501</span>        public double getCostPerHour() {<a name="line.501"></a>
<span class="sourceLineNo">502</span>                return this.costPerHour;<a name="line.502"></a>
<span class="sourceLineNo">503</span>        }<a name="line.503"></a>
<span class="sourceLineNo">504</span><a name="line.504"></a>
<span class="sourceLineNo">505</span>        public double getEarningsPerBoardingPassenger() {<a name="line.505"></a>
<span class="sourceLineNo">506</span>                return this.earningsPerBoardingPassenger;<a name="line.506"></a>
<span class="sourceLineNo">507</span>        }<a name="line.507"></a>
<span class="sourceLineNo">508</span>        <a name="line.508"></a>
<span class="sourceLineNo">509</span>        public double getEarningsPerKilometerAndPassenger() {<a name="line.509"></a>
<span class="sourceLineNo">510</span>                return this.earningsPerKilometerAndPassenger;<a name="line.510"></a>
<span class="sourceLineNo">511</span>        }<a name="line.511"></a>
<span class="sourceLineNo">512</span>                <a name="line.512"></a>
<span class="sourceLineNo">513</span>        public double getPricePerVehicleBought() {<a name="line.513"></a>
<span class="sourceLineNo">514</span>                return this.pricePerVehicleBought;<a name="line.514"></a>
<span class="sourceLineNo">515</span>        }<a name="line.515"></a>
<span class="sourceLineNo">516</span><a name="line.516"></a>
<span class="sourceLineNo">517</span>        public double getPricePerVehicleSold() {<a name="line.517"></a>
<span class="sourceLineNo">518</span>                return this.pricePerVehicleSold;<a name="line.518"></a>
<span class="sourceLineNo">519</span>        }<a name="line.519"></a>
<span class="sourceLineNo">520</span><a name="line.520"></a>
<span class="sourceLineNo">521</span>        public double getMinOperationTime() {<a name="line.521"></a>
<span class="sourceLineNo">522</span>                return this.minOperationTime;<a name="line.522"></a>
<span class="sourceLineNo">523</span>        }<a name="line.523"></a>
<span class="sourceLineNo">524</span>        <a name="line.524"></a>
<span class="sourceLineNo">525</span>        public double getMinInitialStopDistance() {<a name="line.525"></a>
<span class="sourceLineNo">526</span>                return this.minInitialStopDistance;<a name="line.526"></a>
<span class="sourceLineNo">527</span>        }<a name="line.527"></a>
<span class="sourceLineNo">528</span>        <a name="line.528"></a>
<span class="sourceLineNo">529</span>        public boolean getStartWith24Hours() {<a name="line.529"></a>
<span class="sourceLineNo">530</span>                return this.startWith24Hours;<a name="line.530"></a>
<span class="sourceLineNo">531</span>        }<a name="line.531"></a>
<span class="sourceLineNo">532</span><a name="line.532"></a>
<span class="sourceLineNo">533</span>        public boolean getUseFranchise() {<a name="line.533"></a>
<span class="sourceLineNo">534</span>                return this.useFranchise;<a name="line.534"></a>
<span class="sourceLineNo">535</span>        }<a name="line.535"></a>
<span class="sourceLineNo">536</span>        <a name="line.536"></a>
<span class="sourceLineNo">537</span>        public int getWriteStatsInterval() {<a name="line.537"></a>
<span class="sourceLineNo">538</span>                return this.writeStatsInterval;<a name="line.538"></a>
<span class="sourceLineNo">539</span>        }<a name="line.539"></a>
<span class="sourceLineNo">540</span>        <a name="line.540"></a>
<span class="sourceLineNo">541</span>        public boolean getLogOperators() {<a name="line.541"></a>
<span class="sourceLineNo">542</span>                return this.logOperators;<a name="line.542"></a>
<span class="sourceLineNo">543</span>        }<a name="line.543"></a>
<span class="sourceLineNo">544</span>        <a name="line.544"></a>
<span class="sourceLineNo">545</span>        public boolean getWriteMetrics() {<a name="line.545"></a>
<span class="sourceLineNo">546</span>                return this.writeMetrics;<a name="line.546"></a>
<span class="sourceLineNo">547</span>        }<a name="line.547"></a>
<span class="sourceLineNo">548</span>        <a name="line.548"></a>
<span class="sourceLineNo">549</span>        public int getGexfInterval(){<a name="line.549"></a>
<span class="sourceLineNo">550</span>                return this.writeGexfStatsInterval;<a name="line.550"></a>
<span class="sourceLineNo">551</span>        }<a name="line.551"></a>
<span class="sourceLineNo">552</span>        <a name="line.552"></a>
<span class="sourceLineNo">553</span>        public String getRouteProvider(){<a name="line.553"></a>
<span class="sourceLineNo">554</span>                return this.routeProvider;<a name="line.554"></a>
<span class="sourceLineNo">555</span>        }<a name="line.555"></a>
<span class="sourceLineNo">556</span>        <a name="line.556"></a>
<span class="sourceLineNo">557</span>        public double getSpeedLimitForStops(){<a name="line.557"></a>
<span class="sourceLineNo">558</span>                return this.speedLimitForStops;<a name="line.558"></a>
<span class="sourceLineNo">559</span>        }<a name="line.559"></a>
<span class="sourceLineNo">560</span>        <a name="line.560"></a>
<span class="sourceLineNo">561</span>        public double getPlanningSpeedFactor(){<a name="line.561"></a>
<span class="sourceLineNo">562</span>                return this.planningSpeedFactor;<a name="line.562"></a>
<span class="sourceLineNo">563</span>        }<a name="line.563"></a>
<span class="sourceLineNo">564</span>        <a name="line.564"></a>
<span class="sourceLineNo">565</span>        public double getDriverRestTime(){<a name="line.565"></a>
<span class="sourceLineNo">566</span>                return this.driverRestTime;<a name="line.566"></a>
<span class="sourceLineNo">567</span>        }<a name="line.567"></a>
<span class="sourceLineNo">568</span>        <a name="line.568"></a>
<span class="sourceLineNo">569</span>        public double getGridSize(){<a name="line.569"></a>
<span class="sourceLineNo">570</span>                return this.gridSize;<a name="line.570"></a>
<span class="sourceLineNo">571</span>        }<a name="line.571"></a>
<span class="sourceLineNo">572</span>        <a name="line.572"></a>
<span class="sourceLineNo">573</span>        public double getTimeSlotSize(){<a name="line.573"></a>
<span class="sourceLineNo">574</span>                return this.timeSlotSize;<a name="line.574"></a>
<span class="sourceLineNo">575</span>        }<a name="line.575"></a>
<span class="sourceLineNo">576</span>        <a name="line.576"></a>
<span class="sourceLineNo">577</span>        public boolean getUseAdaptiveNumberOfOperators() {<a name="line.577"></a>
<span class="sourceLineNo">578</span>                return this.useAdaptiveNumberOfOperators;<a name="line.578"></a>
<span class="sourceLineNo">579</span>        }<a name="line.579"></a>
<span class="sourceLineNo">580</span><a name="line.580"></a>
<span class="sourceLineNo">581</span>        public double getShareOfOperatorsWithProfit() {<a name="line.581"></a>
<span class="sourceLineNo">582</span>                return this.shareOfOperatorsWithProfit;<a name="line.582"></a>
<span class="sourceLineNo">583</span>        }<a name="line.583"></a>
<span class="sourceLineNo">584</span>        <a name="line.584"></a>
<span class="sourceLineNo">585</span>        public int getDisableCreationOfNewOperatorsInIteration() {<a name="line.585"></a>
<span class="sourceLineNo">586</span>                return this.disableCreationOfNewOperatorsInIteration;<a name="line.586"></a>
<span class="sourceLineNo">587</span>        }<a name="line.587"></a>
<span class="sourceLineNo">588</span>        <a name="line.588"></a>
<span class="sourceLineNo">589</span>        public boolean getReRouteAgentsStuck() {<a name="line.589"></a>
<span class="sourceLineNo">590</span>                return this.reRouteAgentsStuck;<a name="line.590"></a>
<span class="sourceLineNo">591</span>        }<a name="line.591"></a>
<span class="sourceLineNo">592</span>        <a name="line.592"></a>
<span class="sourceLineNo">593</span>        public boolean getPassengersBoardEveryLine() {<a name="line.593"></a>
<span class="sourceLineNo">594</span>                return this.passengersBoardEveryLine;<a name="line.594"></a>
<span class="sourceLineNo">595</span>        }<a name="line.595"></a>
<span class="sourceLineNo">596</span>        <a name="line.596"></a>
<span class="sourceLineNo">597</span>        public String getTransitScheduleToStartWith() {<a name="line.597"></a>
<span class="sourceLineNo">598</span>                return this.transitScheduleToStartWith;<a name="line.598"></a>
<span class="sourceLineNo">599</span>        }<a name="line.599"></a>
<span class="sourceLineNo">600</span><a name="line.600"></a>
<span class="sourceLineNo">601</span>        public boolean getMergeTransitLine() {<a name="line.601"></a>
<span class="sourceLineNo">602</span>                return this.mergeTransitLine;<a name="line.602"></a>
<span class="sourceLineNo">603</span>        }<a name="line.603"></a>
<span class="sourceLineNo">604</span>        <a name="line.604"></a>
<span class="sourceLineNo">605</span>        public String getPtEnabler() {<a name="line.605"></a>
<span class="sourceLineNo">606</span>                return this.ptEnabler;<a name="line.606"></a>
<span class="sourceLineNo">607</span>        }<a name="line.607"></a>
<span class="sourceLineNo">608</span>        <a name="line.608"></a>
<span class="sourceLineNo">609</span>        public String getPtRouter() {<a name="line.609"></a>
<span class="sourceLineNo">610</span>                return this.ptRouter;<a name="line.610"></a>
<span class="sourceLineNo">611</span>        }<a name="line.611"></a>
<span class="sourceLineNo">612</span><a name="line.612"></a>
<span class="sourceLineNo">613</span>        public String getMode() {<a name="line.613"></a>
<span class="sourceLineNo">614</span>                return this.operationMode;<a name="line.614"></a>
<span class="sourceLineNo">615</span>        }<a name="line.615"></a>
<span class="sourceLineNo">616</span>        <a name="line.616"></a>
<span class="sourceLineNo">617</span>        public void setSubsidyApproach( String val ) {<a name="line.617"></a>
<span class="sourceLineNo">618</span>                this.subsidyApproach = val ;<a name="line.618"></a>
<span class="sourceLineNo">619</span>        }<a name="line.619"></a>
<span class="sourceLineNo">620</span>        public String getSubsidyApproach() {<a name="line.620"></a>
<span class="sourceLineNo">621</span>                return this.subsidyApproach;<a name="line.621"></a>
<span class="sourceLineNo">622</span>        }<a name="line.622"></a>
<span class="sourceLineNo">623</span><a name="line.623"></a>
<span class="sourceLineNo">624</span>        public List&lt;Integer&gt; getTopoTypesForStops() {<a name="line.624"></a>
<span class="sourceLineNo">625</span>                if(this.topoTypesForStops == null){<a name="line.625"></a>
<span class="sourceLineNo">626</span>                        return null;<a name="line.626"></a>
<span class="sourceLineNo">627</span>                }<a name="line.627"></a>
<span class="sourceLineNo">628</span>                List&lt;Integer&gt; list = new ArrayList&lt;&gt;();<a name="line.628"></a>
<span class="sourceLineNo">629</span>                for(String s: this.topoTypesForStops.split(",")){<a name="line.629"></a>
<span class="sourceLineNo">630</span>                        list.add(Integer.parseInt(s.trim()));<a name="line.630"></a>
<span class="sourceLineNo">631</span>                }<a name="line.631"></a>
<span class="sourceLineNo">632</span>                return list;<a name="line.632"></a>
<span class="sourceLineNo">633</span>        }<a name="line.633"></a>
<span class="sourceLineNo">634</span>        <a name="line.634"></a>
<span class="sourceLineNo">635</span>        public double getMinCapacityForStops(){<a name="line.635"></a>
<span class="sourceLineNo">636</span>                return this.minCapacityForStops;<a name="line.636"></a>
<span class="sourceLineNo">637</span>        }<a name="line.637"></a>
<span class="sourceLineNo">638</span><a name="line.638"></a>
<span class="sourceLineNo">639</span>        public Collection&lt;PStrategySettings&gt; getStrategySettings() {<a name="line.639"></a>
<span class="sourceLineNo">640</span>                return this.strategies.values();<a name="line.640"></a>
<span class="sourceLineNo">641</span>        }<a name="line.641"></a>
<span class="sourceLineNo">642</span>        <a name="line.642"></a>
<span class="sourceLineNo">643</span>        private PStrategySettings getStrategySettings(final Id&lt;PStrategySettings&gt; strategyId, final boolean createIfMissing) {<a name="line.643"></a>
<span class="sourceLineNo">644</span>                PStrategySettings settings = this.strategies.get(strategyId);<a name="line.644"></a>
<span class="sourceLineNo">645</span>                if (settings == null &amp;&amp; createIfMissing) {<a name="line.645"></a>
<span class="sourceLineNo">646</span>                        settings = new PStrategySettings(strategyId);<a name="line.646"></a>
<span class="sourceLineNo">647</span>                        this.strategies.put(strategyId, settings);<a name="line.647"></a>
<span class="sourceLineNo">648</span>                }<a name="line.648"></a>
<span class="sourceLineNo">649</span>                return settings;<a name="line.649"></a>
<span class="sourceLineNo">650</span>        }<a name="line.650"></a>
<span class="sourceLineNo">651</span>        <a name="line.651"></a>
<span class="sourceLineNo">652</span>        public static class PStrategySettings{<a name="line.652"></a>
<span class="sourceLineNo">653</span>                private Id&lt;PStrategySettings&gt; id;<a name="line.653"></a>
<span class="sourceLineNo">654</span>                private double probability = -1.0;<a name="line.654"></a>
<span class="sourceLineNo">655</span>                private int disableInIteration = -1;<a name="line.655"></a>
<span class="sourceLineNo">656</span>                private String moduleName = null;<a name="line.656"></a>
<span class="sourceLineNo">657</span>                private String[] parameters = null;<a name="line.657"></a>
<span class="sourceLineNo">658</span><a name="line.658"></a>
<span class="sourceLineNo">659</span>                public PStrategySettings(final Id&lt;PStrategySettings&gt; id) {<a name="line.659"></a>
<span class="sourceLineNo">660</span>                        this.id = id;<a name="line.660"></a>
<span class="sourceLineNo">661</span>                }<a name="line.661"></a>
<span class="sourceLineNo">662</span><a name="line.662"></a>
<span class="sourceLineNo">663</span>                public void setProbability(final double probability) {<a name="line.663"></a>
<span class="sourceLineNo">664</span>                        this.probability = probability;<a name="line.664"></a>
<span class="sourceLineNo">665</span>                }<a name="line.665"></a>
<span class="sourceLineNo">666</span><a name="line.666"></a>
<span class="sourceLineNo">667</span>                public double getProbability() {<a name="line.667"></a>
<span class="sourceLineNo">668</span>                        return this.probability;<a name="line.668"></a>
<span class="sourceLineNo">669</span>                }<a name="line.669"></a>
<span class="sourceLineNo">670</span><a name="line.670"></a>
<span class="sourceLineNo">671</span>                public void setDisableInIteration(int disableInIteration) {<a name="line.671"></a>
<span class="sourceLineNo">672</span>                        this.disableInIteration = disableInIteration;<a name="line.672"></a>
<span class="sourceLineNo">673</span>                }<a name="line.673"></a>
<span class="sourceLineNo">674</span>                <a name="line.674"></a>
<span class="sourceLineNo">675</span>                public int getDisableInIteration() {<a name="line.675"></a>
<span class="sourceLineNo">676</span>                        return this.disableInIteration;<a name="line.676"></a>
<span class="sourceLineNo">677</span>                }<a name="line.677"></a>
<span class="sourceLineNo">678</span><a name="line.678"></a>
<span class="sourceLineNo">679</span>                public void setModuleName(final String moduleName) {<a name="line.679"></a>
<span class="sourceLineNo">680</span>                        this.moduleName = moduleName;<a name="line.680"></a>
<span class="sourceLineNo">681</span>                }<a name="line.681"></a>
<span class="sourceLineNo">682</span><a name="line.682"></a>
<span class="sourceLineNo">683</span>                public String getModuleName() {<a name="line.683"></a>
<span class="sourceLineNo">684</span>                        return this.moduleName;<a name="line.684"></a>
<span class="sourceLineNo">685</span>                }               <a name="line.685"></a>
<span class="sourceLineNo">686</span><a name="line.686"></a>
<span class="sourceLineNo">687</span>                public Id&lt;PStrategySettings&gt; getId() {<a name="line.687"></a>
<span class="sourceLineNo">688</span>                        return this.id;<a name="line.688"></a>
<span class="sourceLineNo">689</span>                }<a name="line.689"></a>
<span class="sourceLineNo">690</span><a name="line.690"></a>
<span class="sourceLineNo">691</span>                public void setId(final Id&lt;PStrategySettings&gt; id) {<a name="line.691"></a>
<span class="sourceLineNo">692</span>                        this.id = id;<a name="line.692"></a>
<span class="sourceLineNo">693</span>                }<a name="line.693"></a>
<span class="sourceLineNo">694</span>                <a name="line.694"></a>
<span class="sourceLineNo">695</span>                public ArrayList&lt;String&gt; getParametersAsArrayList(){<a name="line.695"></a>
<span class="sourceLineNo">696</span>                        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();<a name="line.696"></a>
<span class="sourceLineNo">697</span>                        <a name="line.697"></a>
<span class="sourceLineNo">698</span>                        if (this.parameters != null) {<a name="line.698"></a>
<span class="sourceLineNo">699</span>                                for (String parameter : this.parameters) {<a name="line.699"></a>
<span class="sourceLineNo">700</span>                                        list.add(parameter);<a name="line.700"></a>
<span class="sourceLineNo">701</span>                                }<a name="line.701"></a>
<span class="sourceLineNo">702</span>                        }<a name="line.702"></a>
<span class="sourceLineNo">703</span>                        <a name="line.703"></a>
<span class="sourceLineNo">704</span>                        return list;<a name="line.704"></a>
<span class="sourceLineNo">705</span>                }<a name="line.705"></a>
<span class="sourceLineNo">706</span>                <a name="line.706"></a>
<span class="sourceLineNo">707</span>                public String getParametersAsString() {<a name="line.707"></a>
<span class="sourceLineNo">708</span>                        StringBuffer strBuffer = new StringBuffer();<a name="line.708"></a>
<span class="sourceLineNo">709</span>                        <a name="line.709"></a>
<span class="sourceLineNo">710</span>                        if (this.parameters != null) {<a name="line.710"></a>
<span class="sourceLineNo">711</span>                        strBuffer.append(this.parameters[0]);<a name="line.711"></a>
<span class="sourceLineNo">712</span>                        for (int i = 1; i &lt; this.parameters.length; i++) {<a name="line.712"></a>
<span class="sourceLineNo">713</span>                            strBuffer.append(",");<a name="line.713"></a>
<span class="sourceLineNo">714</span>                            strBuffer.append(this.parameters[i]);<a name="line.714"></a>
<span class="sourceLineNo">715</span>                        }<a name="line.715"></a>
<span class="sourceLineNo">716</span>                    }<a name="line.716"></a>
<span class="sourceLineNo">717</span>                        <a name="line.717"></a>
<span class="sourceLineNo">718</span>                        return strBuffer.toString();<a name="line.718"></a>
<span class="sourceLineNo">719</span>                }<a name="line.719"></a>
<span class="sourceLineNo">720</span><a name="line.720"></a>
<span class="sourceLineNo">721</span>                public void setParameters(String parameter) {<a name="line.721"></a>
<span class="sourceLineNo">722</span>                        if (!parameter.equalsIgnoreCase("")) {<a name="line.722"></a>
<span class="sourceLineNo">723</span>                                String[] parts = StringUtils.explode(parameter, ',');<a name="line.723"></a>
<span class="sourceLineNo">724</span>                                this.parameters = new String[parts.length];<a name="line.724"></a>
<span class="sourceLineNo">725</span>                                for (int i = 0, n = parts.length; i &lt; n; i++) {<a name="line.725"></a>
<span class="sourceLineNo">726</span>                                        this.parameters[i] = parts[i].trim().intern();<a name="line.726"></a>
<span class="sourceLineNo">727</span>                                }<a name="line.727"></a>
<span class="sourceLineNo">728</span>                        }                       <a name="line.728"></a>
<span class="sourceLineNo">729</span>                }<a name="line.729"></a>
<span class="sourceLineNo">730</span><a name="line.730"></a>
<span class="sourceLineNo">731</span>        }<a name="line.731"></a>
<span class="sourceLineNo">732</span>        @Override<a name="line.732"></a>
<span class="sourceLineNo">733</span>        protected void checkConsistency( Config config ) {<a name="line.733"></a>
<span class="sourceLineNo">734</span>                <a name="line.734"></a>
<span class="sourceLineNo">735</span>                if (this.mergeTransitLine) {<a name="line.735"></a>
<span class="sourceLineNo">736</span>                        log.info("All routes of a minibus transit line with the same stop sequence will be merged into one single transit route. Note that the transit schedules written to the output directory do not contain all minibus routes anymore.");<a name="line.736"></a>
<span class="sourceLineNo">737</span>                        <a name="line.737"></a>
<span class="sourceLineNo">738</span>                        if (!logOperators) {<a name="line.738"></a>
<span class="sourceLineNo">739</span>                                log.warn("Transit lines will be merged. Activate the operator logger to retrieve more detailed information on particular routes.");<a name="line.739"></a>
<span class="sourceLineNo">740</span>                        }<a name="line.740"></a>
<span class="sourceLineNo">741</span>                }<a name="line.741"></a>
<span class="sourceLineNo">742</span>        }<a name="line.742"></a>
<span class="sourceLineNo">743</span><a name="line.743"></a>
<span class="sourceLineNo">744</span>}<a name="line.744"></a>




























































</pre>
</div>
</body>
</html>
