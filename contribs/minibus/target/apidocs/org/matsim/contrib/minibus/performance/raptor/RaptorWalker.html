<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Wed May 30 11:22:27 CEST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RaptorWalker (minibus 0.11.0-SNAPSHOT API)</title>
<meta name="date" content="2018-05-30">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RaptorWalker (minibus 0.11.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RaptorWalker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RaptorTransitRouterProvider.html" title="class in org.matsim.contrib.minibus.performance.raptor"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RouteEntry.html" title="class in org.matsim.contrib.minibus.performance.raptor"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/matsim/contrib/minibus/performance/raptor/RaptorWalker.html" target="_top">Frames</a></li>
<li><a href="RaptorWalker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.matsim.contrib.minibus.performance.raptor</div>
<h2 title="Class RaptorWalker" class="title">Class RaptorWalker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.matsim.contrib.minibus.performance.raptor.RaptorWalker</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../../../src-html/org/matsim/contrib/minibus/performance/raptor/RaptorWalker.html#line.79">RaptorWalker</a>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Transit route searching algorithm following the idea of the connection scan algorithm as described by e.g.
 Delling, D. and Pajor, T. and Werneck, R.F., "Round-Based Public Transit Routing" in "Sixth Annual Symposium on Combinatorial Search", 2013.<br>
 <br>
 The algorithms had been extended to allow for circle transit route, i.e. routes that serve the same transit route stop more than once.
 The search itself is based on earliest arrival time only. However, from the set of routes found in each round the one with the least costs is kept.
 That is, depending on the configuration of <a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RaptorDisutility.html" title="class in org.matsim.contrib.minibus.performance.raptor">RaptorDisutility</a>, a longer route but with fewer transfers may be returned.<br>
 <br>
 Note that
 <ul>
        <li>The cost (per boarding or per distance) do not respect the route used. In consequence, the algorithm will always return the fastest route although
  a cheaper route with the same number of transfers may exist. For example, a high-speed train and a local stop train both offer a direct connection between two cities.
  The algorithm returns always the high-speed connection.
        <li>Changing the <a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RaptorDisutility.html" title="class in org.matsim.contrib.minibus.performance.raptor">RaptorDisutility</a> may not be sufficient in case a) both connections serve the same target stops or b) the target stops are too
  close to each other so that transferring from the high-speed stop to the local train stop allows for an earlier arrival time than taking the stop in the first place.
        <li>The algorithm allows for transferring multiple times without having to board a vehicle. Thus, longer transfers are possible if this is indeed faster. In the end, consecutive transfers are merged.
 </ul>
 
 The algorithm works in rounds. In detail
 <ol>
        <li>Search for a all transit stop facilities within a given range from the coordinate of the start activity.
        <li>Parse all transit routes serving these transit stop facilities, each starting from the transit route stop associated with the transit stop facility.
        <li>Check all transit stop facilities that could be updated with a earlier arrival time for possible transfers.
        <li>Start again with 2. and check the routes serving the transfer destination stops.
 </ol>
 Each route stop has a back pointer pointing to its predecessor (route stop).<br>
 <br>
 
 In each round, starting with zero transfers, the best route is retrieved by
 <ol>
        <li>Take all transit stop facilities within a given range of the coordinate of the target activity.
        <li>Backtrace from each destination stop to the starting stops and create a sequence of route segments.
        <li>Score each sequence of route segments.
        <li>Return the sequence with the least costs.
 </ol>
 The best route of a round is compared with the best route of the next round. The better one is kept and eventually returned.  

 The algorithm returns null if no route is found after the given number of max transfers.
 Once a route is found the algorithm runs for an additional number of rounds specified by the number of grace transfers.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>aneumann</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RaptorWalker.html#RaptorWalker-org.matsim.contrib.minibus.performance.raptor.RaptorSearchData-org.matsim.pt.router.TransitTravelDisutility-int-int-">RaptorWalker</a></span>(<a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RaptorSearchData.html" title="class in org.matsim.contrib.minibus.performance.raptor">RaptorSearchData</a>&nbsp;raptorSearchData,
            <a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/pt/router/TransitTravelDisutility.html?is-external=true" title="class or interface in org.matsim.pt.router">TransitTravelDisutility</a>&nbsp;transitTravelDisutility,
            int&nbsp;maxTransfers,
            int&nbsp;graceTransfers)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/pt/router/TransitPassengerRoute.html?is-external=true" title="class or interface in org.matsim.pt.router">TransitPassengerRoute</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RaptorWalker.html#calcLeastCostPath-java.util.Map-java.util.Map-">calcLeastCostPath</a></span>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/pt/transitSchedule/api/TransitStopFacility.html?is-external=true" title="class or interface in org.matsim.pt.transitSchedule.api">TransitStopFacility</a>,<a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/core/router/InitialNode.html?is-external=true" title="class or interface in org.matsim.core.router">InitialNode</a>&gt;&nbsp;fromTransitStops,
                 <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/pt/transitSchedule/api/TransitStopFacility.html?is-external=true" title="class or interface in org.matsim.pt.transitSchedule.api">TransitStopFacility</a>,<a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/core/router/InitialNode.html?is-external=true" title="class or interface in org.matsim.core.router">InitialNode</a>&gt;&nbsp;toTransitStops)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="RaptorWalker-org.matsim.contrib.minibus.performance.raptor.RaptorSearchData-org.matsim.pt.router.TransitTravelDisutility-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>RaptorWalker</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/matsim/contrib/minibus/performance/raptor/RaptorWalker.html#line.100">RaptorWalker</a>(<a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RaptorSearchData.html" title="class in org.matsim.contrib.minibus.performance.raptor">RaptorSearchData</a>&nbsp;raptorSearchData,
                    <a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/pt/router/TransitTravelDisutility.html?is-external=true" title="class or interface in org.matsim.pt.router">TransitTravelDisutility</a>&nbsp;transitTravelDisutility,
                    int&nbsp;maxTransfers,
                    int&nbsp;graceTransfers)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="calcLeastCostPath-java.util.Map-java.util.Map-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>calcLeastCostPath</h4>
<pre>public&nbsp;<a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/pt/router/TransitPassengerRoute.html?is-external=true" title="class or interface in org.matsim.pt.router">TransitPassengerRoute</a>&nbsp;<a href="../../../../../../src-html/org/matsim/contrib/minibus/performance/raptor/RaptorWalker.html#line.118">calcLeastCostPath</a>(<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/pt/transitSchedule/api/TransitStopFacility.html?is-external=true" title="class or interface in org.matsim.pt.transitSchedule.api">TransitStopFacility</a>,<a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/core/router/InitialNode.html?is-external=true" title="class or interface in org.matsim.core.router">InitialNode</a>&gt;&nbsp;fromTransitStops,
                                               <a href="http://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/pt/transitSchedule/api/TransitStopFacility.html?is-external=true" title="class or interface in org.matsim.pt.transitSchedule.api">TransitStopFacility</a>,<a href="http://ci.matsim.org:8080/job/MATSim_M2/ws/matsim/target/site/apidocs/org/matsim/core/router/InitialNode.html?is-external=true" title="class or interface in org.matsim.core.router">InitialNode</a>&gt;&nbsp;toTransitStops)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RaptorWalker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RaptorTransitRouterProvider.html" title="class in org.matsim.contrib.minibus.performance.raptor"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../org/matsim/contrib/minibus/performance/raptor/RouteEntry.html" title="class in org.matsim.contrib.minibus.performance.raptor"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/matsim/contrib/minibus/performance/raptor/RaptorWalker.html" target="_top">Frames</a></li>
<li><a href="RaptorWalker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018. All rights reserved.</small></p>
</body>
</html>
