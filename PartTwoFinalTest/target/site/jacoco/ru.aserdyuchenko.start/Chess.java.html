<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Chess.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PartTwoFinalTest</a> &gt; <a href="index.source.html" class="el_package">ru.aserdyuchenko.start</a> &gt; <span class="el_source">Chess.java</span></div><h1>Chess.java</h1><pre class="source lang-java linenums">package ru.aserdyuchenko.start;

import ru.aserdyuchenko.models.*;
import java.util.*;

<span class="fc" id="L6">public class Chess {</span>
<span class="fc" id="L7">	Figure figure = new Figure();</span>

<span class="fc" id="L9">	public Figure[][] locationBoard = new Figure[8][8];</span>
	String name;
	int locationBoardX;
	int locationBoardY;
	int newLocationBoardX;
	int newLocationBoardY;
<span class="fc" id="L15">	boolean check = false;</span>

/**
 * This metod show board. This nead, if you want to see all figures on board on display.
 */
	public void showBoard() {
<span class="nc" id="L21">		System.out.println();</span>
<span class="nc bnc" id="L22" title="All 2 branches missed.">		for (int locationBoardX = 0; locationBoardX &lt; 8; locationBoardX++) {</span>
<span class="nc bnc" id="L23" title="All 2 branches missed.">   			for (int locationBoardY = 0; locationBoardY &lt; 8; locationBoardY++) {</span>
<span class="nc bnc" id="L24" title="All 2 branches missed.">				if (locationBoard[locationBoardX][locationBoardY] != null) {</span>
<span class="nc" id="L25">        			System.out.print(&quot;[&quot; + locationBoard[locationBoardX][locationBoardY].getName()+ &quot;]&quot; + &quot;\t&quot;);</span>
				} else {
<span class="nc" id="L27">					System.out.print(&quot;[ ]&quot; + &quot;\t&quot;);</span>
				}
    		}
<span class="nc" id="L30">    		System.out.println();</span>
		}
<span class="nc" id="L32">		System.out.println();</span>
<span class="nc" id="L33">	}</span>

/**
 * This metod creat new figure.
 */
	public Figure addFigure(Figure figure) {
<span class="fc" id="L39">		this.locationBoard[figure.getLocationBoardX()][figure.getLocationBoardY()] = figure;</span>
<span class="fc" id="L40">		return figure;</span>
	}

	public void findOldLocationByNameAndRemove(String name) {
<span class="fc bfc" id="L44" title="All 2 branches covered.">		for (int locationBoardX = 0; locationBoardX &lt; 8; locationBoardX++) {</span>
<span class="fc bfc" id="L45" title="All 2 branches covered.">   			for (int locationBoardY = 0; locationBoardY &lt; 8; locationBoardY++) {</span>
<span class="fc bfc" id="L46" title="All 4 branches covered.">				if (locationBoard[locationBoardX][locationBoardY] != null &amp;&amp; locationBoard[locationBoardX][locationBoardY].getName().equals(name)) {</span>
<span class="fc" id="L47">					locationBoard[locationBoardX][locationBoardY] = null;</span>
<span class="fc" id="L48">					break;</span>
				}
    		}
		}
<span class="fc" id="L52">	}</span>

/**
 * This metod check: &quot;is new location empty?&quot;.
 */
	public boolean checkNewLocationIsEmpty(int newLocationBoardX, int newLocationBoardY) {

<span class="fc" id="L59">		boolean check = false;</span>
<span class="fc bfc" id="L60" title="All 2 branches covered.">		if (locationBoard[newLocationBoardX][newLocationBoardY] == null) {</span>
<span class="fc" id="L61">			check = true;</span>
<span class="fc" id="L62">		} else check = false;</span>
<span class="fc" id="L63">	return check;</span>
	}



/**
 * This metod move figure.
 */
	public void moveFigure(int key, Figure figure, int newLocationBoardX, int newLocationBoardY, Chess chess) {
<span class="fc" id="L72">		this.name = figure.getName();</span>
<span class="fc" id="L73">		findOldLocationByNameAndRemove(this.name);</span>
<span class="fc bfc" id="L74" title="All 2 branches covered.">		if (checkNewLocationIsEmpty(newLocationBoardX, newLocationBoardY) == true) {</span>
<span class="fc" id="L75">			MenuFigure menu = new MenuFigure(figure, newLocationBoardX, newLocationBoardY, chess);</span>
<span class="fc" id="L76">			menu.fillFigures();</span>
<span class="fc" id="L77">			menu.select(key);</span>
<span class="fc" id="L78">		} else System.out.print(&quot;Location is not empty!&quot;);</span>
<span class="fc" id="L79">	}</span>

/**
 * This metod check: &quot;Is on the road another figure by horisontal?&quot;.
 */
	public boolean checkIsOnTheRoadAnotherFigureByHorizontal(Figure figure, int newLocationBoardX, int newLocationBoardY){
<span class="fc" id="L85">		boolean check = true;</span>
<span class="fc" id="L86">		int locationBoardX = figure.getLocationBoardX();</span>
<span class="fc" id="L87">		int locationBoardY = figure.getLocationBoardY();</span>
<span class="fc" id="L88">		this.newLocationBoardX = newLocationBoardX;</span>
<span class="fc" id="L89">		this.newLocationBoardY = newLocationBoardY;</span>
<span class="fc" id="L90">		Chess chess = new Chess();</span>
<span class="pc bpc" id="L91" title="1 of 2 branches missed.">		if (newLocationBoardX == locationBoardX) {</span>
<span class="pc bpc" id="L92" title="1 of 2 branches missed.">			if (newLocationBoardY &gt; locationBoardY) {</span>
<span class="fc bfc" id="L93" title="All 2 branches covered.">				for (int index = (locationBoardY+1); index &lt; newLocationBoardY; index++) {</span>
<span class="pc bpc" id="L94" title="1 of 2 branches missed.">					if (checkNewLocationIsEmpty(locationBoardX, index)==false) {</span>
<span class="nc" id="L95">						System.out.print(&quot;Move ancorrect! Figure on the road.&quot;);</span>
<span class="nc" id="L96">						check = false;</span>
<span class="nc" id="L97">						break;</span>
					}
				}
<span class="nc bnc" id="L100" title="All 2 branches missed.">			} else if (newLocationBoardY &lt; locationBoardY) {</span>
<span class="nc bnc" id="L101" title="All 2 branches missed.">				for (int index = newLocationBoardY; index &lt; locationBoardY; index++) {</span>
<span class="nc bnc" id="L102" title="All 2 branches missed.">					if (checkNewLocationIsEmpty(locationBoardX, index)==false) {</span>
<span class="nc" id="L103">						System.out.print(&quot;Move ancorrect! Figure on the road.&quot;);</span>
<span class="nc" id="L104">						check = false;</span>
<span class="nc" id="L105">						break;</span>
					}
				}
			}
		}
<span class="fc" id="L110">	return check;</span>
	}

/**
 * This metod check: &quot;Is on the road another figure by vertical?&quot;.
 */
	public boolean checkIsOnTheRoadAnotherFigureByVertical(Figure figure, int newLocationBoardX, int newLocationBoardY){
<span class="fc" id="L117">		boolean check = true;</span>
<span class="fc" id="L118">		int locationBoardX = figure.getLocationBoardX();</span>
<span class="fc" id="L119">		int locationBoardY = figure.getLocationBoardY();</span>
<span class="fc" id="L120">		this.newLocationBoardX = newLocationBoardX;</span>
<span class="fc" id="L121">		this.newLocationBoardY = newLocationBoardY;</span>
<span class="fc" id="L122">		Chess chess = new Chess();</span>
<span class="pc bpc" id="L123" title="1 of 2 branches missed.">		if (newLocationBoardY == locationBoardY) {</span>
<span class="pc bpc" id="L124" title="1 of 2 branches missed.">			if (newLocationBoardX &gt; locationBoardX) {</span>
<span class="fc bfc" id="L125" title="All 2 branches covered.">				for (int index = locationBoardX; index &lt; newLocationBoardX; index++) {</span>
<span class="fc bfc" id="L126" title="All 2 branches covered.">					if (checkNewLocationIsEmpty(index, locationBoardY)==false) {</span>
<span class="fc" id="L127">						System.out.print(&quot;Move ancorrect! Figure on the road.&quot;);</span>
<span class="fc" id="L128">						check = false;</span>
<span class="fc" id="L129">						break;</span>
					}
				}
<span class="nc bnc" id="L132" title="All 2 branches missed.">			} else if (newLocationBoardX &lt; locationBoardX) {</span>
<span class="nc bnc" id="L133" title="All 2 branches missed.">				for (int index = newLocationBoardX; index &lt; locationBoardX; index++) {</span>
<span class="nc bnc" id="L134" title="All 2 branches missed.">					if (checkNewLocationIsEmpty(index, locationBoardY)==false) {</span>
<span class="nc" id="L135">						System.out.print(&quot;Move ancorrect! Figure on the road.&quot;);</span>
<span class="nc" id="L136">						check = false;</span>
<span class="nc" id="L137">						break;</span>
					}
				}
			}
		}
<span class="fc" id="L142">		return check;</span>
	}

/**
 * This metod check: &quot;Is on the road another figure by diagonal?&quot;.
 */
	public boolean checkIsOnTheRoadAnotherFigureByDiagonal(Figure figure, int newLocationBoardX, int newLocationBoardY){
<span class="fc" id="L149">		boolean check = true;</span>
<span class="fc" id="L150">		int locationBoardX = figure.getLocationBoardX();</span>
<span class="fc" id="L151">		int locationBoardY = figure.getLocationBoardY();</span>
<span class="fc" id="L152">		this.newLocationBoardX = newLocationBoardX;</span>
<span class="fc" id="L153">		this.newLocationBoardY = newLocationBoardY;</span>
<span class="fc" id="L154">		Chess chess = new Chess();</span>
<span class="pc bpc" id="L155" title="2 of 4 branches missed.">		if ((newLocationBoardX &gt; locationBoardX) &amp;&amp; (newLocationBoardY &gt; locationBoardY)) {</span>
<span class="fc bfc" id="L156" title="All 2 branches covered.">			for (int index = locationBoardX; index &lt; newLocationBoardX; index++ ) {</span>
<span class="fc bfc" id="L157" title="All 2 branches covered.">				if (checkNewLocationIsEmpty(index, locationBoardY)==false) {</span>
<span class="fc" id="L158">					System.out.print(&quot;Move ancorrect! Figure on the road.&quot;);</span>
<span class="fc" id="L159">					check = false;</span>
<span class="fc" id="L160">					break;</span>
				}
<span class="fc" id="L162">			locationBoardY++;</span>
			}
<span class="nc bnc" id="L164" title="All 4 branches missed.">		} else if ((newLocationBoardX &gt; locationBoardX) &amp;&amp; (newLocationBoardY &lt; locationBoardY)) {</span>
<span class="nc bnc" id="L165" title="All 2 branches missed.">			for (int index = locationBoardX; index &lt; newLocationBoardX; index++ ) {</span>
<span class="nc bnc" id="L166" title="All 2 branches missed.">				if (checkNewLocationIsEmpty(index, locationBoardY)==false) {</span>
<span class="nc" id="L167">					System.out.print(&quot;Move ancorrect! Figure on the road.&quot;);</span>
<span class="nc" id="L168">					check = false;</span>
<span class="nc" id="L169">					break;</span>
				}
<span class="nc" id="L171">			locationBoardY++;</span>
			}
<span class="nc bnc" id="L173" title="All 4 branches missed.">		} else if ((newLocationBoardX &lt; locationBoardX) &amp;&amp; (newLocationBoardY &gt; locationBoardY)) {</span>
<span class="nc bnc" id="L174" title="All 2 branches missed.">			for (int index = locationBoardX; index &lt; newLocationBoardX; index++ ) {</span>
<span class="nc bnc" id="L175" title="All 2 branches missed.">				if (checkNewLocationIsEmpty(index, locationBoardY)==false) {</span>
<span class="nc" id="L176">					System.out.print(&quot;Move ancorrect! Figure on the road.&quot;);</span>
<span class="nc" id="L177">					check = false;</span>
<span class="nc" id="L178">					break;</span>
				}
<span class="nc" id="L180">				locationBoardY++;</span>
			}
<span class="nc bnc" id="L182" title="All 4 branches missed.">		} else if ((newLocationBoardX &lt; locationBoardX) &amp;&amp; (newLocationBoardY &lt; locationBoardY)) {</span>
<span class="nc bnc" id="L183" title="All 2 branches missed.">			for (int index = locationBoardX; index &lt; newLocationBoardX; index++ ) {</span>
<span class="nc bnc" id="L184" title="All 2 branches missed.">				if (checkNewLocationIsEmpty(index, locationBoardY)==false) {</span>
<span class="nc" id="L185">					System.out.print(&quot;Move ancorrect! Figure on the road.&quot;);</span>
<span class="nc" id="L186">					check = false;</span>
<span class="nc" id="L187">					break;</span>
				}
<span class="nc" id="L189">				locationBoardY++;</span>
			}
		}
<span class="fc" id="L192">		return check;</span>
	}

/**
 * This metod directs, what road we must check(horisontal, vertical or diagonal). This nead to check: &quot;Is on the road anoter figure?&quot;.
 */
	public boolean checkIsOnTheRoadAnotherFigure(Figure figure, int newLocationBoardX, int newLocationBoardY){
<span class="fc" id="L199">		int locationBoardX = figure.getLocationBoardX();</span>
<span class="fc" id="L200">		int locationBoardY = figure.getLocationBoardY();</span>
<span class="fc" id="L201">		this.newLocationBoardX = newLocationBoardX;</span>
<span class="fc" id="L202">		this.newLocationBoardY = newLocationBoardY;</span>
<span class="fc" id="L203">		Chess chess = new Chess();</span>
<span class="fc bfc" id="L204" title="All 2 branches covered.">		if (newLocationBoardX == locationBoardX) {</span>
<span class="pc bpc" id="L205" title="1 of 2 branches missed.">			if (checkIsOnTheRoadAnotherFigureByHorizontal(figure, newLocationBoardX, newLocationBoardY) == true){</span>
<span class="fc" id="L206">					check = true;</span>
			}
<span class="fc bfc" id="L208" title="All 2 branches covered.">		} else if (newLocationBoardY == locationBoardY) {</span>
<span class="fc bfc" id="L209" title="All 2 branches covered.">			if (checkIsOnTheRoadAnotherFigureByVertical(figure, newLocationBoardX, newLocationBoardY)){</span>
<span class="fc" id="L210">					check = true;</span>
			}
<span class="pc bpc" id="L212" title="1 of 2 branches missed.">		} else if (Math.abs(newLocationBoardX - locationBoardX)==Math.abs(newLocationBoardY - locationBoardY)) {</span>
<span class="fc bfc" id="L213" title="All 2 branches covered.">			if (checkIsOnTheRoadAnotherFigureByDiagonal(figure, newLocationBoardX, newLocationBoardY)){</span>
<span class="fc" id="L214">					check = true;</span>
			}
		}
<span class="fc" id="L217">		return check;</span>
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>