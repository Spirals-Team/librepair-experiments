<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Fourth Year Project - Student</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/file_attachment.js"></script>
</head>
<body>
    <h1 th:text="'Student: '+${student.firstName}+' '+${student.lastName}"></h1>
    <p><strong>Student ID: </strong><span th:text="${student.studentNumber}"></span></p>
    <p><strong>Email address: </strong><span th:text="${student.email}"></span></p>
    <p><strong>Program: </strong><span th:text="${student.program}"></span></p>
    <button>Change Password</button>
    <button>Log out</button>
    <div>
        <hr/>
        <h3>Project</h3>
        <button disabled="true">Create/Join</button>
        <button disabled="true">Drop</button>
        <p><strong>Project ID: </strong><span th:text="${student.studentNumber}"></span></p>
        <p><strong>Project Title: </strong><span th:text="${student.email}"></span></p>
        <p><strong>Supervisor: </strong><span th:text="'Program: '+${student.program}"></span></p>
        <p><strong>Second Reader: </strong><span th:text="'Program: '+${student.program}"></span></p>

        <hr/>
        <h4>Other members</h4>
        <ul>
            <li th:each="member : ${project.getStudents()}" th:if="${!member.equals(student)}" >
                <span th:text="${member.firstName}+' '+${member.lastName}+' ('+${member.email}+')'"></span>
            </li>
        </ul>
        <hr/>
        <h4>Project Status</h4>
        <p><strong>Proposal: </strong><span>Submitted</span></p>
        <p><strong>Oral Presentation: </strong><span>Completed</span></p>
        <p><strong>Poster Fair: </strong><span></span></p>
        <p><strong>Final Report: </strong><span></span></p>

    </div>
    <div>
        <hr/>
        <div th:if="${project.getProposal() != null}">
            Proposal: <a th:href="${'/files/' + project.getProposal().getAssetUrl()}" th:text="${project.getProposal().getAssetUrl()}" />
        </div>

        <h3>Upload Proposal (.pdf, .doc, .docx)</h3>
        <form enctype="multipart/form-data" th:action="${'/project/' + student.getProject().getId() + '/upload_proposal'}" method="post">

            <input id="proposal-file" type="file" name="file" accept=".pdf,.doc,.docx" />
            <br />
            <input type="submit" />
        </form>
    </div>
    <div>
        <hr/>
        <h3>Oral Presentation</h3>
        <button disabled="true">View/Update Availability</button>
    </div>
    <div>
        <hr/>
        <h3>Poster Fair</h3>
        <button>View/Update Demo</button>
    </div>
    <div>
        <hr/>
        <div th:if="${project.getReport() != null}">
            Report: <a th:href="${'/files/' + project.getReport().getAssetUrl()}" th:text="${project.getReport().getAssetUrl()}" />
        </div>

        <h3>Upload Final Report (.pdf, .doc, .docx)</h3>
        <form enctype="multipart/form-data" th:action="${'/project/' + student.getProject().getId() + '/upload_final_report'}" method="post">

            <input id="report-file" type="file" name="file" accept=".pdf,.doc,.docx" />
            <br />
            <input type="submit" />
        </form>
    </div>
</body>
</html>
