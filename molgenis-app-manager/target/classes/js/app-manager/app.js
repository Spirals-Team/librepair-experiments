webpackJsonp([1],{"0IK6":function(t,a){},MHs3:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),n=e("nkUn"),i=e.n(n);s.default.use(i.a);var r={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card app-card-component mb-3"},[e("div",{staticClass:"card-header"},[e("button",{staticClass:"btn btn-danger btn-sm mx-1 float-right",attrs:{disabled:t.app.isActive,title:"delete"},on:{click:function(a){t.deleteApp(t.app)}}},[e("i",{staticClass:"fa fa-trash"})]),t._v(" "),e("h5",[t._v(t._s(t.app.label))]),t._v(" "),e("span",[e("toggle-button",{attrs:{labels:{checked:" Active",unchecked:" Inactive"},width:72,value:t.app.isActive,sync:!0,title:"toggle active status"},on:{change:function(a){t.toggleAppActiveState(t.app)}}})],1)]),t._v(" "),e("div",{staticClass:"card-body app-card-body"},[e("p",{staticClass:"lead"},[t._v(" "+t._s(t.app.description)+" ")])])])},staticRenderFns:[]};var c={name:"AppCardGallery",props:["apps"],components:{AppCard:e("VU/8")({name:"AppCard",props:["app"],methods:{deleteApp:function(t){this.$store.dispatch("DELETE_APP",t.id)},toggleAppActiveState:function(t){t.isActive?this.$store.dispatch("DEACTIVATE_APP",t.id):this.$store.dispatch("ACTIVATE_APP",t.id)}}},r,!1,function(t){e("MHs3")},"data-v-444091d5",null).exports}},o={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"app-card-carousel"},[a("div",{staticClass:"app-card-container row"},this._l(this.apps,function(t){return a("div",{key:t.id,staticClass:"col-4"},[a("app-card",{attrs:{app:t}})],1)}))])},staticRenderFns:[]},p={name:"AppManagerContainer",data:function(){return{searchQuery:""}},computed:{apps:function(){return t=this.$store.state.apps,(a=(a=this.searchQuery).toLowerCase())?t.filter(function(t){return t.label.toLowerCase().indexOf(a)>=0||t.description.toLowerCase().indexOf(a)>=0}):t;var t,a},error:function(){return this.$store.state.error},loading:function(){return this.$store.state.loading}},methods:{triggerFileBrowser:function(){document.getElementById("app-upload-input-field").click()},handleFileUpload:function(t){var a=t.target.files[0];this.$store.dispatch("UPLOAD_APP",a),this.$refs["app-upload-field"].value=""}},created:function(){this.$store.dispatch("FETCH_APPS")},components:{AppCardGallery:e("VU/8")(c,o,!1,null,null,null).exports}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-manager-container mt-2"},[e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"app-upload-field",attrs:{id:"app-upload-input-field",type:"file",accept:".gz, .zip"},on:{change:t.handleFileUpload}}),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"row text-center"},[e("div",{staticClass:"col-12"},[t.error?[e("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._v("\n                        "+t._s(t.error)+"\n                    ")])]:t._e()],2)]),t._v(" "),t.loading?[t._m(0)]:[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"d-flex justify-content-center pt-4"},[e("button",{staticClass:"app-upload-btn btn btn-lg btn-success",on:{click:t.triggerFileBrowser}},[e("i",{staticClass:"fa fa-cloud-upload"}),t._v(" Upload new app\n                        ")])])])]),t._v(" "),t._m(1),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"mb-4 d-flex justify-content-center"},[e("div",{staticClass:"input-group"},[t._m(2),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"form-control search-box",attrs:{type:"search",placeholder:"Search apps","aria-label":"Search apps","aria-describedby":"search-icon"},domProps:{value:t.searchQuery},on:{input:function(a){a.target.composing||(t.searchQuery=a.target.value)}}})])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"app-card-container"},[0===t.apps.length?[t._v("\n                            No apps were found\n                        ")]:[e("app-card-gallery",{attrs:{apps:t.apps}})]],2)])])]],2)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"loading-spinner-container d-flex flex-column justify-content-center align-items-center"},[a("i",{staticClass:"fa fa-spinner fa-spin fa-5x my-3"}),this._v(" "),a("p",{staticClass:"text-muted"},[this._v("Fetching apps...")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"d-flex justify-content-center p-4"},[a("p",{staticClass:"text-muted"},[a("small",[this._v("Zip should contain "),a("em",[this._v("index.html")]),this._v(" and "),a("em",[this._v("config.json")]),this._v(", consult "),a("a",{attrs:{target:"_blank",href:"https://molgenis.gitbooks.io/molgenis/content/user_documentation/guide-app-manager.html"}},[this._v("manual")]),this._v(" for details.")])])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"search-icon"}},[a("i",{staticClass:"fa fa-search"})])])}]};var d={name:"AppManager",components:{AppManagerContainer:e("VU/8")(p,l,!1,function(t){e("0IK6")},null,null).exports}},u={render:function(){var t=this.$createElement;return(this._self._c||t)("app-manager-container")},staticRenderFns:[]},f=e("VU/8")(d,u,!1,null,null,null).exports,v=e("NYxO"),h=e("/vlC"),_={ACTIVATE_APP:function(t,a){var e=t.commit,s=t.dispatch;h.a.post("/plugin/appmanager/activate/"+a).then(function(){s("FETCH_APPS")},function(t){e("SET_ERROR",t)})},DEACTIVATE_APP:function(t,a){var e=t.commit,s=t.dispatch;h.a.post("/plugin/appmanager/deactivate/"+a).then(function(){s("FETCH_APPS")},function(t){console.log("error"),e("SET_ERROR",t)})},DELETE_APP:function(t,a){var e=t.commit,s=t.dispatch;h.a.delete_("/plugin/appmanager/delete/"+a).then(function(){s("FETCH_APPS")},function(t){e("SET_ERROR",t)})},FETCH_APPS:function(t){var a=t.commit;h.a.get("/plugin/appmanager/apps").then(function(t){a("UPDATE_APPS",t),a("SET_LOADING",!1)},function(t){a("SET_ERROR",t)})},UPLOAD_APP:function(t,a){var e=t.commit,s=t.dispatch;h.a.postFile("/plugin/appmanager/upload",a).then(function(){s("FETCH_APPS")},function(t){e("SET_ERROR",t)})}};s.default.use(v.a);var m=new v.a.Store({actions:_,mutations:{SET_ERROR:function(t,a){t.error=a},SET_LOADING:function(t,a){t.loading=a},UPDATE_APPS:function(t,a){t.apps=a}},state:{apps:[],error:"",loading:!0}});e("e0XP");s.default.config.productionTip=!1,new s.default({el:"#app-manager",template:"<AppManager/>",components:{AppManager:f},store:m})},e0XP:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.js.map