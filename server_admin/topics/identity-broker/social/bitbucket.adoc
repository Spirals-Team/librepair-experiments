
==== Bitbucket

There are a number of steps you have to complete to be able to login to Bitbucket.  First, go to the `Identity Providers` left menu item
and select `Bitbucket` from the `Add provider` drop down list.  This will bring you to the `Add identity provider` page.

.Add Identity Provider
image:{project_images}/bitbucket-add-identity-provider.png[]

You can't click save yet, as you'll need to obtain a `Client ID` and `Client Secret` from Bitbucket.  One piece of data you'll need from this
page is the `Redirect URI`.  You'll have to provide that to Bitbucket when you register {project_name} as a client there, so
copy this URI to your clipboard.

To enable login with Bitbucket you first have to register an application project in
https://confluence.atlassian.com/bitbucket/oauth-on-bitbucket-cloud-238027431.html[OAuth on Bitbucket Cloud].

NOTE: Bitbucket often changes the look and feel of application registration, so these directions might not always be up to date and the
      configuration steps might be slightly different.


.Add a New App
image:images/bitbucket-developer-applications.png[]

Click the `Add consumer` button.

.Register App
image:images/bitbucket-register-app.png[]

You'll have to copy the `Redirect URI` from the {project_name} `Add Identity Provider` page and enter it into the
`Authorization callback URL` field on the Bitbucket `Register a new OAuth application` page. Once you've completed this
page you will be brought to the application's management page.

NOTE: Please, make sure your app request permissions to read user's e-mail

.Bitbucket App Page
image:images/bitbucket-app-page.png[]

You will need to obtain the client ID and secret from this page so you can enter them into the {project_name} `Add identity provider` page.
Go back to {project_name} and specify those items.
