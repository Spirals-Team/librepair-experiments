[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Calories Management 1.0-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ topjava ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 8 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ topjava ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ topjava ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.7.0:testCompile (default-testCompile) @ topjava ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.21.0:test (default-test) @ topjava ---
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.21.0/surefire-junit4-2.21.0.pom
3/4 KB   
4/4 KB   
         
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.21.0/surefire-junit4-2.21.0.pom (4 KB at 7.4 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.21.0/surefire-providers-2.21.0.pom
3/3 KB   
3/3 KB   
         
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.21.0/surefire-providers-2.21.0.pom (3 KB at 129.2 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.21.0/surefire-junit4-2.21.0.jar
3/83 KB   
5/83 KB   
8/83 KB   
11/83 KB   
13/83 KB   
16/83 KB   
19/83 KB   
21/83 KB   
24/83 KB   
27/83 KB   
29/83 KB   
32/83 KB   
36/83 KB   
40/83 KB   
44/83 KB   
48/83 KB   
52/83 KB   
56/83 KB   
60/83 KB   
64/83 KB   
68/83 KB   
72/83 KB   
76/83 KB   
80/83 KB   
83/83 KB   
           
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.21.0/surefire-junit4-2.21.0.jar (83 KB at 1215.6 KB/sec)
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running ru.javawebinar.topjava.web.InMemoryAdminRestControllerSpringTest
23:43:22.905 INFO  r.j.t.repository.mock.InMemoryMealRepositoryImpl.postConstruct:42 - +++ PostConstruct
23:43:22.972 INFO  r.j.topjava.web.user.AbstractUserController.delete:37 - delete 10
23:43:22.978 INFO  r.j.topjava.web.user.AbstractUserController.delete:37 - delete 100000
23:43:22.978 INFO  r.j.topjava.web.user.AbstractUserController.getAll:21 - getAll
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.728 s - in ru.javawebinar.topjava.web.InMemoryAdminRestControllerSpringTest
[INFO] Running ru.javawebinar.topjava.web.InMemoryAdminRestControllerTest
23:43:23.068 INFO  r.j.t.repository.mock.InMemoryMealRepositoryImpl.postConstruct:42 - +++ PostConstruct

[mealServiceImpl, userServiceImpl, org.springframework.context.annotation.internalConfigurationAnnotationProcessor, org.springframework.context.annotation.internalAutowiredAnnotationProcessor, org.springframework.context.annotation.internalRequiredAnnotationProcessor, org.springframework.context.annotation.internalCommonAnnotationProcessor, org.springframework.context.annotation.internalPersistenceAnnotationProcessor, org.springframework.context.event.internalEventListenerProcessor, org.springframework.context.event.internalEventListenerFactory, mealRestController, adminRestController, profileRestController, inMemoryMealRepositoryImpl, inMemoryUserRepositoryImpl]

23:43:23.089 INFO  r.j.topjava.web.user.AbstractUserController.delete:37 - delete 10
23:43:23.090 INFO  r.j.topjava.web.user.AbstractUserController.delete:37 - delete 100000
23:43:23.090 INFO  r.j.topjava.web.user.AbstractUserController.getAll:21 - getAll
23:43:23.091 INFO  r.j.t.repository.mock.InMemoryMealRepositoryImpl.preDestroy:47 - +++ PreDestroy
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.085 s - in ru.javawebinar.topjava.web.InMemoryAdminRestControllerTest
[INFO] Running ru.javawebinar.topjava.service.UserServiceTest
23:43:23.360 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
23:43:23.688 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.000 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.doGetConnection:114 - Fetching JDBC Connection from DataSource
23:43:25.001 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.003 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/initDB_hsql.sql]
23:43:25.004 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: DROP TABLE user_roles IF EXISTS
23:43:25.004 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: DROP TABLE meals IF EXISTS
23:43:25.005 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: DROP TABLE users IF EXISTS
23:43:25.005 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: DROP SEQUENCE global_seq IF EXISTS
23:43:25.005 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: CREATE SEQUENCE GLOBAL_SEQ AS INTEGER START WITH 100000
23:43:25.007 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: CREATE TABLE users ( id INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY, name VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, registered TIMESTAMP DEFAULT now() NOT NULL, enabled BOOLEAN DEFAULT TRUE NOT NULL, calories_per_day INTEGER DEFAULT 2000 NOT NULL )
23:43:25.008 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: CREATE UNIQUE INDEX users_unique_email_idx ON USERS (email)
23:43:25.009 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: CREATE TABLE user_roles ( user_id INTEGER NOT NULL, role VARCHAR(255), CONSTRAINT user_roles_idx UNIQUE (user_id, role), FOREIGN KEY (user_id) REFERENCES USERS (id) ON DELETE CASCADE )
23:43:25.010 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: CREATE TABLE meals ( id INTEGER GENERATED BY DEFAULT AS SEQUENCE GLOBAL_SEQ PRIMARY KEY, date_time TIMESTAMP NOT NULL, description VARCHAR(255) NOT NULL, calories INT NOT NULL, user_id INTEGER NOT NULL, FOREIGN KEY (user_id) REFERENCES USERS (id) ON DELETE CASCADE )
23:43:25.010 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: CREATE UNIQUE INDEX meals_unique_user_datetime_idx ON meals (user_id, date_time)
23:43:25.010 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/initDB_hsql.sql] in 7 ms.
23:43:25.011 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.014 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: DELETE FROM user_roles
23:43:25.014 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:477 - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
23:43:25.015 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: DELETE FROM meals
23:43:25.015 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:477 - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
23:43:25.015 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: DELETE FROM users
23:43:25.016 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:477 - SQLWarning ignored: SQL state '02000', error code '-1100', message [no data]
23:43:25.016 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.017 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.018 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.020 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.021 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 10 ms.
23:43:25.021 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.doReleaseConnection:340 - Returning JDBC Connection to DataSource
23:43:25.127 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.131 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.132 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.133 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.133 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.134 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.134 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.135 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.136 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.137 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
23:43:25.147 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
Hibernate: 
    call next value for global_seq
Hibernate: 
    /* insert ru.javawebinar.topjava.model.User
        */ insert 
        into
            users
            (name, calories_per_day, email, enabled, password, registered, id) 
        values
            (?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert collection
        row ru.javawebinar.topjava.model.User.roles */ insert 
        into
            user_roles
            (user_id, role) 
        values
            (?, ?)
23:43:25.237 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.237 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction:176 - Setting JDBC Connection [org.hsqldb.jdbc.JDBCConnection@e11ecfa] read-only
Hibernate: 
    /* User.getAllSorted */ select
        user0_.id as id1_1_,
        user0_.name as name2_1_,
        user0_.calories_per_day as calories3_1_,
        user0_.email as email4_1_,
        user0_.enabled as enabled5_1_,
        user0_.password as password6_1_,
        user0_.registered as register7_1_,
        roles1_.user_id as user_id1_0_0__,
        roles1_.role as role2_0_0__ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    order by
        user0_.name,
        user0_.email
23:43:25.261 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.resetConnectionAfterTransaction:233 - Resetting read-only flag of JDBC Connection [org.hsqldb.jdbc.JDBCConnection@e11ecfa]
23:43:25.296 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.296 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.297 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 3 returned as update count for SQL: DELETE FROM user_roles
23:43:25.298 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.298 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 3 returned as update count for SQL: DELETE FROM users
23:43:25.298 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.299 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.299 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.301 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.302 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 5 ms.
23:43:25.303 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
Hibernate: 
    /* User.delete */ delete 
    from
        users 
    where
        id=?
23:43:25.308 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.309 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction:176 - Setting JDBC Connection [org.hsqldb.jdbc.JDBCConnection@1db7157f] read-only
Hibernate: 
    /* User.getAllSorted */ select
        user0_.id as id1_1_,
        user0_.name as name2_1_,
        user0_.calories_per_day as calories3_1_,
        user0_.email as email4_1_,
        user0_.enabled as enabled5_1_,
        user0_.password as password6_1_,
        user0_.registered as register7_1_,
        roles1_.user_id as user_id1_0_0__,
        roles1_.role as role2_0_0__ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    order by
        user0_.name,
        user0_.email
23:43:25.311 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.resetConnectionAfterTransaction:233 - Resetting read-only flag of JDBC Connection [org.hsqldb.jdbc.JDBCConnection@1db7157f]
23:43:25.315 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.315 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.316 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 1 returned as update count for SQL: DELETE FROM user_roles
23:43:25.317 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM meals
23:43:25.317 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 1 returned as update count for SQL: DELETE FROM users
23:43:25.318 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.318 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.319 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.320 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.321 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 5 ms.
23:43:25.322 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.322 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction:176 - Setting JDBC Connection [org.hsqldb.jdbc.JDBCConnection@22f4f8f2] read-only
Hibernate: 
    /* User.getAllSorted */ select
        user0_.id as id1_1_,
        user0_.name as name2_1_,
        user0_.calories_per_day as calories3_1_,
        user0_.email as email4_1_,
        user0_.enabled as enabled5_1_,
        user0_.password as password6_1_,
        user0_.registered as register7_1_,
        roles1_.user_id as user_id1_0_0__,
        roles1_.role as role2_0_0__ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    order by
        user0_.name,
        user0_.email
23:43:25.325 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.resetConnectionAfterTransaction:233 - Resetting read-only flag of JDBC Connection [org.hsqldb.jdbc.JDBCConnection@22f4f8f2]
23:43:25.329 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.330 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.330 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.331 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.332 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.332 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.333 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.333 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.335 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.335 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 5 ms.
23:43:25.337 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
Hibernate: 
    /* load ru.javawebinar.topjava.model.User */ select
        user0_.id as id1_1_0_,
        user0_.name as name2_1_0_,
        user0_.calories_per_day as calories3_1_0_,
        user0_.email as email4_1_0_,
        user0_.enabled as enabled5_1_0_,
        user0_.password as password6_1_0_,
        user0_.registered as register7_1_0_ 
    from
        users user0_ 
    where
        user0_.id=?
Hibernate: 
    select
        roles0_.user_id as user_id1_0_0_,
        roles0_.role as role2_0_0_ 
    from
        user_roles roles0_ 
    where
        roles0_.user_id=?
Hibernate: 
    /* update
        ru.javawebinar.topjava.model.User */ update
            users 
        set
            name=?,
            calories_per_day=?,
            email=?,
            enabled=?,
            password=?,
            registered=? 
        where
            id=?
23:43:25.350 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.350 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction:176 - Setting JDBC Connection [org.hsqldb.jdbc.JDBCConnection@1945113f] read-only
Hibernate: 
    select
        user0_.id as id1_1_0_,
        user0_.name as name2_1_0_,
        user0_.calories_per_day as calories3_1_0_,
        user0_.email as email4_1_0_,
        user0_.enabled as enabled5_1_0_,
        user0_.password as password6_1_0_,
        user0_.registered as register7_1_0_,
        roles1_.user_id as user_id1_0_1_,
        roles1_.role as role2_0_1_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    where
        user0_.id=?
23:43:25.353 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.resetConnectionAfterTransaction:233 - Resetting read-only flag of JDBC Connection [org.hsqldb.jdbc.JDBCConnection@1945113f]
23:43:25.374 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.374 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.376 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.377 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.377 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.378 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.378 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.378 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.380 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.380 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
23:43:25.382 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.382 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction:176 - Setting JDBC Connection [org.hsqldb.jdbc.JDBCConnection@62d1dc3c] read-only
Hibernate: 
    select
        user0_.id as id1_1_0_,
        user0_.name as name2_1_0_,
        user0_.calories_per_day as calories3_1_0_,
        user0_.email as email4_1_0_,
        user0_.enabled as enabled5_1_0_,
        user0_.password as password6_1_0_,
        user0_.registered as register7_1_0_,
        roles1_.user_id as user_id1_0_1_,
        roles1_.role as role2_0_1_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    where
        user0_.id=?
23:43:25.384 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.resetConnectionAfterTransaction:233 - Resetting read-only flag of JDBC Connection [org.hsqldb.jdbc.JDBCConnection@62d1dc3c]
23:43:25.387 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.388 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.389 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.389 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.389 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.390 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.390 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.391 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.393 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.393 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 5 ms.
23:43:25.395 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.395 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction:176 - Setting JDBC Connection [org.hsqldb.jdbc.JDBCConnection@2a43e0ac] read-only
Hibernate: 
    select
        user0_.id as id1_1_0_,
        user0_.name as name2_1_0_,
        user0_.calories_per_day as calories3_1_0_,
        user0_.email as email4_1_0_,
        user0_.enabled as enabled5_1_0_,
        user0_.password as password6_1_0_,
        user0_.registered as register7_1_0_,
        roles1_.user_id as user_id1_0_1_,
        roles1_.role as role2_0_1_ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    where
        user0_.id=?
23:43:25.397 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.resetConnectionAfterTransaction:233 - Resetting read-only flag of JDBC Connection [org.hsqldb.jdbc.JDBCConnection@2a43e0ac]
23:43:25.400 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.401 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.401 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.402 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.402 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.402 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.403 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.403 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.406 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.407 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 6 ms.
23:43:25.408 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
Hibernate: 
    /* User.delete */ delete 
    from
        users 
    where
        id=?
23:43:25.409 WARN  o.h.e.j.s.SqlExceptionHelper$StandardWarningHandler.logWarning:217 - SQL Warning Code: -1100, SQLState: 02000
23:43:25.410 WARN  o.h.e.j.s.SqlExceptionHelper$StandardWarningHandler.logWarning:218 - no data
23:43:25.411 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.412 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.412 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.413 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.413 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.413 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.414 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.414 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.415 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.415 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 3 ms.
23:43:25.417 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.417 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.prepareConnectionForTransaction:176 - Setting JDBC Connection [org.hsqldb.jdbc.JDBCConnection@7d21852b] read-only
Hibernate: 
    /* User.getByEmail */ select
        user0_.id as id1_1_,
        user0_.name as name2_1_,
        user0_.calories_per_day as calories3_1_,
        user0_.email as email4_1_,
        user0_.enabled as enabled5_1_,
        user0_.password as password6_1_,
        user0_.registered as register7_1_,
        roles1_.user_id as user_id1_0_0__,
        roles1_.role as role2_0_0__ 
    from
        users user0_ 
    left outer join
        user_roles roles1_ 
            on user0_.id=roles1_.user_id 
    where
        user0_.email=?
23:43:25.420 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.resetConnectionAfterTransaction:233 - Resetting read-only flag of JDBC Connection [org.hsqldb.jdbc.JDBCConnection@7d21852b]
23:43:25.423 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.424 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.424 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.425 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.425 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.425 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.426 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.426 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.427 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.427 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 3 ms.
23:43:25.428 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
Hibernate: 
    call next value for global_seq
Hibernate: 
    /* insert ru.javawebinar.topjava.model.User
        */ insert 
        into
            users
            (name, calories_per_day, email, enabled, password, registered, id) 
        values
            (?, ?, ?, ?, ?, ?, ?)
23:43:25.431 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:129 - SQL Error: -104, SQLState: 23505
23:43:25.431 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:131 - integrity constraint violation: unique constraint or index violation: USERS_UNIQUE_EMAIL_IDX
23:43:25.433 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.337 s - in ru.javawebinar.topjava.service.UserServiceTest
[INFO] Running ru.javawebinar.topjava.service.MealServiceTest
23:43:25.441 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.442 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.442 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.443 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.443 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.443 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.444 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.444 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.445 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.445 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 3 ms.
23:43:25.451 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.452 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.453 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.454 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.454 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.455 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.455 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.455 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.456 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.456 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 4 ms.
23:43:25.462 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.462 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.463 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.463 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.464 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.464 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.465 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.465 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.466 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.467 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 5 ms.
23:43:25.478 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.479 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.480 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.480 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.481 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.481 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.481 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.482 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.483 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.483 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 4 ms.
23:43:25.486 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.487 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.487 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.488 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.488 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.488 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.489 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.489 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.490 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.490 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 3 ms.
23:43:25.493 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.493 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.494 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.494 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.494 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.495 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.495 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.495 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.497 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.497 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 4 ms.
23:43:25.501 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.502 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.503 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.503 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.503 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.504 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.504 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.504 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.505 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.505 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 3 ms.
23:43:25.508 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.508 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.509 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.509 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.509 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.510 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.510 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.510 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.511 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.512 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 4 ms.
23:43:25.516 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.516 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:442 - Executing SQL script from class path resource [db/populateDB.sql]
23:43:25.517 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM user_roles
23:43:25.517 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: DELETE FROM meals
23:43:25.518 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: DELETE FROM users
23:43:25.518 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 0 returned as update count for SQL: ALTER SEQUENCE global_seq RESTART WITH 100000
23:43:25.518 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO users (name, email, password) VALUES ('User', 'user@yandex.ru', 'password'), ('Admin', 'admin@gmail.com', 'admin')
23:43:25.519 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 2 returned as update count for SQL: INSERT INTO user_roles (role, user_id) VALUES ('ROLE_USER', 100000), ('ROLE_ADMIN', 100001)
23:43:25.519 DEBUG o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:474 - 8 returned as update count for SQL: INSERT INTO meals (date_time, description, calories, user_id) VALUES ('2015-05-30 10:00:00', 'Завтрак', 500, 100000), ('2015-05-30 13:00:00', 'Обед', 1000, 100000), ('2015-05-30 20:00:00', 'Ужин', 500, 100000), ('2015-05-31 10:00:00', 'Завтрак', 500, 100000), ('2015-05-31 13:00:00', 'Обед', 1000, 100000), ('2015-05-31 20:00:00', 'Ужин', 510, 100000), ('2015-06-01 14:00:00', 'Админ ланч', 510, 100001), ('2015-06-01 21:00:00', 'Админ ужин', 1500, 100001)
23:43:25.520 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:508 - Executed SQL script from class path resource [db/populateDB.sql] in 4 ms.
[ERROR] Tests run: 9, Failures: 3, Errors: 3, Skipped: 0, Time elapsed: 0.083 s <<< FAILURE! - in ru.javawebinar.topjava.service.MealServiceTest
[ERROR] delete(ru.javawebinar.topjava.service.MealServiceTest)  Time elapsed: 0.01 s  <<< ERROR!
ru.javawebinar.topjava.util.exception.NotFoundException: Not found entity with id=100002
	at ru.javawebinar.topjava.service.MealServiceTest.delete(MealServiceTest.java:38)

[ERROR] getAll(ru.javawebinar.topjava.service.MealServiceTest)  Time elapsed: 0.017 s  <<< FAILURE!
java.lang.AssertionError: 

Expecting:
 <null>
to be equal to:
 <[Meal{id=100007, dateTime=2015-05-31T20:00, description='Ужин', calories=510},
    Meal{id=100006, dateTime=2015-05-31T13:00, description='Обед', calories=1000},
    Meal{id=100005, dateTime=2015-05-31T10:00, description='Завтрак', calories=500},
    Meal{id=100004, dateTime=2015-05-30T20:00, description='Ужин', calories=500},
    Meal{id=100003, dateTime=2015-05-30T13:00, description='Обед', calories=1000},
    Meal{id=100002, dateTime=2015-05-30T10:00, description='Завтрак', calories=500}]>
when comparing elements using field/property by field/property comparator on all fields/properties
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not.
	at ru.javawebinar.topjava.service.MealServiceTest.getAll(MealServiceTest.java:79)

[ERROR] update(ru.javawebinar.topjava.service.MealServiceTest)  Time elapsed: 0.007 s  <<< ERROR!
ru.javawebinar.topjava.util.exception.NotFoundException: Not found entity with id=100002
	at ru.javawebinar.topjava.service.MealServiceTest.update(MealServiceTest.java:68)

[ERROR] get(ru.javawebinar.topjava.service.MealServiceTest)  Time elapsed: 0.008 s  <<< ERROR!
ru.javawebinar.topjava.util.exception.NotFoundException: Not found entity with id=100008
	at ru.javawebinar.topjava.service.MealServiceTest.get(MealServiceTest.java:56)

[ERROR] save(ru.javawebinar.topjava.service.MealServiceTest)  Time elapsed: 0.008 s  <<< FAILURE!
java.lang.AssertionError: 

Expecting:
 <null>
to be equal to:
 <[Meal{id=null, dateTime=2015-06-01T18:00, description='Созданный ужин', calories=300},
    Meal{id=100007, dateTime=2015-05-31T20:00, description='Ужин', calories=510},
    Meal{id=100006, dateTime=2015-05-31T13:00, description='Обед', calories=1000},
    Meal{id=100005, dateTime=2015-05-31T10:00, description='Завтрак', calories=500},
    Meal{id=100004, dateTime=2015-05-30T20:00, description='Ужин', calories=500},
    Meal{id=100003, dateTime=2015-05-30T13:00, description='Обед', calories=1000},
    Meal{id=100002, dateTime=2015-05-30T10:00, description='Завтрак', calories=500}]>
when comparing elements using field/property by field/property comparator on all fields/properties
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not.
	at ru.javawebinar.topjava.service.MealServiceTest.save(MealServiceTest.java:51)

[ERROR] getBetween(ru.javawebinar.topjava.service.MealServiceTest)  Time elapsed: 0.008 s  <<< FAILURE!
java.lang.AssertionError: 

Expecting:
 <null>
to be equal to:
 <[Meal{id=100004, dateTime=2015-05-30T20:00, description='Ужин', calories=500},
    Meal{id=100003, dateTime=2015-05-30T13:00, description='Обед', calories=1000},
    Meal{id=100002, dateTime=2015-05-30T10:00, description='Завтрак', calories=500}]>
when comparing elements using field/property by field/property comparator on all fields/properties
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not.
	at ru.javawebinar.topjava.service.MealServiceTest.getBetween(MealServiceTest.java:84)

23:43:25.532 INFO  r.j.t.repository.mock.InMemoryMealRepositoryImpl.preDestroy:47 - +++ PreDestroy
23:43:25.533 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.doGetConnection:114 - Fetching JDBC Connection from DataSource
23:43:25.533 DEBUG o.s.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver:143 - Creating new JDBC DriverManager Connection to [jdbc:hsqldb:file:C:/temp/topjava]
23:43:25.534 DEBUG o.springframework.jdbc.datasource.DataSourceUtils.doReleaseConnection:340 - Returning JDBC Connection to DataSource
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   MealServiceTest.getAll:79 
Expecting:
 <null>
to be equal to:
 <[Meal{id=100007, dateTime=2015-05-31T20:00, description='Ужин', calories=510},
    Meal{id=100006, dateTime=2015-05-31T13:00, description='Обед', calories=1000},
    Meal{id=100005, dateTime=2015-05-31T10:00, description='Завтрак', calories=500},
    Meal{id=100004, dateTime=2015-05-30T20:00, description='Ужин', calories=500},
    Meal{id=100003, dateTime=2015-05-30T13:00, description='Обед', calories=1000},
    Meal{id=100002, dateTime=2015-05-30T10:00, description='Завтрак', calories=500}]>
when comparing elements using field/property by field/property comparator on all fields/properties
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not.
[ERROR]   MealServiceTest.getBetween:84 
Expecting:
 <null>
to be equal to:
 <[Meal{id=100004, dateTime=2015-05-30T20:00, description='Ужин', calories=500},
    Meal{id=100003, dateTime=2015-05-30T13:00, description='Обед', calories=1000},
    Meal{id=100002, dateTime=2015-05-30T10:00, description='Завтрак', calories=500}]>
when comparing elements using field/property by field/property comparator on all fields/properties
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not.
[ERROR]   MealServiceTest.save:51 
Expecting:
 <null>
to be equal to:
 <[Meal{id=null, dateTime=2015-06-01T18:00, description='Созданный ужин', calories=300},
    Meal{id=100007, dateTime=2015-05-31T20:00, description='Ужин', calories=510},
    Meal{id=100006, dateTime=2015-05-31T13:00, description='Обед', calories=1000},
    Meal{id=100005, dateTime=2015-05-31T10:00, description='Завтрак', calories=500},
    Meal{id=100004, dateTime=2015-05-30T20:00, description='Ужин', calories=500},
    Meal{id=100003, dateTime=2015-05-30T13:00, description='Обед', calories=1000},
    Meal{id=100002, dateTime=2015-05-30T10:00, description='Завтрак', calories=500}]>
when comparing elements using field/property by field/property comparator on all fields/properties
Comparators used:
- for elements fields (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
- for elements (by type): {Double -> DoubleComparator[precision=1.0E-15], Float -> FloatComparator[precision=1.0E-6]}
but was not.
[ERROR] Errors: 
[ERROR]   MealServiceTest.delete:38 » NotFound Not found entity with id=100002
[ERROR]   MealServiceTest.get:56 » NotFound Not found entity with id=100008
[ERROR]   MealServiceTest.update:68 » NotFound Not found entity with id=100002
[INFO] 
[ERROR] Tests run: 22, Failures: 3, Errors: 3, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 5.832 s
[INFO] Finished at: 2018-03-25T23:43:25+02:00
[INFO] Final Memory: 20M/914M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21.0:test (default-test) on project topjava: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/VaniaKoshelia/topjava/358174273/target/surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
