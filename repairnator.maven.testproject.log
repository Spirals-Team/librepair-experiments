[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] Artifact Listener
[INFO] Artifact Listener - Core
[INFO] Artifact Listener - Init
[INFO] Artifact Listener - Web Application
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Artifact Listener 0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4.1:enforce (enforce) @ maven-artifact-notifier ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- localization-properties-consistency-maven-plugin:1.0.0:scan (scan) @ maven-artifact-notifier ---
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (clean-generated-sources) @ maven-artifact-notifier ---
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (clean-generated-test-sources) @ maven-artifact-notifier ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building Artifact Listener - Core 0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4.1:enforce (enforce) @ maven-artifact-notifier-core ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- localization-properties-consistency-maven-plugin:1.0.0:scan (scan) @ maven-artifact-notifier-core ---
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (clean-generated-sources) @ maven-artifact-notifier-core ---
[INFO] Deleting /root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/generated-sources/apt (includes = [], excludes = [])
[INFO] 
[INFO] --- maven-clean-plugin:2.5:clean (clean-generated-test-sources) @ maven-artifact-notifier-core ---
[INFO] Deleting /root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/generated-sources-test/apt (includes = [], excludes = [])
[INFO] 
[INFO] --- maven-processor-plugin:2.2.4:process (maven-processor-plugin-default) @ maven-artifact-notifier-core ---
[WARNING] diagnostic: warning: Supported source version 'RELEASE_6' from annotation processor 'org.bindgen.processor.Processor' less than -source '1.8'
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ maven-artifact-notifier-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 11 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:compile (default-compile) @ maven-artifact-notifier-core ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 266 source files to /root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/classes
[INFO] /root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/src/main/java/fr/openwide/maven/artifact/notifier/core/business/artifact/model/FollowedArtifact.java: Some input files use or override a deprecated API.
[INFO] /root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/src/main/java/fr/openwide/maven/artifact/notifier/core/business/artifact/model/FollowedArtifact.java: Recompile with -Xlint:deprecation for details.
[INFO] /root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/generated-sources/apt/fr/openwide/maven/artifact/notifier/core/business/user/model/UserGroupBindingPath.java: Some input files use unchecked or unsafe operations.
[INFO] /root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/generated-sources/apt/fr/openwide/maven/artifact/notifier/core/business/user/model/UserGroupBindingPath.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-processor-plugin:2.2.4:process-test (maven-processor-plugin-default-test) @ maven-artifact-notifier-core ---
[WARNING] diagnostic: warning: Supported source version 'RELEASE_6' from annotation processor 'org.bindgen.processor.Processor' less than -source '1.8'
[WARNING] diagnostic: warning: The following options were not recognized by any processor: '[addSuppressWarningsAnnotation, fullyAnnotationConfigured]'
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ maven-artifact-notifier-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.5.1:testCompile (default-testCompile) @ maven-artifact-notifier-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.19:test (default-test) @ maven-artifact-notifier-core ---

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
OpenJDK 64-Bit Server VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0
Running fr.openwide.maven.artifact.notifier.core.test.business.TestArtifactService
[2018-01-25 18:52:32,558] WARN  - pertyPlaceholderConfigurer -  - Could not load properties from URL [file:/etc/maven-artifact-notifier/configuration.properties]: /etc/maven-artifact-notifier/configuration.properties (No such file or directory)
[2018-01-25 18:52:32,560] WARN  - pertyPlaceholderConfigurer -  - Could not load properties from class path resource [configuration-root.properties]: class path resource [configuration-root.properties] cannot be opened because it does not exist
[2018-01-25 18:52:34,224] WARN  - JdbcEnvironmentInitiator   -  - HHH000342: Could not obtain connection to query metadata : Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
[2018-01-25 18:52:34,880] WARN  - bernatePersistenceProvider -  - Installing our Spring managed interceptor.
[2018-01-25 18:52:35,511] WARN  - stractEhcacheRegionFactory -  - HHH020003: Could not find a specific ehcache configuration for cache named [fr.openwide.core.jpa.externallinkchecker.business.model.ExternalLinkWrapper]; using defaults.
[2018-01-25 18:52:35,567] WARN  - stractEhcacheRegionFactory -  - HHH020003: Could not find a specific ehcache configuration for cache named [fr.openwide.maven.artifact.notifier.core.business.project.model.Project]; using defaults.
[2018-01-25 18:52:35,643] WARN  - stractEhcacheRegionFactory -  - HHH020003: Could not find a specific ehcache configuration for cache named [fr.openwide.maven.artifact.notifier.core.business.project.model.ProjectVersion]; using defaults.
[2018-01-25 18:52:35,675] WARN  - stractEhcacheRegionFactory -  - HHH020003: Could not find a specific ehcache configuration for cache named [fr.openwide.maven.artifact.notifier.core.business.user.model.UserGroup.authorities]; using defaults.
[2018-01-25 18:52:35,727] WARN  - stractEhcacheRegionFactory -  - HHH020003: Could not find a specific ehcache configuration for cache named [fr.openwide.maven.artifact.notifier.core.business.project.model.Project.versions]; using defaults.
[2018-01-25 18:52:36,099] WARN  - GenericApplicationContext  -  - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class fr.openwide.maven.artifact.notifier.core.config.spring.MavenArtifactNotifierCoreCommonJpaConfig: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
[2018-01-25 18:52:36,109] WARN  - TestContextManager         -  - Caught exception while allowing TestExecutionListener [fr.openwide.core.jpa.junit.EntityManagerExecutionListener@246de37e] to process 'before class' callback for test class [class fr.openwide.maven.artifact.notifier.core.test.business.TestArtifactService]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at fr.openwide.core.jpa.junit.EntityManagerExecutionListener.refreshBean(EntityManagerExecutionListener.java:30)
	at fr.openwide.core.jpa.junit.EntityManagerExecutionListener.beforeTestClass(EntityManagerExecutionListener.java:16)
	at org.springframework.test.context.TestContextManager.beforeTestClass(TestContextManager.java:195)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:60)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.springframework.test.context.junit4.statements.ProfileValueChecker.evaluate(ProfileValueChecker.java:103)
	at org.springframework.test.context.junit4.rules.SpringClassRule$TestContextManagerCacheEvictor.evaluate(SpringClassRule.java:248)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class fr.openwide.maven.artifact.notifier.core.config.spring.MavenArtifactNotifierCoreCommonJpaConfig: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 17 more
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:954)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:884)
	at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:135)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:343)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:319)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 32 more
Caused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:519)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:118)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:94)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)
	at org.hibernate.tool.schema.internal.exec.AbstractJdbcConnectionContextImpl.getConnection(AbstractJdbcConnectionContextImpl.java:43)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.jdbcStatement(GenerationTargetToDatabase.java:73)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:50)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:370)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:355)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:327)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:229)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:153)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:125)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:111)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:137)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:64)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:458)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:465)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:881)
	... 37 more
Caused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:265)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:194)
	at org.postgresql.Driver.makeConnection(Driver.java:431)
	at org.postgresql.Driver.connect(Driver.java:247)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:95)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:101)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:315)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:509)
	... 56 more
	Suppressed: java.lang.NullPointerException
		at com.zaxxer.hikari.pool.HikariPool.shutdown(HikariPool.java:219)
		at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:513)
		... 56 more
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.postgresql.core.PGStream.<init>(PGStream.java:62)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:144)
	... 64 more
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.33 sec <<< FAILURE! - in fr.openwide.maven.artifact.notifier.core.test.business.TestArtifactService
fr.openwide.maven.artifact.notifier.core.test.business.TestArtifactService  Time elapsed: 5.328 sec  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class fr.openwide.maven.artifact.notifier.core.config.spring.MavenArtifactNotifierCoreCommonJpaConfig: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
Caused by: com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
Caused by: org.postgresql.util.PSQLException: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
Caused by: java.net.ConnectException: Connection refused (Connection refused)

Running fr.openwide.maven.artifact.notifier.core.test.business.version.util.TestMavenCentralComparableVersion
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in fr.openwide.maven.artifact.notifier.core.test.business.version.util.TestMavenCentralComparableVersion
Running fr.openwide.maven.artifact.notifier.core.test.business.TestMavenSynchronizationService
[2018-01-25 18:52:36,703] WARN  - pertyPlaceholderConfigurer -  - Could not load properties from URL [file:/etc/maven-artifact-notifier/configuration.properties]: /etc/maven-artifact-notifier/configuration.properties (No such file or directory)
[2018-01-25 18:52:36,704] WARN  - pertyPlaceholderConfigurer -  - Could not load properties from class path resource [configuration-root.properties]: class path resource [configuration-root.properties] cannot be opened because it does not exist
[2018-01-25 18:52:37,428] WARN  - JdbcEnvironmentInitiator   -  - HHH000342: Could not obtain connection to query metadata : Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
[2018-01-25 18:52:37,628] WARN  - bernatePersistenceProvider -  - Installing our Spring managed interceptor.
[2018-01-25 18:52:37,650] WARN  - GenericApplicationContext  -  - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class fr.openwide.maven.artifact.notifier.core.config.spring.MavenArtifactNotifierCoreCommonJpaConfig: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
[2018-01-25 18:52:37,651] WARN  - TestContextManager         -  - Caught exception while allowing TestExecutionListener [fr.openwide.core.jpa.junit.EntityManagerExecutionListener@6f071d0c] to process 'before class' callback for test class [class fr.openwide.maven.artifact.notifier.core.test.business.TestMavenSynchronizationService]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at fr.openwide.core.jpa.junit.EntityManagerExecutionListener.refreshBean(EntityManagerExecutionListener.java:30)
	at fr.openwide.core.jpa.junit.EntityManagerExecutionListener.beforeTestClass(EntityManagerExecutionListener.java:16)
	at org.springframework.test.context.TestContextManager.beforeTestClass(TestContextManager.java:195)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:60)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.springframework.test.context.junit4.statements.ProfileValueChecker.evaluate(ProfileValueChecker.java:103)
	at org.springframework.test.context.junit4.rules.SpringClassRule$TestContextManagerCacheEvictor.evaluate(SpringClassRule.java:248)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class fr.openwide.maven.artifact.notifier.core.config.spring.MavenArtifactNotifierCoreCommonJpaConfig: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 17 more
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:954)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:884)
	at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:135)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:343)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:319)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 32 more
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:244)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:208)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:189)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:240)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:465)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:881)
	... 37 more
Caused by: org.hibernate.cache.CacheException: net.sf.ehcache.CacheException: Another CacheManager with same name 'hibernateCacheManager' already exists in the same VM. Please provide unique names for each CacheManager in the config or do one of following:
1. Use one of the CacheManager.create() static factory methods to reuse same CacheManager with same name or create one if necessary
2. Shutdown the earlier cacheManager before creating new one with same name.
The source of the existing CacheManager is: URLConfigurationSource [url=file:/root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/classes/ehcache/ehcache-hibernate.xml]
	at org.hibernate.cache.ehcache.EhCacheRegionFactory.start(EhCacheRegionFactory.java:90)
	at org.hibernate.internal.CacheImpl.<init>(CacheImpl.java:49)
	at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:28)
	at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:20)
	at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.initiateService(SessionFactoryServiceRegistryImpl.java:46)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:234)
	... 42 more
Caused by: net.sf.ehcache.CacheException: Another CacheManager with same name 'hibernateCacheManager' already exists in the same VM. Please provide unique names for each CacheManager in the config or do one of following:
1. Use one of the CacheManager.create() static factory methods to reuse same CacheManager with same name or create one if necessary
2. Shutdown the earlier cacheManager before creating new one with same name.
The source of the existing CacheManager is: URLConfigurationSource [url=file:/root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/classes/ehcache/ehcache-hibernate.xml]
	at net.sf.ehcache.CacheManager.assertNoCacheManagerExistsWithSameName(CacheManager.java:628)
	at net.sf.ehcache.CacheManager.init(CacheManager.java:392)
	at net.sf.ehcache.CacheManager.<init>(CacheManager.java:270)
	at org.hibernate.cache.ehcache.EhCacheRegionFactory.start(EhCacheRegionFactory.java:74)
	... 47 more
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.39 sec <<< FAILURE! - in fr.openwide.maven.artifact.notifier.core.test.business.TestMavenSynchronizationService
fr.openwide.maven.artifact.notifier.core.test.business.TestMavenSynchronizationService  Time elapsed: 1.39 sec  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class fr.openwide.maven.artifact.notifier.core.config.spring.MavenArtifactNotifierCoreCommonJpaConfig: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]
Caused by: org.hibernate.cache.CacheException: 
net.sf.ehcache.CacheException: Another CacheManager with same name 'hibernateCacheManager' already exists in the same VM. Please provide unique names for each CacheManager in the config or do one of following:
1. Use one of the CacheManager.create() static factory methods to reuse same CacheManager with same name or create one if necessary
2. Shutdown the earlier cacheManager before creating new one with same name.
The source of the existing CacheManager is: URLConfigurationSource [url=file:/root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/classes/ehcache/ehcache-hibernate.xml]
Caused by: net.sf.ehcache.CacheException: 
Another CacheManager with same name 'hibernateCacheManager' already exists in the same VM. Please provide unique names for each CacheManager in the config or do one of following:
1. Use one of the CacheManager.create() static factory methods to reuse same CacheManager with same name or create one if necessary
2. Shutdown the earlier cacheManager before creating new one with same name.
The source of the existing CacheManager is: URLConfigurationSource [url=file:/root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/classes/ehcache/ehcache-hibernate.xml]

Running fr.openwide.maven.artifact.notifier.core.test.business.TestUserService
[2018-01-25 18:52:38,321] WARN  - pertyPlaceholderConfigurer -  - Could not load properties from URL [file:/etc/maven-artifact-notifier/configuration.properties]: /etc/maven-artifact-notifier/configuration.properties (No such file or directory)
[2018-01-25 18:52:38,322] WARN  - pertyPlaceholderConfigurer -  - Could not load properties from class path resource [configuration-root.properties]: class path resource [configuration-root.properties] cannot be opened because it does not exist
[2018-01-25 18:52:38,740] WARN  - JdbcEnvironmentInitiator   -  - HHH000342: Could not obtain connection to query metadata : Failed to initialize pool: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.
[2018-01-25 18:52:38,818] WARN  - bernatePersistenceProvider -  - Installing our Spring managed interceptor.
[2018-01-25 18:52:38,842] WARN  - GenericApplicationContext  -  - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class fr.openwide.maven.artifact.notifier.core.config.spring.MavenArtifactNotifierCoreCommonJpaConfig: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
[2018-01-25 18:52:38,842] WARN  - TestContextManager         -  - Caught exception while allowing TestExecutionListener [fr.openwide.core.jpa.junit.EntityManagerExecutionListener@76a13b12] to process 'before class' callback for test class [class fr.openwide.maven.artifact.notifier.core.test.business.TestUserService]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at fr.openwide.core.jpa.junit.EntityManagerExecutionListener.refreshBean(EntityManagerExecutionListener.java:30)
	at fr.openwide.core.jpa.junit.EntityManagerExecutionListener.beforeTestClass(EntityManagerExecutionListener.java:16)
	at org.springframework.test.context.TestContextManager.beforeTestClass(TestContextManager.java:195)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:60)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.springframework.test.context.junit4.statements.ProfileValueChecker.evaluate(ProfileValueChecker.java:103)
	at org.springframework.test.context.junit4.rules.SpringClassRule$TestContextManagerCacheEvictor.evaluate(SpringClassRule.java:248)
	at org.junit.rules.RunRules.evaluate(RunRules.java:20)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:344)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:269)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:240)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:184)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:286)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:240)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class fr.openwide.maven.artifact.notifier.core.config.spring.MavenArtifactNotifierCoreCommonJpaConfig: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:125)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:109)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:261)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 17 more
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:954)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:884)
	at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:135)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:343)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:319)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)
	... 32 more
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:244)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:208)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:189)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:240)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:465)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:881)
	... 37 more
Caused by: org.hibernate.cache.CacheException: net.sf.ehcache.CacheException: Another CacheManager with same name 'hibernateCacheManager' already exists in the same VM. Please provide unique names for each CacheManager in the config or do one of following:
1. Use one of the CacheManager.create() static factory methods to reuse same CacheManager with same name or create one if necessary
2. Shutdown the earlier cacheManager before creating new one with same name.
The source of the existing CacheManager is: URLConfigurationSource [url=file:/root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/classes/ehcache/ehcache-hibernate.xml]
	at org.hibernate.cache.ehcache.EhCacheRegionFactory.start(EhCacheRegionFactory.java:90)
	at org.hibernate.internal.CacheImpl.<init>(CacheImpl.java:49)
	at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:28)
	at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:20)
	at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.initiateService(SessionFactoryServiceRegistryImpl.java:46)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:234)
	... 42 more
Caused by: net.sf.ehcache.CacheException: Another CacheManager with same name 'hibernateCacheManager' already exists in the same VM. Please provide unique names for each CacheManager in the config or do one of following:
1. Use one of the CacheManager.create() static factory methods to reuse same CacheManager with same name or create one if necessary
2. Shutdown the earlier cacheManager before creating new one with same name.
The source of the existing CacheManager is: URLConfigurationSource [url=file:/root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/classes/ehcache/ehcache-hibernate.xml]
	at net.sf.ehcache.CacheManager.assertNoCacheManagerExistsWithSameName(CacheManager.java:628)
	at net.sf.ehcache.CacheManager.init(CacheManager.java:392)
	at net.sf.ehcache.CacheManager.<init>(CacheManager.java:270)
	at org.hibernate.cache.ehcache.EhCacheRegionFactory.start(EhCacheRegionFactory.java:74)
	... 47 more
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.101 sec <<< FAILURE! - in fr.openwide.maven.artifact.notifier.core.test.business.TestUserService
fr.openwide.maven.artifact.notifier.core.test.business.TestUserService  Time elapsed: 1.101 sec  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class fr.openwide.maven.artifact.notifier.core.config.spring.MavenArtifactNotifierCoreCommonJpaConfig: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]
Caused by: org.hibernate.cache.CacheException: 
net.sf.ehcache.CacheException: Another CacheManager with same name 'hibernateCacheManager' already exists in the same VM. Please provide unique names for each CacheManager in the config or do one of following:
1. Use one of the CacheManager.create() static factory methods to reuse same CacheManager with same name or create one if necessary
2. Shutdown the earlier cacheManager before creating new one with same name.
The source of the existing CacheManager is: URLConfigurationSource [url=file:/root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/classes/ehcache/ehcache-hibernate.xml]
Caused by: net.sf.ehcache.CacheException: 
Another CacheManager with same name 'hibernateCacheManager' already exists in the same VM. Please provide unique names for each CacheManager in the config or do one of following:
1. Use one of the CacheManager.create() static factory methods to reuse same CacheManager with same name or create one if necessary
2. Shutdown the earlier cacheManager before creating new one with same name.
The source of the existing CacheManager is: URLConfigurationSource [url=file:/root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/classes/ehcache/ehcache-hibernate.xml]


Results :

Tests in error: 
  TestArtifactService.fr.openwide.maven.artifact.notifier.core.test.business.TestArtifactService » IllegalState
  TestMavenSynchronizationService.fr.openwide.maven.artifact.notifier.core.test.business.TestMavenSynchronizationService » IllegalState
  TestUserService.fr.openwide.maven.artifact.notifier.core.test.business.TestUserService » IllegalState

Tests run: 4, Failures: 0, Errors: 3, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Artifact Listener .................................. SUCCESS [  0.811 s]
[INFO] Artifact Listener - Core ........................... FAILURE [ 19.154 s]
[INFO] Artifact Listener - Init ........................... SKIPPED
[INFO] Artifact Listener - Web Application ................ SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 20.409 s
[INFO] Finished at: 2018-01-25T18:52:39+01:00
[INFO] Final Memory: 52M/1144M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19:test (default-test) on project maven-artifact-notifier-core: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/openwide-java/artifact-listener/207682947/maven-artifact-notifier-core/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :maven-artifact-notifier-core
