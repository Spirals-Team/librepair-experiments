[INFO] Scanning for projects...
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for io.enmasse:amqp-utils:jar:0.19-SNAPSHOT
[WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.apache.activemq:artemis-amqp-protocol:jar -> duplicate declaration of version ${artemis.version} @ io.enmasse:amqp-utils:[unknown-version], /root/workspace/EnMasseProject/enmasse/371966365/amqp-utils/pom.xml, line 90, column 17
[WARNING] 
[WARNING] Some problems were encountered while building the effective model for io.enmasse:systemtests:jar:0.19-SNAPSHOT
[WARNING] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: org.junit.platform:junit-platform-launcher:jar -> duplicate declaration of version ${junit.platform.version} @ io.enmasse:systemtests:[unknown-version], /root/workspace/EnMasseProject/enmasse/371966365/systemtests/pom.xml, line 114, column 21
[WARNING] 
[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.
[WARNING] 
[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.
[WARNING] 
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] enmasse
[INFO] address-model-lib
[INFO] k8s-api
[INFO] k8s-api-testutil
[INFO] amqp-utils
[INFO] api-common
[INFO] discovery-lib
[INFO] topic-forwarder
[INFO] mqtt-gateway
[INFO] mqtt-lwt
[INFO] standard-controller
[INFO] address-controller
[INFO] keycloak
[INFO] sasl-plugin
[INFO] keycloak-controller
[INFO] systemtests
[INFO] artemis
[INFO] amqp-connector
[INFO] sasl-delegation
[INFO] shutdown-hook
[INFO] jmx_exporter
[INFO] service-broker
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building enmasse 0.19-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-checkstyle-plugin:3.0.0:check (validate) @ enmasse ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ enmasse ---
[INFO] surefireArgLine set to -javaagent:/root/./workspace/EnMasseProject/enmasse/371966365/.m2/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/root/workspace/EnMasseProject/enmasse/371966365/target/jacoco.exec
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building address-model-lib 0.19-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-checkstyle-plugin:3.0.0:check (validate) @ address-model-lib ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ address-model-lib ---
[INFO] surefireArgLine set to -javaagent:/root/./workspace/EnMasseProject/enmasse/371966365/.m2/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/root/workspace/EnMasseProject/enmasse/371966365/address-model-lib/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ address-model-lib ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/address-model-lib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ address-model-lib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ address-model-lib ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/address-model-lib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ address-model-lib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.20.1:test (default-test) @ address-model-lib ---
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.20.1/surefire-junit4-2.20.1.pom
3/4 KB   
4/4 KB   
         
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.20.1/surefire-junit4-2.20.1.pom (4 KB at 8.1 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.20.1/surefire-providers-2.20.1.pom
3/3 KB   
3/3 KB   
         
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.20.1/surefire-providers-2.20.1.pom (3 KB at 95.7 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.20.1/surefire-junit4-2.20.1.jar
3/81 KB   
5/81 KB   
8/81 KB   
11/81 KB   
13/81 KB   
16/81 KB   
19/81 KB   
21/81 KB   
24/81 KB   
27/81 KB   
29/81 KB   
32/81 KB   
36/81 KB   
40/81 KB   
44/81 KB   
48/81 KB   
52/81 KB   
56/81 KB   
60/81 KB   
64/81 KB   
68/81 KB   
72/81 KB   
76/81 KB   
80/81 KB   
81/81 KB   
           
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.20.1/surefire-junit4-2.20.1.jar (81 KB at 464.4 KB/sec)
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running io.enmasse.address.model.v1.address.KubeUtilTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.043 s - in io.enmasse.address.model.v1.address.KubeUtilTest
[INFO] Running io.enmasse.address.model.v1.address.AddressTest
myaddr1-73cb6b25-0792-30dc-bb27-331e9d91d247
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in io.enmasse.address.model.v1.address.AddressTest
[INFO] Running io.enmasse.address.model.v1.address.SerializationTest
[INFO] Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.421 s - in io.enmasse.address.model.v1.address.SerializationTest
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 20, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building k8s-api 0.19-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-checkstyle-plugin:3.0.0:check (validate) @ k8s-api ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ k8s-api ---
[INFO] surefireArgLine set to -javaagent:/root/./workspace/EnMasseProject/enmasse/371966365/.m2/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/root/workspace/EnMasseProject/enmasse/371966365/k8s-api/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ k8s-api ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/k8s-api/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ k8s-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ k8s-api ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/k8s-api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ k8s-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.20.1:test (default-test) @ k8s-api ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running io.enmasse.k8s.api.cache.FifoQueueTest
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.581 s - in io.enmasse.k8s.api.cache.FifoQueueTest
[INFO] Running io.enmasse.k8s.api.cache.ReflectorTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.113 s - in io.enmasse.k8s.api.cache.ReflectorTest
[INFO] Running io.enmasse.k8s.api.ResourceCheckerTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.041 s - in io.enmasse.k8s.api.ResourceCheckerTest
[INFO] Running io.enmasse.k8s.api.KubeEventLoggerTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.771 s - in io.enmasse.k8s.api.KubeEventLoggerTest
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building k8s-api-testutil 0.19-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-checkstyle-plugin:3.0.0:check (validate) @ k8s-api-testutil ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ k8s-api-testutil ---
[INFO] surefireArgLine set to -javaagent:/root/./workspace/EnMasseProject/enmasse/371966365/.m2/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/root/workspace/EnMasseProject/enmasse/371966365/k8s-api-testutil/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ k8s-api-testutil ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/k8s-api-testutil/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ k8s-api-testutil ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ k8s-api-testutil ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/k8s-api-testutil/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ k8s-api-testutil ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.20.1:test (default-test) @ k8s-api-testutil ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building amqp-utils 0.19-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-checkstyle-plugin:3.0.0:check (validate) @ amqp-utils ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ amqp-utils ---
[INFO] surefireArgLine set to -javaagent:/root/./workspace/EnMasseProject/enmasse/371966365/.m2/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/root/workspace/EnMasseProject/enmasse/371966365/amqp-utils/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ amqp-utils ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/amqp-utils/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ amqp-utils ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ amqp-utils ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/amqp-utils/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ amqp-utils ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.20.1:test (default-test) @ amqp-utils ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running io.enmasse.amqp.ArtemisTest
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.082 s - in io.enmasse.amqp.ArtemisTest
[INFO] Running io.enmasse.amqp.SyncRequestClientTest
Receiver open
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.134 s - in io.enmasse.amqp.SyncRequestClientTest
[INFO] Running io.enmasse.amqp.BlockingClientTest
Receiver open
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.194 s - in io.enmasse.amqp.BlockingClientTest
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building api-common 0.19-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-checkstyle-plugin:3.0.0:check (validate) @ api-common ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ api-common ---
[INFO] surefireArgLine set to -javaagent:/root/./workspace/EnMasseProject/enmasse/371966365/.m2/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/root/workspace/EnMasseProject/enmasse/371966365/api-common/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ api-common ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/api-common/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ api-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ api-common ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/api-common/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ api-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.20.1:test (default-test) @ api-common ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running io.enmasse.api.auth.AuthInterceptorTest
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.7 s - in io.enmasse.api.auth.AuthInterceptorTest
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building discovery-lib 0.19-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-checkstyle-plugin:3.0.0:check (validate) @ discovery-lib ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ discovery-lib ---
[INFO] surefireArgLine set to -javaagent:/root/./workspace/EnMasseProject/enmasse/371966365/.m2/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/root/workspace/EnMasseProject/enmasse/371966365/discovery-lib/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ discovery-lib ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/discovery-lib/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ discovery-lib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ discovery-lib ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/discovery-lib/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ discovery-lib ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.20.1:test (default-test) @ discovery-lib ---
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit3/2.20.1/surefire-junit3-2.20.1.pom
3/3 KB     
3/3 KB   
         
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit3/2.20.1/surefire-junit3-2.20.1.pom (3 KB at 73.3 KB/sec)
Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit3/2.20.1/surefire-junit3-2.20.1.jar
3/27 KB   
5/27 KB   
8/27 KB   
11/27 KB   
13/27 KB   
16/27 KB   
19/27 KB   
21/27 KB   
24/27 KB   
27/27 KB   
           
Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit3/2.20.1/surefire-junit3-2.20.1.jar (27 KB at 728.4 KB/sec)
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running enmasse.discovery.DiscoveryTest
Deploying server verticle
Waiting for subscriber to be created
Sending second response
Sending third response
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 11.238 s - in enmasse.discovery.DiscoveryTest
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building topic-forwarder 0.19-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-checkstyle-plugin:3.0.0:check (validate) @ topic-forwarder ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ topic-forwarder ---
[INFO] surefireArgLine set to -javaagent:/root/./workspace/EnMasseProject/enmasse/371966365/.m2/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/root/workspace/EnMasseProject/enmasse/371966365/topic-forwarder/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ topic-forwarder ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ topic-forwarder ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ topic-forwarder ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] skip non existing resourceDirectory /root/workspace/EnMasseProject/enmasse/371966365/topic-forwarder/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ topic-forwarder ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.20.1:test (default-test) @ topic-forwarder ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running enmasse.broker.forwarder.ForwarderControllerTest
2018-04-27 12:44:08 DEBUG InternalLoggerFactory:71 - Using SLF4J as the default logging framework
2018-04-27 12:44:08 DEBUG ResourceLeakDetector:81 - -Dio.netty.leakDetection.level: simple
2018-04-27 12:44:08 DEBUG ResourceLeakDetector:81 - -Dio.netty.leakDetection.targetRecords: 4
2018-04-27 12:44:08 DEBUG MultithreadEventLoopGroup:76 - -Dio.netty.eventLoopThreads: 64
2018-04-27 12:44:08 DEBUG PlatformDependent0:76 - -Dio.netty.noUnsafe: false
2018-04-27 12:44:08 DEBUG PlatformDependent0:76 - Java version: 8
2018-04-27 12:44:08 DEBUG PlatformDependent0:71 - sun.misc.Unsafe.theUnsafe: available
2018-04-27 12:44:08 DEBUG PlatformDependent0:71 - sun.misc.Unsafe.copyMemory: available
2018-04-27 12:44:08 DEBUG PlatformDependent0:71 - java.nio.Buffer.address: available
2018-04-27 12:44:08 DEBUG PlatformDependent0:71 - direct buffer constructor: available
2018-04-27 12:44:08 DEBUG PlatformDependent0:76 - java.nio.Bits.unaligned: available, true
2018-04-27 12:44:08 DEBUG PlatformDependent0:71 - jdk.internal.misc.Unsafe.allocateUninitializedArray(int): unavailable prior to Java9
2018-04-27 12:44:08 DEBUG PlatformDependent0:76 - java.nio.DirectByteBuffer.<init>(long, int): available
2018-04-27 12:44:08 DEBUG PlatformDependent:76 - sun.misc.Unsafe: available
2018-04-27 12:44:08 DEBUG PlatformDependent:76 - -Dio.netty.tmpdir: /tmp (java.io.tmpdir)
2018-04-27 12:44:08 DEBUG PlatformDependent:76 - -Dio.netty.bitMode: 64 (sun.arch.data.model)
2018-04-27 12:44:08 DEBUG PlatformDependent:76 - -Dio.netty.noPreferDirect: false
2018-04-27 12:44:08 DEBUG PlatformDependent:76 - -Dio.netty.maxDirectMemory: 14957936640 bytes
2018-04-27 12:44:08 DEBUG PlatformDependent:76 - -Dio.netty.uninitializedArrayAllocationThreshold: -1
2018-04-27 12:44:08 DEBUG CleanerJava6:71 - java.nio.ByteBuffer.cleaner(): available
2018-04-27 12:44:08 DEBUG NioEventLoop:76 - -Dio.netty.noKeySetOptimization: false
2018-04-27 12:44:08 DEBUG NioEventLoop:76 - -Dio.netty.selectorAutoRebuildThreshold: 512
2018-04-27 12:44:08 DEBUG PlatformDependent:71 - org.jctools-core.MpscChunkedArrayQueue: available
2018-04-27 12:44:08 DEBUG DefaultDnsServerAddressStreamProvider:76 - Default DNS servers: [/8.8.8.8:53] (sun.net.dns.ResolverConfiguration)
2018-04-27 12:44:08 DEBUG NetUtil:76 - -Djava.net.preferIPv4Stack: false
2018-04-27 12:44:08 DEBUG NetUtil:76 - -Djava.net.preferIPv6Addresses: false
2018-04-27 12:44:08 DEBUG NetUtil:86 - Loopback interface: lo (lo, 127.0.0.1)
2018-04-27 12:44:08 DEBUG NetUtil:81 - /proc/sys/net/core/somaxconn: 128
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.numHeapArenas: 64
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.numDirectArenas: 64
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.pageSize: 8192
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.maxOrder: 11
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.chunkSize: 16777216
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.tinyCacheSize: 512
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.smallCacheSize: 256
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.normalCacheSize: 64
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.cacheTrimInterval: 8192
2018-04-27 12:44:09 DEBUG PooledByteBufAllocator:76 - -Dio.netty.allocator.useCacheForAllThreads: true
2018-04-27 12:44:09 DEBUG InternalThreadLocalMap:76 - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024
2018-04-27 12:44:09 DEBUG InternalThreadLocalMap:76 - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096
2018-04-27 12:44:09 DEBUG DefaultChannelId:76 - -Dio.netty.processId: 1159 (auto-detected)
2018-04-27 12:44:09 DEBUG DefaultChannelId:76 - -Dio.netty.machineId: 02:42:ac:ff:fe:11:00:06 (auto-detected)
2018-04-27 12:44:09 DEBUG ByteBufUtil:76 - -Dio.netty.allocator.type: pooled
2018-04-27 12:44:09 DEBUG ByteBufUtil:76 - -Dio.netty.threadLocalDirectBufferSize: 65536
2018-04-27 12:44:09 DEBUG ByteBufUtil:76 - -Dio.netty.maxThreadLocalCharBufferSize: 16384
2018-04-27 12:44:09 DEBUG ForwarderController:50 - Hosts changed to [host=127.0.0.1, ports={amqp=42527}]
2018-04-27 12:44:09 INFO  ForwarderController:77 - Creating forwarder 127.0.0.1:35123 -> 127.0.0.1:42527
2018-04-27 12:44:09 INFO  Forwarder:127 - 127.0.0.1:35123 -> 127.0.0.1:42527: starting sender
2018-04-27 12:44:09 DEBUG AbstractByteBuf:81 - -Dio.netty.buffer.bytebuf.checkAccessible: true
2018-04-27 12:44:09 DEBUG ResourceLeakDetectorFactory:76 - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@97ebbb6
2018-04-27 12:44:09 DEBUG Recycler:76 - -Dio.netty.recycler.maxCapacityPerThread: 32768
2018-04-27 12:44:09 DEBUG Recycler:76 - -Dio.netty.recycler.maxSharedCapacityFactor: 2
2018-04-27 12:44:09 DEBUG Recycler:76 - -Dio.netty.recycler.linkCapacity: 16
2018-04-27 12:44:09 DEBUG Recycler:76 - -Dio.netty.recycler.ratio: 8
2018-04-27 12:44:09 INFO  Forwarder:135 - 127.0.0.1:35123 -> 127.0.0.1:42527: sender opened to broker-2
2018-04-27 12:44:09 INFO  Forwarder:58 - Starting receiver
2018-04-27 12:44:09 INFO  Forwarder:76 - 127.0.0.1:35123 -> 127.0.0.1:42527: receiver opened to broker-1
2018-04-27 12:44:14 DEBUG ForwarderController:50 - Hosts changed to [host=127.0.0.1, ports={amqp=42527}, host=127.0.0.1, ports={amqp=45722}]
2018-04-27 12:44:14 INFO  ForwarderController:77 - Creating forwarder 127.0.0.1:35123 -> 127.0.0.1:45722
2018-04-27 12:44:14 INFO  ForwarderControllerTest:111 - Num connected on 1 is : 1
2018-04-27 12:44:14 INFO  Forwarder:127 - 127.0.0.1:35123 -> 127.0.0.1:45722: starting sender
2018-04-27 12:44:14 INFO  Forwarder:135 - 127.0.0.1:35123 -> 127.0.0.1:45722: sender opened to broker-3
2018-04-27 12:44:14 INFO  Forwarder:58 - Starting receiver
2018-04-27 12:44:14 INFO  Forwarder:76 - 127.0.0.1:35123 -> 127.0.0.1:45722: receiver opened to broker-1
2018-04-27 12:44:15 INFO  ForwarderControllerTest:111 - Num connected on 1 is : 2
2018-04-27 12:44:15 INFO  ForwarderControllerTest:111 - Num connected on 2 is : 1
2018-04-27 12:44:15 INFO  ForwarderControllerTest:111 - Num connected on 3 is : 1
2018-04-27 12:44:15 DEBUG Forwarder:170 - 127.0.0.1:35123 -> 127.0.0.1:42527: forwarding message
2018-04-27 12:44:15 DEBUG Forwarder:170 - 127.0.0.1:35123 -> 127.0.0.1:45722: forwarding message
2018-04-27 12:44:15 DEBUG Forwarder:170 - 127.0.0.1:35123 -> 127.0.0.1:42527: forwarding message
2018-04-27 12:44:15 DEBUG Forwarder:170 - 127.0.0.1:35123 -> 127.0.0.1:45722: forwarding message
2018-04-27 12:44:15 DEBUG ForwarderController:50 - Hosts changed to [host=127.0.0.1, ports={amqp=45722}]
2018-04-27 12:44:15 INFO  ForwarderController:70 - Deleting forwarder b6686a91-97b5-4569-b5d7-1685a2981eb9
2018-04-27 12:44:15 INFO  ForwarderControllerTest:111 - Num connected on 1 is : 4
2018-04-27 12:44:15 INFO  ForwarderControllerTest:111 - Num connected on 2 is : 2
2018-04-27 12:44:15 INFO  ForwarderControllerTest:111 - Num connected on 3 is : 2
2018-04-27 12:44:15 DEBUG Forwarder:170 - 127.0.0.1:35123 -> 127.0.0.1:45722: forwarding message
2018-04-27 12:44:15 DEBUG Forwarder:170 - 127.0.0.1:35123 -> 127.0.0.1:45722: forwarding message
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.442 s - in enmasse.broker.forwarder.ForwarderControllerTest
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building mqtt-gateway 0.19-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-checkstyle-plugin:3.0.0:check (validate) @ mqtt-gateway ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.9:prepare-agent (default) @ mqtt-gateway ---
[INFO] surefireArgLine set to -javaagent:/root/./workspace/EnMasseProject/enmasse/371966365/.m2/org/jacoco/org.jacoco.agent/0.7.9/org.jacoco.agent-0.7.9-runtime.jar=destfile=/root/workspace/EnMasseProject/enmasse/371966365/mqtt-gateway/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mqtt-gateway ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ mqtt-gateway ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mqtt-gateway ---
[WARNING] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ mqtt-gateway ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.20.1:test (default-test) @ mqtt-gateway ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running enmasse.mqtt.TopicMatcherTest
[INFO] Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.05 s - in enmasse.mqtt.TopicMatcherTest
[INFO] Running enmasse.mqtt.DisconnectionTest
12:44:17.809 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 37418
12:44:17.815 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 37747
12:44:17.815 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 41765
12:44:18.084 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:18.106 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:18.107 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:18.113 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:18.124 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:18.137 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:18.162 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:18.165 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:18.165 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.171 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:18.171 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:37418
12:44:18.193 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating sender link route for will on broker
12:44:18.502 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client ignore-disconnect
12:44:18.547 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.control
12:44:18.547 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.549 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:18.549 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.551 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for $lwt on lwt-service
12:44:18.567 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpLwtServiceEndpoint - AMQP will delivery Accepted{}
12:44:18.571 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Received Message{header=Header{durable=false, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='will', subject='will', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=0}}body=Data{Will on EnMasse}}
12:44:18.578 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.ignore-disconnect.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:18.578 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:18.583 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client ignore-disconnect [accepted]
12:44:18.584 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client ignore-disconnect
12:44:18.585 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.publish
12:44:18.585 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $subctrl]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.587 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - DISCONNECT from MQTT client ignore-disconnect
12:44:18.590 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client ignore-disconnect
12:44:18.591 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:18.592 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client ignore-disconnect
12:44:18.592 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.control
12:44:18.592 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.publish
12:44:18.593 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for will on broker
12:44:18.594 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:18.595 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP connection closed with dispatch-router-j
12:44:18.595 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:18.595 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.596 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:18.596 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:18.603 [vert.x-eventloop-thread-10] INFO  enmasse.mqtt.DisconnectionTest - topic: will, message: Will on EnMasse
12:44:18.613 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:18.613 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:18.614 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:18.620 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:18.624 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:18.625 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.625 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.626 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.626 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.668 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 40007
12:44:18.669 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 37046
12:44:18.669 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 46743
12:44:18.674 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:18.675 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:18.675 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:18.678 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:18.679 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:18.682 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:18.685 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:18.686 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:18.686 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.686 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:18.686 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:40007
12:44:18.688 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client client_id
12:44:18.696 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.client_id.control
12:44:18.696 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.697 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:18.697 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.client_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.700 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:18.700 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client client_id [accepted]
12:44:18.700 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:18.701 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client client_id
12:44:18.701 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.client_id.publish
12:44:18.701 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.client_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.709 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client client_id
12:44:18.712 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:18.712 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{will=0}}}
12:44:18.715 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.client_id.publish
12:44:18.715 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.715 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.client_id.pubrel
12:44:18.716 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.718 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client client_id
12:44:18.720 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client ignore-disconnect
12:44:18.725 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.control
12:44:18.725 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.726 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:18.726 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.726 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for $lwt on lwt-service
12:44:18.729 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpLwtServiceEndpoint - AMQP will delivery Accepted{}
12:44:18.730 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Received Message{header=Header{durable=false, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='will', subject='will', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=0}}body=Data{Will on EnMasse}}
12:44:18.730 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:18.731 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client ignore-disconnect [accepted]
12:44:18.731 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.ignore-disconnect.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:18.731 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client ignore-disconnect
12:44:18.732 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.publish
12:44:18.732 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.733 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - DISCONNECT from MQTT client ignore-disconnect
12:44:18.733 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client ignore-disconnect
12:44:18.734 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:18.734 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client ignore-disconnect
12:44:18.734 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.control
12:44:18.734 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.publish
12:44:18.735 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:18.735 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP connection closed with dispatch-router-j
12:44:18.735 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.735 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:18.736 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:18.736 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:18.853 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for will on broker
12:44:18.863 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=false, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=null, userId=null, to='will', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=0}}body=Data{Will on EnMasse}}
12:44:18.865 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client client_id
12:44:18.867 [MQTT Call: client_id] INFO  enmasse.mqtt.DisconnectionTest - topic: will, message: Will on EnMasse
12:44:18.867 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:18.868 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:18.868 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:18.868 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:18.869 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:18.869 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client client_id
12:44:18.869 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client client_id
12:44:18.870 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:18.870 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client client_id already closed
12:44:18.870 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.870 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.870 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.871 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.890 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 35164
12:44:18.891 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 45112
12:44:18.891 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 37303
12:44:18.895 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:18.896 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:18.896 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:18.898 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:18.899 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:18.902 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:18.903 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:18.904 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:18.904 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.904 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:18.904 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:35164
12:44:18.907 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client ignore-disconnect
12:44:18.909 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating sender link route for will on broker
12:44:18.912 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.control
12:44:18.913 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.913 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:18.913 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.914 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for $lwt on lwt-service
12:44:18.917 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpLwtServiceEndpoint - AMQP will delivery Accepted{}
12:44:18.917 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='will', subject='will', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Will on EnMasse}}
12:44:18.918 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:18.918 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.ignore-disconnect.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:18.918 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client ignore-disconnect [accepted]
12:44:18.918 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client ignore-disconnect
12:44:18.919 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - DISCONNECT from MQTT client ignore-disconnect
12:44:18.919 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.publish
12:44:18.919 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $subctrl]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.919 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client ignore-disconnect
12:44:18.920 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:18.920 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client ignore-disconnect
12:44:18.921 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.control
12:44:18.921 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.publish
12:44:18.921 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:18.921 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP connection closed with dispatch-router-j
12:44:18.921 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:18.921 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.921 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:18.921 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:18.922 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for will on broker
12:44:18.928 [vert.x-eventloop-thread-10] INFO  enmasse.mqtt.DisconnectionTest - topic: will, message: Will on EnMasse
12:44:18.928 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:18.928 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:18.928 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:18.928 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:18.929 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:18.929 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.930 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.930 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.930 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.948 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 35785
12:44:18.948 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 34800
12:44:18.948 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43105
12:44:18.953 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:18.954 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:18.954 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:18.956 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:18.957 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:18.960 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:18.961 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:18.961 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:18.961 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.963 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:18.963 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:35785
12:44:18.966 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client client_id
12:44:18.970 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.client_id.control
12:44:18.970 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.971 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:18.971 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.client_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.973 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:18.973 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client client_id [accepted]
12:44:18.973 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:18.973 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client client_id
12:44:18.974 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.client_id.publish
12:44:18.974 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client client_id
12:44:18.974 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.client_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.975 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:18.975 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client client_id
12:44:18.975 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{will=1}}}
12:44:18.976 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.client_id.publish
12:44:18.976 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.976 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.client_id.pubrel
12:44:18.976 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.976 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client ignore-disconnect
12:44:18.980 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.control
12:44:18.980 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.980 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:18.980 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.981 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for $lwt on lwt-service
12:44:18.982 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpLwtServiceEndpoint - AMQP will delivery Accepted{}
12:44:18.983 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='will', subject='will', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Will on EnMasse}}
12:44:18.983 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:18.983 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client ignore-disconnect [accepted]
12:44:18.983 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.ignore-disconnect.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:18.984 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client ignore-disconnect
12:44:18.984 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - DISCONNECT from MQTT client ignore-disconnect
12:44:18.984 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.publish
12:44:18.984 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:18.984 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client ignore-disconnect
12:44:18.985 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:18.985 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.control
12:44:18.985 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.publish
12:44:18.985 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client ignore-disconnect
12:44:18.985 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for will on broker
12:44:18.986 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:18.986 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP connection closed with dispatch-router-j
12:44:18.986 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:18.986 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.987 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:18.987 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:18.990 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=null, userId=null, to='will', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Will on EnMasse}}
12:44:18.990 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client client_id
12:44:18.991 [MQTT Call: client_id] INFO  enmasse.mqtt.DisconnectionTest - topic: will, message: Will on EnMasse
12:44:18.991 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] from MQTT client client_id
12:44:18.992 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:18.992 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:18.992 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:18.993 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:18.994 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.994 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.994 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.994 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:18.995 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:19.003 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.008 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:19.011 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client client_id
12:44:19.013 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client client_id
12:44:19.165 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 40440
12:44:19.166 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38966
12:44:19.167 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43359
12:44:19.182 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:19.186 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:19.187 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:19.202 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:19.205 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:19.221 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:19.227 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:19.228 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.233 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:19.237 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:19.238 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:40440
12:44:19.253 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating sender link route for will on broker
12:44:19.261 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client ignore-disconnect
12:44:19.277 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.control
12:44:19.277 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.278 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.278 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.278 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for $lwt on lwt-service
12:44:19.287 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='will', subject='will', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=2}}body=Data{Will on EnMasse}}
12:44:19.291 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpLwtServiceEndpoint - AMQP will delivery Accepted{}
12:44:19.298 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.ignore-disconnect.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.300 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.301 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client ignore-disconnect [accepted]
12:44:19.302 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client ignore-disconnect
12:44:19.303 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.publish
12:44:19.303 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $subctrl]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.308 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - DISCONNECT from MQTT client ignore-disconnect
12:44:19.311 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client ignore-disconnect
12:44:19.315 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client ignore-disconnect
12:44:19.315 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for will on broker
12:44:19.319 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:19.320 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.control
12:44:19.320 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.publish
12:44:19.320 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:19.322 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP connection closed with dispatch-router-j
12:44:19.322 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:19.323 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.323 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:19.324 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.330 [vert.x-eventloop-thread-10] INFO  enmasse.mqtt.DisconnectionTest - topic: will, message: Will on EnMasse
12:44:19.343 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:19.344 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:19.343 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:19.345 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:19.346 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:19.350 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:19.351 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:19.343 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:19.365 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.366 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.366 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.366 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.416 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44285
12:44:19.416 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43168
12:44:19.416 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 45621
12:44:19.421 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:19.422 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:19.422 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:19.424 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:19.425 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:19.428 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:19.429 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:19.430 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:19.430 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.431 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:19.431 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:44285
12:44:19.433 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client client_id
12:44:19.439 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.client_id.control
12:44:19.439 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.439 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.439 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.client_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.441 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.441 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client client_id [accepted]
12:44:19.441 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.441 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client client_id
12:44:19.441 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.client_id.publish
12:44:19.442 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.client_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.442 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client client_id
12:44:19.442 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:19.442 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client client_id
12:44:19.442 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{will=2}}}
12:44:19.444 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.client_id.publish
12:44:19.444 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.444 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client ignore-disconnect
12:44:19.444 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.client_id.pubrel
12:44:19.444 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.447 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.control
12:44:19.447 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.448 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.448 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.448 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for $lwt on lwt-service
12:44:19.449 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpLwtServiceEndpoint - AMQP will delivery Accepted{}
12:44:19.450 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='will', subject='will', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=2}}body=Data{Will on EnMasse}}
12:44:19.450 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.450 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client ignore-disconnect [accepted]
12:44:19.450 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.ignore-disconnect.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.450 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client ignore-disconnect
12:44:19.451 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.ignore-disconnect.publish
12:44:19.451 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.451 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - DISCONNECT from MQTT client ignore-disconnect
12:44:19.451 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client ignore-disconnect
12:44:19.452 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client ignore-disconnect
12:44:19.452 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:19.452 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.control
12:44:19.452 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.ignore-disconnect.publish
12:44:19.452 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:19.452 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP connection closed with dispatch-router-j
12:44:19.452 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:19.452 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.452 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.453 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client ignore-disconnect already closed
12:44:19.453 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for will on broker
12:44:19.458 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=null, userId=null, to='will', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=2}}body=Data{Will on EnMasse}}
12:44:19.458 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client client_id
12:44:19.459 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] from MQTT client client_id
12:44:19.460 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.client_id.pubrel
12:44:19.460 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.ignore-disconnect.control, $mqtt.to.ignore-disconnect.publish, $mqtt.client_id.pubrel, $mqtt.to.client_id.publish, $subctrl, $mqtt.to.client_id.control]},{receivers=[$mqtt.to.client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.461 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP pubrel delivery Accepted{}
12:44:19.461 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:19.463 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='pubrel', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.463 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] to MQTT client client_id
12:44:19.463 [MQTT Call: client_id] INFO  enmasse.mqtt.DisconnectionTest - topic: will, message: Will on EnMasse
12:44:19.464 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] from MQTT client client_id
12:44:19.464 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:19.464 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:19.464 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:19.464 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:19.464 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:19.466 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.466 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.466 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.466 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.467 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.468 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:19.468 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client client_id
12:44:19.468 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client client_id
12:44:19.489 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 34514
12:44:19.489 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 34602
12:44:19.490 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 46132
12:44:19.493 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:19.493 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:19.493 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:19.495 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:19.496 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:19.501 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:19.502 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:19.502 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:19.502 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.503 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:19.503 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:34514
12:44:19.506 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client client_id
12:44:19.510 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.client_id.control
12:44:19.510 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.510 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.510 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.client_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.511 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for $lwt on lwt-service
12:44:19.512 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpLwtServiceEndpoint - AMQP will delivery Accepted{}
12:44:19.512 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='will', subject='will', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Will on EnMasse}}
12:44:19.513 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.513 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client client_id [accepted]
12:44:19.514 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client client_id
12:44:19.514 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.client_id.publish
12:44:19.514 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.client_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.514 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - DISCONNECT from MQTT client client_id
12:44:19.514 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client client_id
12:44:19.514 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.514 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:19.515 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client client_id
12:44:19.515 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.client_id.control
12:44:19.515 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:19.515 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.client_id.publish
12:44:19.515 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:19.515 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:19.515 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:19.515 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:19.515 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP connection closed with dispatch-router-j
12:44:19.515 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client client_id already closed
12:44:19.516 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:19.518 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.518 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client client_id already closed
12:44:19.518 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.518 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.518 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.518 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
[INFO] Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.747 s - in enmasse.mqtt.DisconnectionTest
[INFO] Running enmasse.mqtt.PublishTest
12:44:19.534 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38091
12:44:19.534 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 42210
12:44:19.534 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43938
12:44:19.537 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:19.537 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:19.537 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:19.539 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:19.540 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:19.542 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:19.543 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:19.543 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:19.543 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.544 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:19.544 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:38091
12:44:19.549 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating sender link route for mytopic on broker
12:44:19.551 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:19.554 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:19.554 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.555 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.555 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.556 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.556 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:19.556 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.556 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:19.556 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:19.556 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.560 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [-1] from MQTT client my_publisher_id
12:44:19.561 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:19.564 [vert.x-eventloop-thread-10] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:19.565 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:19.565 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:19.565 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:19.565 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:19.566 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.567 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.567 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.567 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.567 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:19.567 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.567 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:19.567 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:19.567 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.582 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44763
12:44:19.582 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 35062
12:44:19.582 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 40709
12:44:19.585 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:19.585 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:19.585 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:19.587 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:19.588 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:19.590 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:19.592 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:19.592 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:19.592 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.592 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:19.592 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:44763
12:44:19.595 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:19.598 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:19.598 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.598 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.598 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.599 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.599 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:19.599 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:19.600 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:19.600 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.600 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.600 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:19.602 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:19.602 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:19.602 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=0}}}
12:44:19.603 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:19.603 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.603 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:19.603 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.603 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:19.608 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:19.608 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.608 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.608 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.609 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.610 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:19.610 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.610 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:19.610 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:19.610 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.611 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [-1] from MQTT client my_publisher_id
12:44:19.611 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:19.616 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=false, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=-1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=0}}body=Data{Hello MQTT on EnMasse}}
12:44:19.616 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:19.616 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:19.617 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:19.617 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:19.617 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:19.617 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:19.618 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.618 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.618 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.618 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.618 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.620 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.620 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:19.620 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:19.620 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:19.620 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:19.620 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:19.620 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.620 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:19.638 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43777
12:44:19.638 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 40975
12:44:19.638 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43853
12:44:19.642 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:19.642 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:19.642 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:19.645 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:19.645 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:19.648 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:19.649 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:19.649 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.649 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:19.650 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:19.650 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:43777
12:44:19.654 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating sender link route for mytopic on broker
12:44:19.657 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:19.660 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:19.660 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.660 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.660 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.661 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.661 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:19.661 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:19.661 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.661 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:19.661 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.662 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:19.662 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:19.663 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:19.664 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] to MQTT client my_publisher_id
12:44:19.665 [vert.x-eventloop-thread-10] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:19.665 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:19.665 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:19.665 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:19.666 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:19.666 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:19.667 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.667 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:19.667 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.667 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:19.667 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.667 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.667 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_publisher_id already closed
12:44:19.667 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.667 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.684 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 33672
12:44:19.684 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38391
12:44:19.684 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43955
12:44:19.687 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:19.688 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:19.688 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:19.690 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:19.690 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:19.693 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:19.694 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:19.694 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.694 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:19.694 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:19.694 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:33672
12:44:19.696 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:19.699 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:19.699 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.699 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.700 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.700 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.700 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:19.701 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:19.701 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:19.701 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.701 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.701 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:19.702 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:19.702 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:19.702 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:19.702 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:19.702 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.703 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:19.703 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.703 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:19.706 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:19.706 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.706 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:19.706 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.707 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:19.707 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:19.707 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:19.707 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:19.707 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:19.707 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.708 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:19.708 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:19.709 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:19.709 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] to MQTT client my_publisher_id
12:44:19.711 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Hello MQTT on EnMasse}}
12:44:19.711 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:19.711 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:19.711 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] from MQTT client my_subscriber_id
12:44:19.711 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:19.711 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:19.712 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:19.712 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:19.712 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:19.713 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:19.713 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:19.713 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:19.713 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:19.713 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:19.713 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.713 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.713 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.713 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:19.713 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.713 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:19.713 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_publisher_id already closed
12:44:19.713 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.714 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.733 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 39619
12:44:19.734 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 36263
12:44:19.734 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 46232
12:44:19.740 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:19.742 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:19.742 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:19.749 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:19.750 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:19.768 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:19.775 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:19.775 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:19.780 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:19.782 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:19.782 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:39619
12:44:19.792 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:19.793 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:19.793 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:19.792 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:19.792 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:19.798 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:19.809 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:19.814 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.836 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.848 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:19.879 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43928
12:44:19.879 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 34868
12:44:19.879 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 37628
12:44:20.204 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:20.221 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:20.222 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:20.245 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:20.252 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:20.290 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:20.298 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:20.298 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.302 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:20.331 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:20.331 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:43928
12:44:20.365 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:20.381 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:20.381 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.382 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.382 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.388 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.389 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.389 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:20.389 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:20.415 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:20.415 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.434 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:20.441 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=0}}}
12:44:20.441 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:20.443 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:20.443 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:20.443 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.458 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:20.459 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.503 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:20.509 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:20.510 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.510 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.510 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.512 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.512 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:20.512 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.512 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:20.512 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:20.512 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.542 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [-1] from MQTT client my_publisher_id
12:44:20.544 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:20.548 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=false, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=-1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=0}}body=Data{Hello MQTT on EnMasse}}
12:44:20.549 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:20.550 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:20.551 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:20.551 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:20.553 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:20.553 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:20.564 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.565 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.565 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.565 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.565 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.584 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:20.585 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:20.588 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:20.588 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:20.588 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:20.588 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:20.589 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38177
12:44:20.589 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 42985
12:44:20.589 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38331
12:44:20.589 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:20.589 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:20.606 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:20.615 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:20.615 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:20.621 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:20.622 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:20.626 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:20.628 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:20.628 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.629 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:20.630 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:20.630 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:38177
12:44:20.641 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:20.644 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:20.645 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.645 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.645 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.646 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.647 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.647 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:20.647 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:20.650 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:20.650 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.650 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:20.651 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:20.653 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:20.657 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=0}}}
12:44:20.665 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:20.665 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.665 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:20.665 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:20.666 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.670 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:20.671 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.671 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.671 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.672 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.673 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:20.673 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.673 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:20.674 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:20.674 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.678 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:20.679 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:20.680 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:20.681 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] to MQTT client my_publisher_id
12:44:20.682 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Hello MQTT on EnMasse}}
12:44:20.683 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:20.684 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:20.684 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:20.684 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:20.684 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:20.686 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:20.688 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.689 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.689 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.689 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.689 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.692 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:20.694 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:20.696 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:20.697 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:20.697 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:20.697 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:20.697 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:20.705 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43816
12:44:20.705 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 46733
12:44:20.705 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43253
12:44:20.720 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:20.722 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:20.724 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:20.725 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:20.726 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:20.730 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:20.731 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:20.731 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.732 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:20.733 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:20.733 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:43816
12:44:20.738 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:20.742 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:20.742 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.742 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.742 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.744 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.744 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:20.744 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:20.744 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:20.744 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.746 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.748 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:20.749 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:20.749 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:20.749 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=0}}}
12:44:20.753 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:20.753 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.754 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:20.754 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:20.754 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.757 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:20.757 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.758 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.758 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.759 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.759 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:20.759 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:20.759 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.764 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:20.764 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.765 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:20.765 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:20.767 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:20.767 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] to MQTT client my_publisher_id
12:44:20.768 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] from MQTT client my_publisher_id
12:44:20.768 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] to MQTT client my_publisher_id
12:44:20.769 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=2}}body=Data{Hello MQTT on EnMasse}}
12:44:20.769 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:20.771 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:20.771 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:20.772 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:20.771 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:20.772 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:20.778 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:20.778 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.778 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.778 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:20.778 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.778 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:20.778 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:20.778 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.778 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:20.779 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.782 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:20.782 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:20.782 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:20.782 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_publisher_id already closed
12:44:20.787 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 34045
12:44:20.787 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38102
12:44:20.788 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 42442
12:44:20.804 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:20.805 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:20.805 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:20.809 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:20.809 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:20.813 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:20.814 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:20.814 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:20.814 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.815 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:20.815 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:34045
12:44:20.825 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:20.830 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:20.830 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.831 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.831 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.832 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.832 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:20.836 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:20.837 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:20.837 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.837 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.838 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:20.838 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:20.838 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:20.838 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:20.840 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:20.840 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.841 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:20.841 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.843 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:20.847 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:20.847 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.848 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.848 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.849 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.849 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.849 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:20.850 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:20.851 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:20.851 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.852 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [-1] from MQTT client my_publisher_id
12:44:20.852 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:20.856 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=false, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=-1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=0}}body=Data{Hello MQTT on EnMasse}}
12:44:20.857 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:20.858 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:20.858 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:20.858 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:20.858 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:20.859 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:20.876 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.876 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.876 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.876 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.877 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:20.880 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:20.880 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:20.881 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:20.886 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:20.886 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:20.886 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:20.886 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:20.888 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 45450
12:44:20.888 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44246
12:44:20.888 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 39841
12:44:20.914 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:20.915 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:20.916 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:20.927 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:20.928 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:20.936 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:20.938 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:20.939 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.939 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:20.941 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:20.941 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:45450
12:44:20.947 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:20.955 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:20.955 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.955 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.955 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.956 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.957 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:20.957 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.958 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:20.958 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:20.958 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.959 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:20.960 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:20.960 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:20.960 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:20.963 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:20.963 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.964 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:20.964 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.976 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:20.985 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:20.986 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.986 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:20.986 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.987 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:20.988 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:20.988 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:20.992 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:20.993 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:20.993 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:20.994 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:20.994 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:20.996 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:20.997 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] to MQTT client my_publisher_id
12:44:21.005 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Hello MQTT on EnMasse}}
12:44:21.007 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:21.007 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:21.007 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] from MQTT client my_subscriber_id
12:44:21.007 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:21.007 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:21.007 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:21.007 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:21.008 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:21.012 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:21.012 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:21.012 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:21.012 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:21.026 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:21.032 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.033 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:21.033 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.033 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.033 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_publisher_id already closed
12:44:21.034 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.034 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.034 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.034 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.043 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 35291
12:44:21.046 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 41268
12:44:21.047 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38333
12:44:21.083 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:21.086 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:21.086 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:21.096 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:21.098 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:21.105 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:21.107 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:21.111 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:21.111 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.111 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:21.112 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:35291
12:44:21.128 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:21.139 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:21.139 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.140 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:21.140 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.144 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:21.145 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:21.145 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:21.145 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:21.146 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:21.146 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.148 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:21.151 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:21.151 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:21.154 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:21.156 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:21.160 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.161 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:21.161 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.179 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:21.188 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:21.189 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.189 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:21.189 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.192 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:21.192 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:21.193 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:21.194 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:21.194 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:21.195 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.196 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:21.197 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:21.200 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:21.200 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] to MQTT client my_publisher_id
12:44:21.201 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] from MQTT client my_publisher_id
12:44:21.201 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] to MQTT client my_publisher_id
12:44:21.218 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=2}}body=Data{Hello MQTT on EnMasse}}
12:44:21.220 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:21.221 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:21.222 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] from MQTT client my_subscriber_id
12:44:21.228 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:21.229 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:21.230 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:21.234 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:21.234 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:21.254 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.254 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:21.254 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:21.254 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:21.254 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:21.270 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.270 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:21.270 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.270 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.270 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.276 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.277 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.277 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:21.295 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43080
12:44:21.296 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43389
12:44:21.296 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 45743
12:44:21.339 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:21.344 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:21.344 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:21.352 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:21.354 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:21.360 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:21.362 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:21.362 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.365 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:21.369 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:21.369 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:43080
12:44:21.381 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:21.397 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:21.397 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.398 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:21.398 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.400 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:21.401 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:21.402 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:21.403 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:21.404 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:21.404 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.405 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:21.407 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:21.407 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=2}}}
12:44:21.409 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:21.409 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.410 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:21.410 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.413 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:21.420 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:21.426 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:21.426 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.426 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:21.427 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.430 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:21.431 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:21.431 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:21.431 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:21.432 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:21.432 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.433 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [-1] from MQTT client my_publisher_id
12:44:21.433 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:21.441 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=false, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=-1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=0}}body=Data{Hello MQTT on EnMasse}}
12:44:21.441 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:21.442 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:21.442 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:21.442 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:21.442 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:21.442 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:21.443 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:21.443 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:21.444 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.445 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.445 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.445 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.446 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.462 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.464 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.467 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:21.475 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:21.475 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:21.475 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:21.476 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:21.476 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 42230
12:44:21.477 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 36074
12:44:21.477 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 41288
12:44:21.490 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:21.499 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:21.499 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:21.839 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:21.841 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:21.851 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:21.853 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:21.854 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.857 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:21.861 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:21.861 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:42230
12:44:21.868 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:21.881 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:21.881 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.881 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:21.882 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.885 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:21.886 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:21.886 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:21.888 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:21.889 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:21.889 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.890 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:21.891 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:21.891 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=2}}}
12:44:21.894 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:21.895 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.901 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:21.891 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:21.901 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.902 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:21.907 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:21.907 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.907 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:21.908 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.909 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:21.909 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:21.910 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:21.910 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:21.910 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:21.910 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.912 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:21.914 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:21.917 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:21.917 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] to MQTT client my_publisher_id
12:44:21.921 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Hello MQTT on EnMasse}}
12:44:21.923 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:21.923 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:21.924 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:21.924 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:21.924 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:21.925 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:21.926 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:21.926 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:21.926 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:21.928 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:21.928 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_subscriber_id.control
12:44:21.928 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_subscriber_id.publish
12:44:21.928 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:21.929 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:21.929 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_publisher_id.control
12:44:21.929 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_publisher_id.publish
12:44:21.929 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:21.931 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:21.932 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.932 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:21.934 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:21.934 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:21.934 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:21.933 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.934 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.935 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.935 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:21.936 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.936 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.936 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.936 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_publisher_id already closed
12:44:21.940 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 41318
12:44:21.940 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 33970
12:44:21.940 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 33816
12:44:21.954 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:21.955 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:21.955 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:21.957 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:21.957 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:21.960 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:21.961 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:21.961 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.961 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:21.962 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:21.962 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:41318
12:44:21.964 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:21.968 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:21.968 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.968 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:21.968 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.969 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:21.969 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:21.969 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:21.969 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:21.969 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:21.969 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.970 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:21.970 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:21.970 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=2}}}
12:44:21.971 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:21.972 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:21.972 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.972 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:21.972 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.974 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:21.976 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:21.976 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.977 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:21.977 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.977 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:21.977 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:21.977 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:21.977 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:21.978 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:21.978 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.978 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:21.978 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:21.979 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:21.979 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] to MQTT client my_publisher_id
12:44:21.980 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] from MQTT client my_publisher_id
12:44:21.980 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] to MQTT client my_publisher_id
12:44:21.981 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=2}}body=Data{Hello MQTT on EnMasse}}
12:44:21.981 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:21.981 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] from MQTT client my_subscriber_id
12:44:21.982 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.my_subscriber_id.pubrel
12:44:21.982 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_publisher_id.publish, $subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:21.982 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP pubrel delivery Accepted{}
12:44:21.982 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:21.983 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='pubrel', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:21.983 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] to MQTT client my_subscriber_id
12:44:21.983 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:21.983 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] from MQTT client my_subscriber_id
12:44:21.983 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:21.984 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:21.984 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:21.984 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:21.984 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:21.987 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.987 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.987 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.987 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.987 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:21.988 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.988 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:21.988 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:21.989 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:21.989 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:21.989 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:21.989 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:22.009 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 41130
12:44:22.010 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44480
12:44:22.010 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38699
12:44:22.015 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:22.016 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:22.016 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:22.019 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:22.019 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:22.022 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:22.023 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:22.023 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:22.023 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.024 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:22.024 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:41130
12:44:22.027 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:22.033 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:22.033 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.033 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:22.033 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.034 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:22.034 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:22.034 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:22.035 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:22.035 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.035 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.035 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:22.035 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:22.036 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:22.036 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=0}}}
12:44:22.037 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:22.037 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.037 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:22.038 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.043 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:22.045 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{properties=Properties{messageId=null, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=Data{Hello MQTT on EnMasse}}
12:44:22.045 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:22.046 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:22.047 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:22.047 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:22.047 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:22.047 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:22.048 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.049 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.049 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.049 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.049 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.051 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:22.051 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:22.052 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:22.052 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:22.069 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 40458
12:44:22.069 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 35801
12:44:22.069 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 39933
12:44:22.073 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:22.074 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:22.074 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:22.076 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:22.076 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:22.078 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:22.079 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:22.079 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:22.079 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.080 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:22.080 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:40458
12:44:22.084 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating sender link route for mytopic on broker
12:44:22.088 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:22.091 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:22.091 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.091 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:22.091 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.091 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:22.092 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:22.092 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.092 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:22.092 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:22.092 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.092 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:22.092 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:22.093 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:22.093 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] to MQTT client my_publisher_id
12:44:22.094 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] from MQTT client my_publisher_id
12:44:22.094 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] to MQTT client my_publisher_id
12:44:22.095 [vert.x-eventloop-thread-10] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:22.096 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:22.097 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:22.097 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:22.097 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:22.098 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.098 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.099 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.099 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.099 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.099 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:22.100 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:22.100 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:22.100 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:22.121 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 33306
12:44:22.121 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44993
12:44:22.121 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 42361
12:44:22.124 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:22.126 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:22.126 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:22.127 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:22.128 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:22.130 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:22.130 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:22.130 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.130 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:22.131 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:22.132 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:33306
12:44:22.134 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:22.137 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:22.137 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.137 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:22.137 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.138 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:22.138 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:22.138 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:22.138 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.139 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:22.139 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.139 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:22.140 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:22.140 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=2}}}
12:44:22.140 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:22.141 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:22.141 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.141 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:22.141 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.142 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:22.145 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:22.145 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.145 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:22.145 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.145 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:22.145 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:22.145 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.145 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:22.146 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:22.146 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.146 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:22.146 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:22.147 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:22.147 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] to MQTT client my_publisher_id
12:44:22.148 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] from MQTT client my_publisher_id
12:44:22.148 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] to MQTT client my_publisher_id
12:44:22.148 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=2}}body=Data{Hello MQTT on EnMasse}}
12:44:22.149 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:22.149 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] from MQTT client my_subscriber_id
12:44:22.149 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.my_subscriber_id.pubrel
12:44:22.149 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_publisher_id.publish, $subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.150 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP pubrel delivery Accepted{}
12:44:22.150 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:22.151 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='pubrel', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.151 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] to MQTT client my_subscriber_id
12:44:22.151 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:22.151 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] from MQTT client my_subscriber_id
12:44:22.151 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:22.152 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:22.152 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:22.152 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:22.152 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:22.152 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.153 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.153 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.153 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.153 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.154 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:22.155 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:22.155 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:22.155 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:22.155 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:22.155 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:22.155 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:22.155 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:22.170 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 41580
12:44:22.170 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 39092
12:44:22.170 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 42325
12:44:22.174 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:22.175 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:22.175 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:22.177 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:22.177 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:22.179 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:22.180 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:22.180 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.180 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:22.181 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:22.181 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:41580
12:44:22.184 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:22.188 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:22.189 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.189 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:22.189 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.190 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:22.190 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:22.190 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:22.190 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.190 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:22.190 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.191 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:22.191 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:22.191 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:22.191 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:22.195 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:22.195 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.195 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:22.195 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.198 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:22.200 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=Data{Hello MQTT on EnMasse}}
12:44:22.201 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:22.201 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:22.201 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] from MQTT client my_subscriber_id
12:44:22.201 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:22.202 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:22.202 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:22.202 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:22.202 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:22.203 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.203 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.203 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.203 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.203 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.204 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:22.204 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:22.204 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:22.205 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:22.221 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 36197
12:44:22.221 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 33059
12:44:22.221 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 39093
12:44:22.225 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:22.226 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:22.226 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:22.229 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:22.229 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:22.231 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:22.232 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:22.232 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.233 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:22.239 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:22.239 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:36197
12:44:22.247 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:22.252 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:22.252 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.252 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:22.252 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.253 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:22.254 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.254 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:22.255 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:22.255 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:22.255 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.257 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:22.258 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:22.258 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=2}}}
12:44:22.260 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:22.260 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.260 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:22.261 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:22.261 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.273 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:22.276 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=Data{Hello MQTT on EnMasse}}
12:44:22.278 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:22.278 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.PublishTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:22.279 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] from MQTT client my_subscriber_id
12:44:22.279 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:22.279 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:22.281 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:22.279 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:22.282 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.282 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.282 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.282 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.282 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.279 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:22.284 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:22.285 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:22.288 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:22.288 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.836 s - in enmasse.mqtt.PublishTest
[INFO] Running enmasse.mqtt.UnsubscribeTest
12:44:22.382 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 36446
12:44:22.382 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 36706
12:44:22.382 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 41343
12:44:22.396 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:22.400 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:22.400 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:22.412 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:22.413 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:22.417 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:22.419 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:22.419 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.422 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:22.426 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:22.427 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:36446
12:44:22.438 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_client_id
12:44:22.445 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_client_id.control
12:44:22.445 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.445 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:22.445 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id.control, $subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.447 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:22.447 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.448 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_client_id [accepted]
12:44:22.448 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_client_id
12:44:22.449 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_client_id.publish
12:44:22.449 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id.control, $subctrl]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.449 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_client_id
12:44:22.450 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:22.450 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_client_id
12:44:22.451 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:22.455 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - UNSUBSCRIBE [2] from MQTT client my_client_id
12:44:22.458 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_client_id.publish
12:44:22.459 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id.publish, $mqtt.to.my_client_id.control, $subctrl]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.459 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_client_id.pubrel
12:44:22.459 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id.publish, $mqtt.to.my_client_id.control, $subctrl]},{receivers=[$mqtt.to.my_client_id.publish, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.460 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP unsubscribe delivery Accepted{}
12:44:22.460 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=2, userId=null, to='null', subject='unsubscribe', replyTo='null', correlationId=$mqtt.to.my_client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{[mytopic]}}
12:44:22.463 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:22.463 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:22.463 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:22.464 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - UNSUBACK [2] to MQTT client my_client_id
12:44:22.464 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:22.468 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.468 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.468 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.473 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:22.476 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:22.475 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.479 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_client_id
12:44:22.479 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_client_id
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.152 s - in enmasse.mqtt.UnsubscribeTest
[INFO] Running enmasse.mqtt.SslTest
12:44:22.542 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43205
12:44:22.542 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44478
12:44:22.542 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44825
12:44:22.558 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:22.564 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:22.564 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:22.572 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:22.574 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:22.579 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:22.581 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:22.581 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.582 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:22.583 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - SSL/TLS support enabled key ./src/test/resources/tls/server-key.pem cert ./src/test/resources/tls/server-cert.pem
12:44:22.623 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:8883
12:44:22.623 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:43205
12:44:22.804 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:22.808 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:22.808 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.808 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:22.808 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.809 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:22.809 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.811 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:22.811 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:22.811 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:22.811 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.813 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:22.814 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:22.814 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=0}}}
12:44:22.814 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:22.815 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:22.815 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.815 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:22.816 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.896 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:22.899 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:22.899 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.900 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:22.900 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.901 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:22.901 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:22.901 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:22.901 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:22.901 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:22.901 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.903 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [-1] from MQTT client my_publisher_id
12:44:22.903 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:22.907 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=false, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=-1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=0}}body=Data{Hello MQTT on EnMasse}}
12:44:22.907 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:22.908 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.SslTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:22.908 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:22.909 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:22.909 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:22.909 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:22.914 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:22.914 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:22.914 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:22.916 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:22.916 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.917 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:22.917 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.917 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.917 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.917 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:22.917 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:22.917 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_publisher_id already closed
12:44:22.917 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:22.917 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:22.935 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 36548
12:44:22.935 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 39605
12:44:22.935 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 37687
12:44:22.939 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:22.940 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:22.940 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:22.941 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:22.942 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:22.943 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:22.944 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:22.944 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:22.944 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:22.944 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - SSL/TLS support enabled key ./src/test/resources/tls/server-key.pem cert ./src/test/resources/tls/server-cert.pem
12:44:22.948 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:8883
12:44:22.948 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:36548
12:44:23.010 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:23.013 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:23.013 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.013 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:23.013 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.014 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:23.014 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:23.014 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:23.014 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:23.015 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:23.015 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.015 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:23.016 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:23.016 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:23.017 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:23.018 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:23.018 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.018 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:23.018 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.078 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:23.082 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:23.082 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.082 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:23.082 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.083 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:23.083 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:23.083 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:23.083 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:23.083 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:23.084 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.084 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:23.085 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:23.086 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:23.086 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] to MQTT client my_publisher_id
12:44:23.088 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Hello MQTT on EnMasse}}
12:44:23.088 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:23.089 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.SslTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:23.090 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:23.090 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:23.090 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:23.090 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] from MQTT client my_subscriber_id
12:44:23.090 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:23.091 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:23.091 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.091 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.091 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.091 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.091 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.093 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:23.094 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:23.094 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:23.094 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:23.094 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:23.094 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:23.094 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:23.115 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44991
12:44:23.115 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43784
12:44:23.115 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43848
12:44:23.119 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:23.120 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:23.120 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:23.122 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:23.122 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:23.124 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:23.124 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:23.125 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.125 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:23.125 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - SSL/TLS support enabled key ./src/test/resources/tls/server-key.pem cert ./src/test/resources/tls/server-cert.pem
12:44:23.130 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:8883
12:44:23.130 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:44991
12:44:23.198 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:23.202 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:23.202 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.202 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:23.202 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.203 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:23.203 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:23.204 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:23.204 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:23.204 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:23.204 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.205 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:23.205 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:23.206 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=2}}}
12:44:23.206 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:23.207 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:23.207 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.208 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:23.208 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.287 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:23.297 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:23.298 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.299 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:23.299 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.301 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:23.301 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:23.302 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:23.304 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:23.304 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.304 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:23.306 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:23.307 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:23.309 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:23.310 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] to MQTT client my_publisher_id
12:44:23.312 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] from MQTT client my_publisher_id
12:44:23.312 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] to MQTT client my_publisher_id
12:44:23.316 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=2}}body=Data{Hello MQTT on EnMasse}}
12:44:23.319 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:23.321 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREC [1] from MQTT client my_subscriber_id
12:44:23.321 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.my_subscriber_id.pubrel
12:44:23.322 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_publisher_id.publish, $subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.324 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP pubrel delivery Accepted{}
12:44:23.324 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:23.325 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='pubrel', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:23.326 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBREL [1] to MQTT client my_subscriber_id
12:44:23.327 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.SslTest - topic: mytopic, message: Hello MQTT on EnMasse
12:44:23.329 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:23.329 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:23.329 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:23.329 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBCOMP [1] from MQTT client my_subscriber_id
12:44:23.329 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:23.329 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:23.330 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:23.341 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.342 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.342 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.342 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.343 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.351 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:23.353 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:23.354 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:23.357 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:23.357 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:23.357 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:23.357 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.885 s - in enmasse.mqtt.SslTest
[INFO] Running enmasse.mqtt.SubscribeTest
12:44:23.441 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44056
12:44:23.441 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 41198
12:44:23.441 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 37628
12:44:23.459 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:23.463 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:23.464 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:23.476 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:23.478 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:23.487 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:23.491 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:23.491 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.493 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:23.496 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:23.496 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:44056
12:44:23.509 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:23.520 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:23.520 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.521 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:23.521 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.526 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:23.527 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:23.528 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:23.528 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:23.529 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:23.530 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.539 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [-1] from MQTT client my_publisher_id
12:44:23.540 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - DISCONNECT from MQTT client my_publisher_id
12:44:23.541 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:23.541 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:23.542 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:23.544 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:23.545 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_publisher_id.control
12:44:23.545 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_publisher_id.publish
12:44:23.554 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:23.561 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP connection closed with dispatch-router-j
12:44:23.561 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_publisher_id already closed
12:44:23.577 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:23.579 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:23.579 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_publisher_id already closed
12:44:23.571 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.587 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:23.588 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_publisher_id.publish, $subctrl, $mqtt.to.my_publisher_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.588 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:23.588 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_publisher_id.publish, $subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.590 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:23.591 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:23.591 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:23.592 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:23.593 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_publisher_id.publish, $subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.593 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:23.602 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:23.604 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:23.605 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:23.606 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:23.619 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:23.620 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_publisher_id.publish, $subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.621 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:23.621 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_publisher_id.publish, $subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:23.627 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=false, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=-1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=true, x-opt-mqtt-qos=0}}body=Data{Hello MQTT on EnMasse}}
12:44:23.629 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:23.631 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.SubscribeTest - topic: mytopic message: Hello MQTT on EnMasse
12:44:23.636 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:23.636 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:23.637 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:23.638 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:23.639 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:23.639 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:23.639 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:23.639 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:23.640 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:23.640 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:23.640 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_subscriber_id.control
12:44:23.640 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_subscriber_id.publish
12:44:23.640 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:23.640 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:23.642 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.642 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.642 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.642 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:23.654 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:23.655 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:24.017 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38668
12:44:24.017 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 41551
12:44:24.017 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 39617
12:44:24.032 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:24.035 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:24.036 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:24.041 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:24.042 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:24.047 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:24.049 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:24.049 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:24.052 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.055 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:24.055 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:38668
12:44:24.065 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:24.069 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:24.069 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.069 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:24.069 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.070 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:24.070 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:24.070 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:24.071 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:24.071 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.071 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:24.074 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:24.074 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:24.074 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:24.075 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:24.077 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:24.077 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:24.078 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:24.079 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.080 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:24.080 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:24.080 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.080 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.080 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.080 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:24.080 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:24.081 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:24.110 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 46734
12:44:24.110 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 39661
12:44:24.110 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 34083
12:44:24.116 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:24.118 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:24.118 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:24.120 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:24.121 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:24.123 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:24.123 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:24.123 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:24.123 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.125 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:24.125 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:46734
12:44:24.128 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:24.132 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:24.133 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.133 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:24.133 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.134 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP list delivery Accepted{}
12:44:24.134 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='list', replyTo='$mqtt.to.my_subscriber_id.control', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:24.135 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.control
12:44:24.135 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.137 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $mqtt.to.my_subscriber_id.control
12:44:24.137 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='subscriptions', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{}}}
12:44:24.137 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Session present: false
12:44:24.137 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AmqpSubscriptionsMessage{topicSubscriptions=[]}
12:44:24.139 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:24.140 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:24.140 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:24.140 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:24.140 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.control]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.141 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:24.141 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=0}}}
12:44:24.141 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:24.142 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - DISCONNECT from MQTT client my_subscriber_id
12:44:24.142 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:24.143 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.control]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.143 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:24.143 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:24.143 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.143 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
12:44:24.143 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $subctrl
12:44:24.143 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_subscriber_id.control
12:44:24.143 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing sender on $mqtt.to.my_subscriber_id.publish
12:44:24.143 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection closing!
12:44:24.143 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP connection closed with dispatch-router-j
12:44:24.143 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.143 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:24.143 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:24.143 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_subscriber_id already closed
12:44:24.145 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:24.146 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:24.146 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:24.146 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:24.146 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:24.147 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.147 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.147 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.171 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 35024
12:44:24.171 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 44339
12:44:24.171 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43622
12:44:24.175 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:24.176 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:24.176 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:24.178 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:24.178 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:24.180 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:24.181 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:24.181 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:24.181 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.182 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:24.182 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:35024
12:44:24.187 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_subscriber_id
12:44:24.189 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.control
12:44:24.189 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.190 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:24.190 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.190 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:24.190 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_subscriber_id [accepted]
12:44:24.190 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_subscriber_id
12:44:24.191 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:24.191 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_subscriber_id.publish
12:44:24.191 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.192 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBSCRIBE [1] from MQTT client my_subscriber_id
12:44:24.192 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP subscribe delivery Accepted{}
12:44:24.192 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - SUBACK [1] to MQTT client my_subscriber_id
12:44:24.192 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=1, userId=null, to='null', subject='subscribe', replyTo='null', correlationId=$mqtt.to.my_subscriber_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{mytopic=1}}}
12:44:24.194 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_subscriber_id.publish
12:44:24.194 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.194 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.my_subscriber_id.pubrel
12:44:24.194 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.196 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_publisher_id
12:44:24.198 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.control
12:44:24.198 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.198 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:24.198 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.199 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:24.199 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_publisher_id [accepted]
12:44:24.199 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_publisher_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:24.199 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_publisher_id
12:44:24.199 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_publisher_id.publish
12:44:24.199 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl, $mqtt.to.my_publisher_id.control, $mqtt.to.my_subscriber_id.control, $mqtt.my_subscriber_id.pubrel, $mqtt.to.my_subscriber_id.publish]},{receivers=[$subctrl, $mqtt.to.my_subscriber_id.publish]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.200 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] from MQTT client my_publisher_id
12:44:24.200 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for mytopic on broker
12:44:24.201 [vert.x-eventloop-thread-8] INFO  e.mqtt.endpoints.AmqpPublishEndpoint - AMQP publish delivery Accepted{}
12:44:24.201 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] to MQTT client my_publisher_id
12:44:24.203 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=0}properties=Properties{messageId=1, userId=null, to='mytopic', subject='null', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Hello MQTT on EnMasse}}
12:44:24.203 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBLISH [1] to MQTT client my_subscriber_id
12:44:24.204 [MQTT Call: my_subscriber_id] INFO  enmasse.mqtt.SubscribeTest - topic: mytopic message: Hello MQTT on EnMasse
12:44:24.204 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - PUBACK [1] from MQTT client my_subscriber_id
12:44:24.204 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - AMQP message [1] settled
12:44:24.204 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:24.204 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:24.204 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:24.204 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:24.206 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.206 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.206 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.206 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.206 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.207 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:24.207 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:24.207 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:24.208 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_publisher_id
12:44:24.208 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_publisher_id
12:44:24.208 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_subscriber_id
12:44:24.208 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_subscriber_id
[ERROR] Tests run: 4, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.798 s <<< FAILURE! - in enmasse.mqtt.SubscribeTest
[ERROR] subscribeRecoveringSession(enmasse.mqtt.SubscribeTest)  Time elapsed: 0.061 s  <<< FAILURE!
java.lang.AssertionError: Expected true
	at enmasse.mqtt.SubscribeTest.subscribeRecoveringSession(SubscribeTest.java:193)

[INFO] Running enmasse.mqtt.ConnectionTest
12:44:24.229 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 45765
12:44:24.229 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 39535
12:44:24.229 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 45282
12:44:24.233 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:24.234 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:24.234 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:24.236 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:24.236 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:24.237 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:24.238 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:24.238 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.238 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:24.239 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:24.239 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:45765
12:44:24.243 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_client_id_with_session
12:44:24.244 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_client_id_with_session.control
12:44:24.244 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.245 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:24.245 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id_with_session.control, $subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.245 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for $lwt on lwt-service
12:44:24.246 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpLwtServiceEndpoint - AMQP will delivery Accepted{}
12:44:24.246 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='will', subject='will', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Will on EnMasse}}
12:44:24.246 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP list delivery Accepted{}
12:44:24.247 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='list', replyTo='$mqtt.to.my_client_id_with_session.control', correlationId=$mqtt.to.my_client_id_with_session.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:24.247 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $mqtt.to.my_client_id_with_session.control
12:44:24.247 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id_with_session.control, $subctrl]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.248 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Closing receiver on $mqtt.to.my_client_id_with_session.control
12:44:24.248 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpReceiverEndpoint - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='subscriptions', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}body=AmqpValue{{}}}
12:44:24.248 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Session present: false
12:44:24.248 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AmqpSubscriptionsMessage{topicSubscriptions=[]}
12:44:24.248 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_client_id_with_session [accepted]
12:44:24.248 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_client_id_with_session
12:44:24.248 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_client_id_with_session.publish
12:44:24.248 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id_with_session.control, $subctrl]},{receivers=[$mqtt.to.my_client_id_with_session.control, $subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.249 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:24.249 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:24.249 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:24.249 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:24.249 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_client_id_with_session
12:44:24.249 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_client_id_with_session
12:44:24.250 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:24.250 [vert.x-eventloop-thread-8] WARN  enmasse.mqtt.AmqpBridge - MQTT endpoint for client my_client_id_with_session already closed
12:44:24.251 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:24.276 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.276 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.276 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.276 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.310 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 36017
12:44:24.311 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 35418
12:44:24.311 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 46534
12:44:24.325 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:24.328 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:24.328 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:24.332 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:24.333 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:24.337 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:24.340 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:24.340 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.340 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:24.343 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:24.343 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:36017
12:44:24.398 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:24.398 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:24.398 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:24.400 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:24.402 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:24.403 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.403 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.403 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.443 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 45259
12:44:24.444 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 45074
12:44:24.444 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 32912
12:44:24.455 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:24.458 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:24.458 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:24.468 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:24.469 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:24.473 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:24.475 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:24.476 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.480 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:24.486 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:24.487 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:45259
12:44:24.510 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_client_id
12:44:24.517 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_client_id.control
12:44:24.517 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.517 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:24.517 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id.control, $subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.522 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:24.523 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:24.523 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_client_id [accepted]
12:44:24.524 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_client_id
12:44:24.525 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_client_id.publish
12:44:24.526 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id.control, $subctrl]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.526 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:24.526 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:24.528 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.529 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.529 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.529 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.526 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:24.526 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:24.535 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:24.536 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
12:44:24.539 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_client_id
12:44:24.539 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_client_id
12:44:24.611 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 43541
12:44:24.612 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 38730
12:44:24.612 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Started server on port 36133
12:44:24.650 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker started successfully ...
12:44:24.666 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix mytopic found for broker
12:44:24.667 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix will found for broker
12:44:24.679 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service started successfully ...
12:44:24.685 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Link route with prefix $lwt found for lwt-service
12:44:24.698 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service started successfully ...
12:44:24.700 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $subctrl
12:44:24.700 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.706 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Starting MQTT gateway verticle...
12:44:24.712 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway running on localhost:1883
12:44:24.713 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - AMQP messaging service on localhost:43541
12:44:24.753 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - CONNECT from MQTT client my_client_id
12:44:24.764 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_client_id.control
12:44:24.765 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.765 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding receiver with address $subctrl
12:44:24.765 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id.control, $subctrl]},{receivers=[]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.765 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Activating receiver link route for $lwt on lwt-service
12:44:24.773 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Received Message{header=Header{durable=true, priority=null, ttl=null, firstAcquirer=null, deliveryCount=null}properties=Properties{messageId=null, userId=null, to='will', subject='will', replyTo='null', correlationId=null, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}message_annotations=MessageAnnotations{{x-opt-retain-message=false, x-opt-mqtt-qos=1}}body=Data{Will on EnMasse}}
12:44:24.774 [vert.x-eventloop-thread-8] INFO  e.m.endpoints.AmqpLwtServiceEndpoint - AMQP will delivery Accepted{}
12:44:24.779 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Received Message{properties=Properties{messageId=null, userId=null, to='null', subject='close', replyTo='null', correlationId=$mqtt.to.my_client_id.publish, contentType=null, contentEncoding=null, absoluteExpiryTime=null, creationTime=null, groupId='null', groupSequence=null, replyToGroupId='null'}}
12:44:24.779 [vert.x-eventloop-thread-8] INFO  e.m.e.AmqpSubscriptionServiceEndpoint - AMQP close delivery Accepted{}
12:44:24.784 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - CONNACK to MQTT client my_client_id [accepted]
12:44:24.785 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Opened AMQP bridge for client my_client_id
12:44:24.785 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Adding sender with address $mqtt.to.my_client_id.publish
12:44:24.785 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Table: {senders=[$mqtt.to.my_client_id.control, $subctrl]},{receivers=[$subctrl]},{linkRoutes=[{prefix=mytopic, container=broker}, {prefix=will, container=broker}, {prefix=$lwt, container=lwt-service}]}
12:44:24.792 [vert.x-eventloop-thread-6] INFO  e.mqtt.mocks.MockSubscriptionService - Subscription Service has been shut down successfully
12:44:24.792 [vert.x-eventloop-thread-4] INFO  enmasse.mqtt.mocks.MockLwtService - Last Will and Testament Service has been shut down successfully
12:44:24.794 [vert.x-eventloop-thread-2] INFO  enmasse.mqtt.mocks.MockBroker - Broker has been shut down successfully
12:44:24.796 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Stopping MQTT gateway verticle ...
12:44:24.797 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.797 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.797 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.797 [vert.x-eventloop-thread-0] INFO  io.enmasse.amqp.DispatchRouterJ - Connection disconnected!
12:44:24.797 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - AMQP disconnection with dispatch-router-j
12:44:24.797 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.AmqpBridge - Close from MQTT client my_client_id
12:44:24.797 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - Closed AMQP bridge for client my_client_id
12:44:24.800 [vert.x-eventloop-thread-8] INFO  enmasse.mqtt.MqttGateway - MQTT gateway has been shut down successfully
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.769 s - in enmasse.mqtt.ConnectionTest
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   SubscribeTest.subscribeRecoveringSession:193 Expected true
[INFO] 
[ERROR] Tests run: 35, Failures: 1, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] enmasse ............................................ SUCCESS [  1.579 s]
[INFO] address-model-lib .................................. SUCCESS [  4.232 s]
[INFO] k8s-api ............................................ SUCCESS [  8.311 s]
[INFO] k8s-api-testutil ................................... SUCCESS [  0.025 s]
[INFO] amqp-utils ......................................... SUCCESS [  6.570 s]
[INFO] api-common ......................................... SUCCESS [  2.826 s]
[INFO] discovery-lib ...................................... SUCCESS [ 12.498 s]
[INFO] topic-forwarder .................................... SUCCESS [  8.254 s]
[INFO] mqtt-gateway ....................................... FAILURE [  9.303 s]
[INFO] mqtt-lwt ........................................... SKIPPED
[INFO] standard-controller ................................ SKIPPED
[INFO] address-controller ................................. SKIPPED
[INFO] keycloak ........................................... SKIPPED
[INFO] sasl-plugin ........................................ SKIPPED
[INFO] keycloak-controller ................................ SKIPPED
[INFO] systemtests ........................................ SKIPPED
[INFO] artemis ............................................ SKIPPED
[INFO] amqp-connector ..................................... SKIPPED
[INFO] sasl-delegation .................................... SKIPPED
[INFO] shutdown-hook ...................................... SKIPPED
[INFO] jmx_exporter ....................................... SKIPPED
[INFO] service-broker ..................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 54.293 s
[INFO] Finished at: 2018-04-27T12:44:25+02:00
[INFO] Final Memory: 33M/995M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.20.1:test (default-test) on project mqtt-gateway: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/EnMasseProject/enmasse/371966365/mqtt-gateway/target/surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :mqtt-gateway
