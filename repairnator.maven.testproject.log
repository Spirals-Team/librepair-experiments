[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building db-sharding-bundle 1.2.2-1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-enforcer-plugin:3.0.0-M2:enforce (enforce-no-snapshots) @ db-sharding-bundle ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ db-sharding-bundle ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ db-sharding-bundle ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ db-sharding-bundle ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/santanusinha/dropwizard-db-sharding-bundle/415477949/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ db-sharding-bundle ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ db-sharding-bundle ---
[INFO] Surefire report directory: /root/workspace/santanusinha/dropwizard-db-sharding-bundle/415477949/target/surefire-reports
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.12.4/surefire-junit4-2.12.4.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.12.4/surefire-junit4-2.12.4.pom (3 KB at 2.5 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.12.4/surefire-providers-2.12.4.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.12.4/surefire-providers-2.12.4.pom (3 KB at 57.3 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.12.4/surefire-junit4-2.12.4.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.12.4/surefire-junit4-2.12.4.jar (37 KB at 337.0 KB/sec)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.dropwizard.sharding.bundle.DBShardingBundleWithNamespaceTest
17:19:25.635 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:26.029 [main] DEBUG org.jboss.logging – Logging Provider: org.jboss.logging.Slf4jLoggerProvider
17:19:26.436 [main] INFO  org.hibernate.Version – HHH000412: Hibernate Core {5.2.12.Final}
17:19:26.438 [main] INFO  org.hibernate.cfg.Environment – HHH000206: hibernate.properties not found
17:19:26.463 [main] INFO  i.d.hibernate.SessionFactoryFactory – Entity classes: [io.dropwizard.sharding.dao.testdata.entities.Order, io.dropwizard.sharding.dao.testdata.entities.OrderItem]
17:19:26.521 [main] INFO  o.h.annotations.common.Version – HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
17:19:27.273 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:28.213 [main] INFO  o.h.validator.internal.util.Version – HV000001: Hibernate Validator 5.4.1.Final
17:19:28.797 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@15383681
17:19:28.798 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@743e66f7
17:19:28.798 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@2241f05b
17:19:28.799 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@71978f46
17:19:28.799 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@304d0259
17:19:28.799 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@2133661d
17:19:28.800 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@6c9320c2
17:19:28.800 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@3414a8c3
17:19:28.817 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@36cc9385
17:19:29.880 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:29.928 [main] INFO  i.d.hibernate.SessionFactoryFactory – Entity classes: [io.dropwizard.sharding.dao.testdata.entities.Order, io.dropwizard.sharding.dao.testdata.entities.OrderItem]
17:19:29.978 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:30.067 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@15383681
17:19:30.068 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@743e66f7
17:19:30.068 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@2241f05b
17:19:30.068 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@71978f46
17:19:30.068 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@304d0259
17:19:30.068 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@2133661d
17:19:30.077 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@6c9320c2
17:19:30.077 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@3414a8c3
17:19:30.077 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@36cc9385
17:19:30.145 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:31.097 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    162955 nanoseconds spent acquiring 2 JDBC connections;
    124039 nanoseconds spent releasing 2 JDBC connections;
    20217949 nanoseconds spent preparing 3 JDBC statements;
    35833476 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    45121652 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:31.126 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    84781 nanoseconds spent acquiring 2 JDBC connections;
    131901 nanoseconds spent releasing 2 JDBC connections;
    548071 nanoseconds spent preparing 1 JDBC statements;
    314022 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    327137 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:31.154 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    98811 nanoseconds spent acquiring 2 JDBC connections;
    115557 nanoseconds spent releasing 2 JDBC connections;
    1362074 nanoseconds spent preparing 3 JDBC statements;
    2413184 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    20630612 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:31.159 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:31.210 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    78445 nanoseconds spent acquiring 2 JDBC connections;
    78820 nanoseconds spent releasing 2 JDBC connections;
    520132 nanoseconds spent preparing 1 JDBC statements;
    178475 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    366846 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    82778 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:31.215 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:31.221 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    140136 nanoseconds spent acquiring 2 JDBC connections;
    68361 nanoseconds spent releasing 2 JDBC connections;
    147005 nanoseconds spent preparing 2 JDBC statements;
    674306 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1275401 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    7755 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:31.222 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:31.224 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    66500 nanoseconds spent acquiring 2 JDBC connections;
    107652 nanoseconds spent releasing 2 JDBC connections;
    54296 nanoseconds spent preparing 1 JDBC statements;
    136374 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    205617 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    6075 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:31.226 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:31.239 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    73876 nanoseconds spent acquiring 2 JDBC connections;
    74560 nanoseconds spent releasing 2 JDBC connections;
    1895018 nanoseconds spent preparing 2 JDBC statements;
    413657 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    498056 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    6311 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:31.261 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    94898 nanoseconds spent acquiring 2 JDBC connections;
    77382 nanoseconds spent releasing 2 JDBC connections;
    2995828 nanoseconds spent preparing 1 JDBC statements;
    412299 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    289058 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    8342 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:31.285 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    79977 nanoseconds spent acquiring 2 JDBC connections;
    75536 nanoseconds spent releasing 2 JDBC connections;
    581132 nanoseconds spent preparing 2 JDBC statements;
    733077 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    2840728 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 1 collections);
    11722 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:31.303 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    89773 nanoseconds spent acquiring 2 JDBC connections;
    59305 nanoseconds spent releasing 2 JDBC connections;
    100489 nanoseconds spent preparing 1 JDBC statements;
    599974 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    300948 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    11895 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.949 sec
Running io.dropwizard.sharding.bundle.DBShardingBundleWithAnnotationTest
17:19:31.421 [main] DEBUG org.reflections.Reflections – going to scan these urls:
file:/root/workspace/santanusinha/dropwizard-db-sharding-bundle/415477949/target/test-classes/
17:19:31.513 [main] INFO  org.reflections.Reflections – Reflections took 89 ms to scan 1 urls, producing 2 keys and 14 values 
17:19:31.555 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:31.568 [main] INFO  i.d.hibernate.SessionFactoryFactory – Entity classes: [io.dropwizard.sharding.dao.testdata.entities.Audit, io.dropwizard.sharding.dao.testdata.entities.Order, io.dropwizard.sharding.dao.testdata.entities.OrderItem, io.dropwizard.sharding.dao.testdata.entities.Phone, io.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.dropwizard.sharding.dao.testdata.entities.TestEntity, io.dropwizard.sharding.dao.testdata.entities.Transaction]
17:19:31.593 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:31.807 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@15383681
17:19:31.808 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@743e66f7
17:19:31.808 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@2241f05b
17:19:31.809 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@71978f46
17:19:31.809 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@304d0259
17:19:31.809 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@2133661d
17:19:31.810 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@6c9320c2
17:19:31.810 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@3414a8c3
17:19:31.817 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@36cc9385
17:19:32.007 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:32.015 [main] INFO  i.d.hibernate.SessionFactoryFactory – Entity classes: [io.dropwizard.sharding.dao.testdata.entities.Audit, io.dropwizard.sharding.dao.testdata.entities.Order, io.dropwizard.sharding.dao.testdata.entities.OrderItem, io.dropwizard.sharding.dao.testdata.entities.Phone, io.dropwizard.sharding.dao.testdata.entities.RelationalEntity, io.dropwizard.sharding.dao.testdata.entities.TestEntity, io.dropwizard.sharding.dao.testdata.entities.Transaction]
17:19:32.048 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:32.207 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@15383681
17:19:32.207 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@743e66f7
17:19:32.207 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@2241f05b
17:19:32.208 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@71978f46
17:19:32.208 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@304d0259
17:19:32.208 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@2133661d
17:19:32.208 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@6c9320c2
17:19:32.208 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@3414a8c3
17:19:32.213 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@36cc9385
17:19:32.330 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:32.347 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    108140 nanoseconds spent acquiring 2 JDBC connections;
    77571 nanoseconds spent releasing 2 JDBC connections;
    444914 nanoseconds spent preparing 3 JDBC statements;
    1290687 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    3653635 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.353 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    65734 nanoseconds spent acquiring 2 JDBC connections;
    60537 nanoseconds spent releasing 2 JDBC connections;
    784286 nanoseconds spent preparing 1 JDBC statements;
    3217157 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    420600 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.361 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    1721920 nanoseconds spent acquiring 2 JDBC connections;
    62703 nanoseconds spent releasing 2 JDBC connections;
    861597 nanoseconds spent preparing 3 JDBC statements;
    956148 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    3245386 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.362 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:32.376 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    74319 nanoseconds spent acquiring 2 JDBC connections;
    71506 nanoseconds spent releasing 2 JDBC connections;
    312516 nanoseconds spent preparing 1 JDBC statements;
    292345 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    306013 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    7366 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.376 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:32.387 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    74120 nanoseconds spent acquiring 2 JDBC connections;
    72326 nanoseconds spent releasing 2 JDBC connections;
    659099 nanoseconds spent preparing 2 JDBC statements;
    4459823 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    6330708 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    6999 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.392 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:32.396 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    69976 nanoseconds spent acquiring 2 JDBC connections;
    67676 nanoseconds spent releasing 2 JDBC connections;
    67659 nanoseconds spent preparing 1 JDBC statements;
    153845 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    192556 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    8604 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.396 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:32.403 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    66429 nanoseconds spent acquiring 2 JDBC connections;
    57428 nanoseconds spent releasing 2 JDBC connections;
    360360 nanoseconds spent preparing 2 JDBC statements;
    239736 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    319419 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    5738 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.411 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    108648 nanoseconds spent acquiring 2 JDBC connections;
    62626 nanoseconds spent releasing 2 JDBC connections;
    608671 nanoseconds spent preparing 1 JDBC statements;
    702896 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    219207 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    7453 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.416 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    86710 nanoseconds spent acquiring 2 JDBC connections;
    55876 nanoseconds spent releasing 2 JDBC connections;
    84249 nanoseconds spent preparing 2 JDBC statements;
    883664 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1213836 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 1 collections);
    7218 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.421 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    82755 nanoseconds spent acquiring 2 JDBC connections;
    59890 nanoseconds spent releasing 2 JDBC connections;
    41821 nanoseconds spent preparing 1 JDBC statements;
    247494 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    355029 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    5862 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.071 sec
Running io.dropwizard.sharding.bundle.DBShardingBundleWithEntityTest
17:19:32.426 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:32.436 [main] INFO  i.d.hibernate.SessionFactoryFactory – Entity classes: [io.dropwizard.sharding.dao.testdata.entities.Order, io.dropwizard.sharding.dao.testdata.entities.OrderItem]
17:19:32.467 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:32.508 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@15383681
17:19:32.524 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@743e66f7
17:19:32.524 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@2241f05b
17:19:32.525 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@71978f46
17:19:32.527 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@304d0259
17:19:32.527 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@2133661d
17:19:32.528 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@6c9320c2
17:19:32.529 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@3414a8c3
17:19:32.530 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@36cc9385
17:19:32.611 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:32.634 [main] INFO  i.d.hibernate.SessionFactoryFactory – Entity classes: [io.dropwizard.sharding.dao.testdata.entities.Order, io.dropwizard.sharding.dao.testdata.entities.OrderItem]
17:19:32.665 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:32.751 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.util.Currency] overrides previous : org.hibernate.type.CurrencyType@15383681
17:19:32.754 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Duration] overrides previous : org.hibernate.type.DurationType@743e66f7
17:19:32.755 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.Instant] overrides previous : org.hibernate.type.InstantType@2241f05b
17:19:32.755 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDate] overrides previous : org.hibernate.type.LocalDateType@71978f46
17:19:32.756 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalDateTime] overrides previous : org.hibernate.type.LocalDateTimeType@304d0259
17:19:32.769 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.LocalTime] overrides previous : org.hibernate.type.LocalTimeType@2133661d
17:19:32.770 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetDateTime] overrides previous : org.hibernate.type.OffsetDateTimeType@6c9320c2
17:19:32.770 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.OffsetTime] overrides previous : org.hibernate.type.OffsetTimeType@3414a8c3
17:19:32.771 [main] INFO  org.hibernate.type.BasicTypeRegistry – HHH000270: Type registration [java.time.ZonedDateTime] overrides previous : org.hibernate.type.ZonedDateTimeType@36cc9385
17:19:32.820 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:32.829 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    78477 nanoseconds spent acquiring 2 JDBC connections;
    59896 nanoseconds spent releasing 2 JDBC connections;
    334703 nanoseconds spent preparing 3 JDBC statements;
    973863 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    433961 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.835 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    68254 nanoseconds spent acquiring 2 JDBC connections;
    64079 nanoseconds spent releasing 2 JDBC connections;
    231574 nanoseconds spent preparing 1 JDBC statements;
    168091 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    210703 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.840 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    76136 nanoseconds spent acquiring 2 JDBC connections;
    53166 nanoseconds spent releasing 2 JDBC connections;
    439982 nanoseconds spent preparing 3 JDBC statements;
    686573 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    2418676 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.842 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:32.844 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    63263 nanoseconds spent acquiring 2 JDBC connections;
    50782 nanoseconds spent releasing 2 JDBC connections;
    286251 nanoseconds spent preparing 1 JDBC statements;
    94875 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    169444 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    7775 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.845 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:32.848 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    66675 nanoseconds spent acquiring 2 JDBC connections;
    66648 nanoseconds spent releasing 2 JDBC connections;
    75581 nanoseconds spent preparing 2 JDBC statements;
    354027 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1522463 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    5640 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.852 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:32.854 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    64558 nanoseconds spent acquiring 2 JDBC connections;
    52294 nanoseconds spent releasing 2 JDBC connections;
    37248 nanoseconds spent preparing 1 JDBC statements;
    108878 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    168080 nanoseconds spent executing 1 flushes (flushing a total of 1 entities and 1 collections);
    6315 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.858 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:32.862 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    65609 nanoseconds spent acquiring 2 JDBC connections;
    54446 nanoseconds spent releasing 2 JDBC connections;
    333664 nanoseconds spent preparing 2 JDBC statements;
    193389 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    1444360 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    6132 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.874 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    84224 nanoseconds spent acquiring 2 JDBC connections;
    60534 nanoseconds spent releasing 2 JDBC connections;
    520335 nanoseconds spent preparing 1 JDBC statements;
    262036 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    292401 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    6738 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.879 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    68046 nanoseconds spent acquiring 2 JDBC connections;
    53354 nanoseconds spent releasing 2 JDBC connections;
    105297 nanoseconds spent preparing 2 JDBC statements;
    575162 nanoseconds spent executing 2 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    933203 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 1 collections);
    6250 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
17:19:32.898 [main] INFO  o.h.e.i.StatisticalLoggingSessionEventListener – Session Metrics {
    117260 nanoseconds spent acquiring 2 JDBC connections;
    58142 nanoseconds spent releasing 2 JDBC connections;
    62256 nanoseconds spent preparing 1 JDBC statements;
    286261 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    240345 nanoseconds spent executing 1 flushes (flushing a total of 3 entities and 1 collections);
    9285 nanoseconds spent executing 1 partial-flushes (flushing a total of 0 entities and 0 collections)
}
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.484 sec
Running io.dropwizard.sharding.sharding.ShardManagerTest
17:19:32.918 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..198]=0, [199..397]=1, [398..596]=2, [597..795]=3, [796..999]=4]
ShardManager(numShards=5, shardBlacklistingStore=io.dropwizard.sharding.sharding.InMemoryLocalShardBlacklistingStore@ee96866, buckets=[[0..198]=0, [199..397]=1, [398..596]=2, [597..795]=3, [796..999]=4], blackListedShards=com.github.benmanes.caffeine.cache.BoundedLocalCache$BoundedLocalLoadingCache@4c04216f)
17:19:32.921 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..198]=0, [199..397]=1, [398..596]=2, [597..795]=3, [796..999]=4]
ShardManager(numShards=5, shardBlacklistingStore=io.dropwizard.sharding.sharding.InMemoryLocalShardBlacklistingStore@987a0bb, buckets=[[0..198]=0, [199..397]=1, [398..596]=2, [597..795]=3, [796..999]=4], blackListedShards=com.github.benmanes.caffeine.cache.BoundedLocalCache$BoundedLocalLoadingCache@1f949ab9)
Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.105 sec <<< FAILURE!
testBlacklisting(io.dropwizard.sharding.sharding.ShardManagerTest)  Time elapsed: 0.092 sec  <<< ERROR!
io.dropwizard.sharding.exceptions.ShardBlacklistedException: Shard 0 is blacklisted
	at io.dropwizard.sharding.sharding.ShardManager.shardForBucket(ShardManager.java:81)
	at io.dropwizard.sharding.sharding.ShardManagerTest.testBlacklisting(ShardManagerTest.java:48)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)

Running io.dropwizard.sharding.dao.LookupDaoTest
17:19:33.076 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:33.086 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:33.087 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:33.087 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:33.097 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:33.121 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:33.385 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5cc3e49b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:33.386 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4239262e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:33.409 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:33.426 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:33.427 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:33.427 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:33.427 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:33.427 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:33.433 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:33.569 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@30d15e4a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:33.579 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@43a7203e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:33.632 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:33.633 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:33.738 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:33.741 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:33.742 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:33.743 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
17:19:33.814 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:33.815 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:33.816 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:33.816 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:33.817 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:33.834 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:33.911 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3ff8a3ad] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:33.913 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@550fa96f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:33.923 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:33.941 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:33.942 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:33.945 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:33.946 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:33.946 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:33.970 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:34.064 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@603f4e3e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.068 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@45fb2354] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.101 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:34.101 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:34.103 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type TestEntity with key testId to shard 0
17:19:34.151 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:34.154 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:34.155 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:34.156 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type TestEntity with key testId to shard 0
17:19:34.168 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:34.182 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:34.217 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:34.221 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:34.224 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:34.225 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:34.227 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:34.228 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
17:19:34.242 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:34.242 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:34.242 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:34.242 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:34.242 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:34.244 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:34.328 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@66314fee] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.329 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@14b5325f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.339 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:34.360 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:34.360 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:34.360 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:34.360 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:34.360 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:34.371 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:34.474 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@67a38] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.474 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ef4aceb] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.483 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:34.484 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:34.490 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type TestEntity with key testId to shard 0
17:19:34.496 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:34.513 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:34.514 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:34.515 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
17:19:34.528 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:34.529 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:34.529 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:34.530 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:34.530 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:34.537 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:34.629 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@114badf0] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.629 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@19e8fe55] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.639 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:34.664 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:34.665 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:34.665 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:34.665 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:34.665 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:34.668 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:34.792 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@195cbf5e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.793 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4cb82b09] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.815 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:34.815 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:34.836 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type TestEntity with key testId1 to shard 0
17:19:34.842 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type TestEntity with key testId2 to shard 1
17:19:34.851 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:34.851 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:34.852 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:34.853 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
17:19:34.868 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:34.868 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:34.869 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:34.869 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:34.869 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:34.873 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:34.938 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5d98364c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.939 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@23d23d98] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:34.966 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:34.987 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:34.988 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:34.988 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:34.988 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:34.989 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:34.992 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:35.086 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3186f8f5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.089 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@467cd4b9] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.125 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:35.126 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:35.127 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type Phone with key 9830968020 to shard 0
17:19:35.133 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.137 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.138 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.139 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.167 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:35.167 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:35.168 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:35.168 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.147 sec
Running io.dropwizard.sharding.dao.locktest.LockTest
17:19:35.189 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:35.190 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:35.190 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:35.192 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:35.192 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:35.194 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:35.291 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@276aa33f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.293 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@34065642] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.302 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:35.313 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:35.313 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:35.313 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:35.313 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:35.314 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:35.315 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:35.360 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5c16561a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.361 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5819ee0f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.371 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:35.371 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:35.373 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type SomeLookupObject with key 0 to shard 0
17:19:35.387 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper – SQL Error: 23505, SQLState: 23505
17:19:35.387 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper – Unique index or primary key violation: "UK_1MSTC0JLTB8BHUGNF1J5EV1TF_INDEX_1 ON PUBLIC.SOME_TABLE(MY_ID) VALUES ('0', 1)"; SQL statement:
insert into some_table (id, my_id, name) values (null, ?, ?) [23505-196]
17:19:35.403 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:35.407 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:35.407 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:35.407 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:35.408 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:35.409 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:35.455 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@47eff554] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.459 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1fab0394] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.463 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:35.473 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:35.473 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:35.474 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:35.474 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:35.474 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:35.475 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:35.508 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4cd1716d] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.510 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3dc7c5fd] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.516 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:35.516 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:35.517 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type SomeLookupObject with key 0 to shard 0
17:19:35.528 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.530 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.546 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:35.547 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:35.547 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:35.547 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:35.547 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:35.553 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:35.582 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2d2afc39] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.584 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@e2498a3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.588 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:35.597 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:35.598 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:35.598 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:35.598 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:35.599 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:35.599 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:35.632 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6018d82c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.645 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@572db5ee] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.655 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:35.656 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:35.663 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.665 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.676 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:35.677 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:35.678 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:35.678 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:35.678 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:35.679 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:35.765 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@eaa07bb] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.766 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6eae3730] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.779 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:35.799 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:35.799 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:35.799 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:35.799 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:35.799 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:35.810 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:35.844 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@b0c4905] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.846 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7d3a2459] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:35.859 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:35.859 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:35.869 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.877 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.889 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.891 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
SomeOtherObject(id=1, my_id=0, value=Hello Changed)
17:19:35.893 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:35.923 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:35.925 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:35.925 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:35.925 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:35.925 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:35.933 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:36.002 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2487b621] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.007 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3d2ff73a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.010 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:36.018 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:36.018 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:36.018 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:36.018 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:36.018 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:36.019 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:36.047 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@260fffec] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.049 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@743f58c3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.051 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:36.052 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:36.052 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type SomeLookupObject with key 0 to shard 0
17:19:36.055 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
null
17:19:36.059 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:36.070 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:36.071 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:36.071 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:36.072 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:36.072 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:36.089 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:36.119 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@cce672c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.137 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@496004e3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.162 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:36.186 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:36.187 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:36.187 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:36.187 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:36.188 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:36.188 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:36.239 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@44a1ae4e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.244 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@377d55] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.247 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:36.248 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:36.249 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type SomeLookupObject with key 0 to shard 0
17:19:36.252 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Parent 1
17:19:36.275 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:36.303 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:36.305 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:36.309 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
SomeOtherObject(id=1, my_id=0, value=Hello)
17:19:36.314 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:36.346 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:36.346 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:36.347 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:36.347 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:36.347 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:36.347 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:36.423 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6e161cea] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.428 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@673e1cf2] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.440 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:36.457 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:36.458 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:36.458 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:36.458 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:36.459 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:36.460 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:36.513 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@22195d06] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.525 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1f591b2e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.550 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:36.550 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:36.568 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:36.638 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:36.640 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
SomeOtherObject(id=1, my_id=0, value=Hello Changed)
17:19:36.648 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.487 sec
Running io.dropwizard.sharding.dao.CacheableLookupDaoTest
17:19:36.700 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:36.700 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:36.701 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:36.701 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:36.701 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:36.707 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:36.763 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@71eead09] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.764 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@586af46] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.771 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:36.792 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:36.794 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:36.794 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:36.794 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:36.795 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:36.796 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:36.873 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@789d45f7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.874 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@240c626d] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:36.887 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:36.887 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:36.927 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:36.933 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:36.933 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:36.941 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
17:19:36.961 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:36.962 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:36.962 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:36.963 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:36.963 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:36.971 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:37.066 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@32cda33c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.083 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5bb24266] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.094 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:37.102 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:37.102 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:37.103 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:37.103 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:37.103 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:37.107 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:37.173 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@70ed03e4] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.191 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@533a8540] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.209 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:37.210 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:37.218 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type TestEntity with key testId to shard 0
17:19:37.223 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:37.224 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type TestEntity with key testId to shard 0
17:19:37.252 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:37.255 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:37.265 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:37.267 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:37.268 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:37.281 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:37.281 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
17:19:37.301 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:37.301 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:37.301 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:37.302 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:37.302 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:37.317 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:37.376 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@313c3cb] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.378 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@63fef83c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.386 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:37.409 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:37.409 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:37.410 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:37.410 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:37.410 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:37.413 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:37.526 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4d609cc3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.534 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@158e3a79] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.557 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:37.557 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:37.564 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type TestEntity with key testId to shard 0
17:19:37.581 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:37.582 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:37.599 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:37.599 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
17:19:37.612 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:37.613 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:37.613 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:37.613 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:37.613 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:37.621 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:37.720 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@119cd026] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.722 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@65448932] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.743 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:37.752 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:37.753 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:37.757 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:37.757 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:37.757 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:37.758 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:37.834 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@d3e9629] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.839 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@65c97eeb] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:37.852 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:37.856 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:37.861 [main] DEBUG io.dropwizard.sharding.dao.LookupDao – Saving entity of type Phone with key 9830968020 to shard 0
17:19:37.870 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:37.872 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:37.873 [main] WARN  org.hibernate.orm.deprecation – HHH90000022: Hibernate's legacy org.hibernate.Criteria API is deprecated; use the JPA javax.persistence.criteria.CriteriaQuery instead
17:19:37.884 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:37.884 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:37.901 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:37.902 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.233 sec
Running io.dropwizard.sharding.dao.RelationalDaoTest
17:19:37.914 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:37.914 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:37.914 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:37.914 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:37.914 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:37.915 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.032 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@78b20c7f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.033 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@128579a6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.034 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.042 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.042 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:38.043 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.043 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.043 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.044 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.060 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1427827f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.061 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@27015621] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.062 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.079 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.079 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_2]
17:19:38.080 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.080 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.080 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.101 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.140 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@37d12d0e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.141 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6f8c6694] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.143 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.159 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.159 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_3]
17:19:38.160 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.160 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.160 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.168 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.203 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3a5922ec] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.203 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3e6b08d4] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.205 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.214 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.214 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_4]
17:19:38.215 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.215 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.215 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.217 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.290 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@76093fa9] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.291 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@547d3e8e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.292 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.309 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.310 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_5]
17:19:38.310 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.310 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.311 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.314 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.355 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@116f823c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.355 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7f5a5ef3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.365 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.375 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.375 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_6]
17:19:38.375 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.375 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.375 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.378 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.401 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@130901fd] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.402 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@659f5f32] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.404 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.412 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.412 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_7]
17:19:38.413 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.413 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.413 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.414 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.457 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3ae648d2] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.457 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@559d9517] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.459 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.469 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.469 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_8]
17:19:38.469 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.469 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.469 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.470 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.497 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2bfe2327] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.502 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5cbf423b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.504 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.513 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.513 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_9]
17:19:38.513 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.513 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.513 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.514 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.542 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6e48dc84] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.543 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@633aedeb] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.544 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.554 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.554 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_10]
17:19:38.554 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.554 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.554 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.555 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.577 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@191d69a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.577 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@251ed676] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.579 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.589 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.589 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_11]
17:19:38.589 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.589 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.589 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.591 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.614 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@77198cce] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.614 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@e7b7395] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.616 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.628 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.629 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_12]
17:19:38.629 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.629 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.629 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.630 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.660 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@207bf6d8] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.661 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5cdb7b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.663 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.671 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.671 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_13]
17:19:38.672 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.672 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.672 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.673 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.699 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@155788a7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.699 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6cd8aee2] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.701 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.711 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.713 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_14]
17:19:38.714 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.714 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.714 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.715 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.745 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@55145dc5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.746 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7dcfe455] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.747 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.769 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.769 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_15]
17:19:38.769 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.769 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.770 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.771 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.794 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@26e74d50] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.795 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6bdc984] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.796 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.797 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..61]=0, [62..123]=1, [124..185]=2, [186..247]=3, [248..309]=4, [310..371]=5, [372..433]=6, [434..495]=7, [496..557]=8, [558..619]=9, [620..681]=10, [682..743]=11, [744..805]=12, [806..867]=13, [868..929]=14, [930..999]=15]
17:19:38.807 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:38.809 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:38.809 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:38.809 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
17:19:38.809 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_2]
17:19:38.810 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_2
17:19:38.810 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_3]
17:19:38.811 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_3
17:19:38.812 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_4]
17:19:38.812 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_4
17:19:38.813 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_5]
17:19:38.813 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_5
17:19:38.813 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_6]
17:19:38.819 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_6
17:19:38.819 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_7]
17:19:38.820 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_7
17:19:38.820 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_8]
17:19:38.820 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_8
17:19:38.821 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_9]
17:19:38.821 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_9
17:19:38.821 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_10]
17:19:38.822 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_10
17:19:38.824 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_11]
17:19:38.824 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_11
17:19:38.824 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_12]
17:19:38.825 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_12
17:19:38.825 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_13]
17:19:38.826 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_13
17:19:38.827 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_14]
17:19:38.828 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_14
17:19:38.828 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_15]
17:19:38.829 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_15
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.925 sec
Running io.dropwizard.sharding.dao.WrapperDaoTest
17:19:38.842 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.843 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_0]
17:19:38.843 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.843 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.843 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.843 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.877 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@47ba8e3c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.879 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1638fa8b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.893 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.921 [main] WARN  o.hibernate.orm.connections.pooling – HHH10001002: Using Hibernate built-in connection pool (not for production use!)
17:19:38.922 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db_1]
17:19:38.922 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001001: Connection properties: {}
17:19:38.922 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001003: Autocommit mode: false
17:19:38.922 [main] INFO  o.h.e.j.c.i.DriverManagerConnectionProviderImpl – HHH000115: Hibernate connection pool size: 20 (min=1)
17:19:38.930 [main] INFO  org.hibernate.dialect.Dialect – HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
17:19:38.957 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@21e5feb] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.959 [main] INFO  org.hibernate.orm.connections.access – HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@33742179] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
17:19:38.963 [main] INFO  o.h.t.s.internal.SchemaCreatorImpl – HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@18f55704'
17:19:38.963 [main] INFO  i.d.sharding.sharding.ShardManager – Buckets to shard allocation: [[0..498]=0, [499..999]=1]
17:19:38.978 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_0]
17:19:38.979 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_0
17:19:38.980 [main] INFO  o.hibernate.orm.connections.pooling – HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db_1]
17:19:38.980 [main] ERROR o.h.e.j.c.i.DriverManagerConnectionProviderImpl – Connection leak detected: there are 6 unclosed connections upon shutting down pool jdbc:h2:mem:db_1
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.142 sec

Results :

Tests in error: 
  testBlacklisting(io.dropwizard.sharding.sharding.ShardManagerTest): Shard 0 is blacklisted

Tests run: 23, Failures: 0, Errors: 1, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 26.224 s
[INFO] Finished at: 2018-08-13T17:19:39+02:00
[INFO] Final Memory: 22M/379M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project db-sharding-bundle: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/santanusinha/dropwizard-db-sharding-bundle/415477949/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
