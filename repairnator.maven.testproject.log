[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] eva-accession
[INFO] eva-accession-core
[INFO] eva-accession-ws
[INFO] eva-accession-pipeline
[INFO] eva-accession-import
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building eva-accession 0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building eva-accession-core 0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ eva-accession-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-core/src/main/resources
[INFO] skip non existing resourceDirectory /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-core/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ eva-accession-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ eva-accession-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ eva-accession-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ eva-accession-core ---
[INFO] Surefire report directory: /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-core/target/surefire-reports
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.pom (3 KB at 6.1 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom (3 KB at 130.8 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.jar (67 KB at 1475.4 KB/sec)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2018-06-14 18:21:17,916  INFO st.context.support.AbstractContextLoader: 264 - Could not detect default resource locations for test class [uk.ac.ebi.eva.accession.core.SubmittedVariantAccessioningServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-06-14 18:21:18,014  INFO ontext.SpringBootTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-06-14 18:21:18,035  INFO ontext.SpringBootTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6f96c77, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@be64738, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3ba9ad43, org.springframework.test.context.support.DirtiesContextTestExecutionListener@49d904ec, org.springframework.test.context.transaction.TransactionalTestExecutionListener@48e4374, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3d680b5a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4b5d6a01, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4a22f9e2, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3c419631, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@418e7838, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@61230f6a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3c130745]
Running uk.ac.ebi.eva.accession.core.SubmittedVariantAccessioningServiceTest
2018-06-14 18:21:18,043  INFO st.context.support.AbstractContextLoader: 264 - Could not detect default resource locations for test class [uk.ac.ebi.eva.accession.core.SubmittedVariantAccessioningServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-06-14 18:21:18,071  INFO ontext.SpringBootTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-06-14 18:21:18,074  INFO ontext.SpringBootTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@223191a6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@49139829, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@9597028, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6069db50, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4efbca5a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1b7cc17c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@59662a0b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@77fbd92c, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@67c27493, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1a482e36, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@72967906, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5b8dfcc1]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.10.RELEASE)

2018-06-14 18:21:18,407  INFO .SubmittedVariantAccessioningServiceTest:  48 - Starting SubmittedVariantAccessioningServiceTest on spirals-vortex.lille.inria.fr with PID 254 (started by root in /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-core)
2018-06-14 18:21:18,408 DEBUG .SubmittedVariantAccessioningServiceTest:  51 - Running with Spring Boot v1.5.10.RELEASE, Spring v4.3.14.RELEASE
2018-06-14 18:21:18,408  INFO .SubmittedVariantAccessioningServiceTest: 593 - No active profile set, falling back to default profiles: default
2018-06-14 18:21:18,423  INFO ation.AnnotationConfigApplicationContext: 583 - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@7c137fd5: startup date [Thu Jun 14 18:21:18 CEST 2018]; root of context hierarchy
2018-06-14 18:21:18,728  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:18,858  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:18,877  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.test.MongoTestConfiguration]
2018-06-14 18:21:18,942  INFO beddedDataSourceBeanFactoryPostProcessor: 106 - Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 18:21:18,943  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 18:21:19,192  INFO asource.embedded.EmbeddedDatabaseFactory: 185 - Starting embedded database: url='jdbc:hsqldb:mem:05c7cf7b-0ef1-4714-a5cf-74901b108a8a', username='sa'
2018-06-14 18:21:19,806  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Hibernate: create table contiguous_id_blocks (id bigint generated by default as identity (start with 1), application_instance_id varchar(255) not null, category_id varchar(255) not null, first_value bigint not null, last_committed bigint not null, last_value bigint not null, primary key (id))
Hibernate: create index CATEGORY_INDEX on contiguous_id_blocks (category_id)
2018-06-14 18:21:20,546  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:20,854  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:21,333 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? and contiguous0_.application_instance_id=? order by contiguous0_.last_value asc
2018-06-14 18:21:21,622  INFO .SubmittedVariantAccessioningServiceTest:  57 - Started SubmittedVariantAccessioningServiceTest in 3.467 seconds (JVM running for 4.212)
2018-06-14 18:21:21,641  INFO t.context.transaction.TransactionContext: 105 - Began transaction (1) for test context [DefaultTestContext@1b7554d4 testClass = SubmittedVariantAccessioningServiceTest, testInstance = uk.ac.ebi.eva.accession.core.SubmittedVariantAccessioningServiceTest@57ce2898, testMethod = sameAccessionsAreReturnedForIdenticalVariants@SubmittedVariantAccessioningServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3711c71c testClass = SubmittedVariantAccessioningServiceTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.core.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@33e3bd2e key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4034c28c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@53ca01a2, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3b2cf7ab, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e8d9571b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4f638935], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5a4d4f9c]; rollback [true]
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? order by contiguous0_.last_value desc limit ?
Hibernate: insert into contiguous_id_blocks (id, application_instance_id, category_id, first_value, last_committed, last_value) values (default, ?, ?, ?, ?, ?)
2018-06-14 18:21:21,819  INFO t.context.transaction.TransactionContext: 139 - Rolled back transaction for test context [DefaultTestContext@1b7554d4 testClass = SubmittedVariantAccessioningServiceTest, testInstance = uk.ac.ebi.eva.accession.core.SubmittedVariantAccessioningServiceTest@57ce2898, testMethod = sameAccessionsAreReturnedForIdenticalVariants@SubmittedVariantAccessioningServiceTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@3711c71c testClass = SubmittedVariantAccessioningServiceTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.core.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@33e3bd2e key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4034c28c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@53ca01a2, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@3b2cf7ab, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e8d9571b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@4f638935], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.782 sec - in uk.ac.ebi.eva.accession.core.SubmittedVariantAccessioningServiceTest
2018-06-14 18:21:21,824  INFO ation.AnnotationConfigApplicationContext: 984 - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@7c137fd5: startup date [Thu Jun 14 18:21:18 CEST 2018]; root of context hierarchy
2018-06-14 18:21:21,827  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building eva-accession-ws 0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ eva-accession-ws ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ eva-accession-ws ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ eva-accession-ws ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ eva-accession-ws ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ eva-accession-ws ---
[INFO] Surefire report directory: /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-ws/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2018-06-14 18:21:22,628  INFO ontext.SpringBootTestContextBootstrapper: 307 - Neither @ContextConfiguration nor @ContextHierarchy found for test class [uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest], using SpringBootContextLoader
2018-06-14 18:21:22,636  INFO st.context.support.AbstractContextLoader: 264 - Could not detect default resource locations for test class [uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-06-14 18:21:22,636  INFO pport.AnnotationConfigContextLoaderUtils:  81 - Could not detect default configuration classes for test class [uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest]: SubmittedVariantsRestControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2018-06-14 18:21:22,757  INFO ontext.SpringBootTestContextBootstrapper: 206 - Found @SpringBootConfiguration uk.ac.ebi.eva.accession.ws.EvaAccessionApplication for test class uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest
2018-06-14 18:21:22,764  INFO ontext.SpringBootTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-06-14 18:21:22,785  INFO ontext.SpringBootTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3e2e18f2, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@470f1802, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@63021689, org.springframework.test.context.support.DirtiesContextTestExecutionListener@703580bf, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3e92efc3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1622f1b, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@72a7c7e0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e4b8173, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@70e8f8e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@17046283, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5bd03f44, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@29626d54]
Running uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest
2018-06-14 18:21:22,791  INFO ontext.SpringBootTestContextBootstrapper: 307 - Neither @ContextConfiguration nor @ContextHierarchy found for test class [uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest], using SpringBootContextLoader
2018-06-14 18:21:22,792  INFO st.context.support.AbstractContextLoader: 264 - Could not detect default resource locations for test class [uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-06-14 18:21:22,793  INFO pport.AnnotationConfigContextLoaderUtils:  81 - Could not detect default configuration classes for test class [uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest]: SubmittedVariantsRestControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2018-06-14 18:21:22,801  INFO ontext.SpringBootTestContextBootstrapper: 206 - Found @SpringBootConfiguration uk.ac.ebi.eva.accession.ws.EvaAccessionApplication for test class uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest
2018-06-14 18:21:22,806  INFO ontext.SpringBootTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2018-06-14 18:21:22,810  INFO ontext.SpringBootTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7334aada, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1d9b7cce, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@4d9e68d0, org.springframework.test.context.support.DirtiesContextTestExecutionListener@42e99e4a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@14dd9eb7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@52e6fdee, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6c80d78a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@62150f9e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1a451d4d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7fa98a66, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@15ff3e9e, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5fdcaa40]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.10.RELEASE)

2018-06-14 18:21:23,156  INFO n.ws.SubmittedVariantsRestControllerTest:  48 - Starting SubmittedVariantsRestControllerTest on spirals-vortex.lille.inria.fr with PID 313 (started by root in /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-ws)
2018-06-14 18:21:23,157 DEBUG n.ws.SubmittedVariantsRestControllerTest:  51 - Running with Spring Boot v1.5.10.RELEASE, Spring v4.3.14.RELEASE
2018-06-14 18:21:23,157  INFO n.ws.SubmittedVariantsRestControllerTest: 593 - No active profile set, falling back to default profiles: default
2018-06-14 18:21:23,178  INFO ationConfigEmbeddedWebApplicationContext: 583 - Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@740cae06: startup date [Thu Jun 14 18:21:23 CEST 2018]; root of context hierarchy
2018-06-14 18:21:23,976  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:24,032  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:24,046  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [uk/ac/ebi/eva/accession/core/configuration/MongoConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [uk/ac/ebi/eva/accession/ws/test/MongoTestConfiguration.class]]
2018-06-14 18:21:24,795  INFO trationDelegate$BeanPostProcessorChecker: 327 - Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$8ce23dca] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 18:21:25,249  INFO ed.tomcat.TomcatEmbeddedServletContainer:  89 - Tomcat initialized with port(s): 0 (http)
2018-06-14 18:21:25,361  INFO pringframework.web.context.ContextLoader: 276 - Root WebApplicationContext: initialization completed in 2186 ms
2018-06-14 18:21:25,582  INFO boot.web.servlet.ServletRegistrationBean: 190 - Mapping servlet: 'dispatcherServlet' to [/]
2018-06-14 18:21:25,586  INFO .boot.web.servlet.FilterRegistrationBean: 258 - Mapping filter: 'metricsFilter' to: [/*]
2018-06-14 18:21:25,586  INFO .boot.web.servlet.FilterRegistrationBean: 258 - Mapping filter: 'characterEncodingFilter' to: [/*]
2018-06-14 18:21:25,586  INFO .boot.web.servlet.FilterRegistrationBean: 258 - Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-06-14 18:21:25,586  INFO .boot.web.servlet.FilterRegistrationBean: 258 - Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-06-14 18:21:25,586  INFO .boot.web.servlet.FilterRegistrationBean: 258 - Mapping filter: 'requestContextFilter' to: [/*]
2018-06-14 18:21:25,587  INFO .boot.web.servlet.FilterRegistrationBean: 258 - Mapping filter: 'webRequestLoggingFilter' to: [/*]
2018-06-14 18:21:25,587  INFO .boot.web.servlet.FilterRegistrationBean: 258 - Mapping filter: 'applicationContextIdFilter' to: [/*]
2018-06-14 18:21:26,357  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:26,977  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:27,434  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:27,890 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-ws-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
2018-06-14 18:21:28,613  INFO .annotation.RequestMappingHandlerMapping: 543 - Mapped "{[/v1/submitted-variants/{identifiers}],methods=[GET],produces=[application/json]}" onto public java.util.List<uk.ac.ebi.ampt2d.commons.accession.rest.AccessionResponseDTO<uk.ac.ebi.eva.accession.ws.rest.SubmittedVariantDTO, uk.ac.ebi.eva.accession.core.ISubmittedVariant, java.lang.String, java.lang.Long>> uk.ac.ebi.eva.accession.ws.rest.SubmittedVariantsRestController.get(java.util.List<java.lang.Long>)
2018-06-14 18:21:28,617  INFO .annotation.RequestMappingHandlerMapping: 543 - Mapped "{[/swagger-resources/configuration/ui]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.UiConfiguration> springfox.documentation.swagger.web.ApiResourceController.uiConfiguration()
2018-06-14 18:21:28,617  INFO .annotation.RequestMappingHandlerMapping: 543 - Mapped "{[/swagger-resources]}" onto public org.springframework.http.ResponseEntity<java.util.List<springfox.documentation.swagger.web.SwaggerResource>> springfox.documentation.swagger.web.ApiResourceController.swaggerResources()
2018-06-14 18:21:28,618  INFO .annotation.RequestMappingHandlerMapping: 543 - Mapped "{[/swagger-resources/configuration/security]}" onto public org.springframework.http.ResponseEntity<springfox.documentation.swagger.web.SecurityConfiguration> springfox.documentation.swagger.web.ApiResourceController.securityConfiguration()
2018-06-14 18:21:28,621  INFO .annotation.RequestMappingHandlerMapping: 543 - Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-06-14 18:21:28,622  INFO .annotation.RequestMappingHandlerMapping: 543 - Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-06-14 18:21:28,939  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/env/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EnvironmentMvcEndpoint.value(java.lang.String)
2018-06-14 18:21:28,940  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/env || /env.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:28,943  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/trace || /trace.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:28,945  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/auditevents || /auditevents.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.boot.actuate.endpoint.mvc.AuditEventsMvcEndpoint.findByPrincipalAndAfterAndType(java.lang.String,java.util.Date,java.lang.String)
2018-06-14 18:21:28,946  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/heapdump || /heapdump.json],methods=[GET],produces=[application/octet-stream]}" onto public void org.springframework.boot.actuate.endpoint.mvc.HeapdumpMvcEndpoint.invoke(boolean,javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse) throws java.io.IOException,javax.servlet.ServletException
2018-06-14 18:21:28,947  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/info || /info.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:28,949  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/metrics/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.MetricsMvcEndpoint.value(java.lang.String)
2018-06-14 18:21:28,950  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/metrics || /metrics.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:28,951  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/beans || /beans.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:28,952  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/configprops || /configprops.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:28,953  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/autoconfig || /autoconfig.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:28,955  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/health || /health.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.HealthMvcEndpoint.invoke(javax.servlet.http.HttpServletRequest,java.security.Principal)
2018-06-14 18:21:28,957  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/loggers/{name:.*}],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.get(java.lang.String)
2018-06-14 18:21:28,958  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/loggers/{name:.*}],methods=[POST],consumes=[application/vnd.spring-boot.actuator.v1+json || application/json],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.LoggersMvcEndpoint.set(java.lang.String,java.util.Map<java.lang.String, java.lang.String>)
2018-06-14 18:21:28,959  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/loggers || /loggers.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:28,960  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/mappings || /mappings.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:28,961  INFO uate.endpoint.mvc.EndpointHandlerMapping: 543 - Mapped "{[/dump || /dump.json],methods=[GET],produces=[application/vnd.spring-boot.actuator.v1+json || application/json]}" onto public java.lang.Object org.springframework.boot.actuate.endpoint.mvc.EndpointMvcAdapter.invoke()
2018-06-14 18:21:29,400  INFO .annotation.RequestMappingHandlerAdapter: 534 - Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@740cae06: startup date [Thu Jun 14 18:21:23 CEST 2018]; root of context hierarchy
2018-06-14 18:21:29,476  INFO .servlet.handler.SimpleUrlHandlerMapping: 362 - Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 18:21:29,477  INFO .servlet.handler.SimpleUrlHandlerMapping: 362 - Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 18:21:29,611  INFO .servlet.handler.SimpleUrlHandlerMapping: 362 - Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 18:21:29,964  INFO ontext.support.DefaultLifecycleProcessor: 343 - Starting beans in phase 2147483647
2018-06-14 18:21:30,517  INFO ed.tomcat.TomcatEmbeddedServletContainer: 201 - Tomcat started on port(s): 44954 (http)
2018-06-14 18:21:30,524  INFO n.ws.SubmittedVariantsRestControllerTest:  57 - Started SubmittedVariantsRestControllerTest in 7.64 seconds (JVM running for 8.379)
2018-06-14 18:21:30,833  INFO gframework.web.servlet.DispatcherServlet: 489 - FrameworkServlet 'dispatcherServlet': initialization started
2018-06-14 18:21:30,854  INFO gframework.web.servlet.DispatcherServlet: 508 - FrameworkServlet 'dispatcherServlet': initialization completed in 20 ms
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.26 sec - in uk.ac.ebi.eva.accession.ws.SubmittedVariantsRestControllerTest
2018-06-14 18:21:31,053  INFO ationConfigEmbeddedWebApplicationContext: 984 - Closing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@740cae06: startup date [Thu Jun 14 18:21:23 CEST 2018]; root of context hierarchy
2018-06-14 18:21:31,057  INFO ontext.support.DefaultLifecycleProcessor: 358 - Stopping beans in phase 2147483647
2018-06-14 18:21:31,067  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building eva-accession-pipeline 0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ eva-accession-pipeline ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ eva-accession-pipeline ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ eva-accession-pipeline ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 22 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ eva-accession-pipeline ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ eva-accession-pipeline ---
[INFO] Surefire report directory: /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-pipeline/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
2018-06-14 18:21:32,141  INFO t.support.DefaultTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
2018-06-14 18:21:32,171  INFO t.support.DefaultTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@475e586c, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@657c8ad9, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@436a4e4b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@f2f2cc1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3a079870, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3b2cf7ab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2aa5fe93, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5c1a8622, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@5ad851c9, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6156496, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3c153a1, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@b62fe6d]
Running uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunnerTest
2018-06-14 18:21:32,189  INFO t.support.DefaultTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
2018-06-14 18:21:32,190  INFO t.support.DefaultTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2fd6b6c7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@5bfa9431, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5db250b4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@223f3642, org.springframework.test.context.transaction.TransactionalTestExecutionListener@38c5cc4c, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37918c79, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@78e94dcf, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@233fe9b6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@358ee631, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@ec756bd, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3c72f59f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@60dcc9fe]
2018-06-14 18:21:32,306  INFO ontext.support.GenericApplicationContext: 583 - Refreshing org.springframework.context.support.GenericApplicationContext@7f010382: startup date [Thu Jun 14 18:21:32 CEST 2018]; root of context hierarchy
2018-06-14 18:21:32,846  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:32,878  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:33,136  WARN xt.annotation.ConfigurationClassEnhancer: 350 - @Bean method ScopeConfiguration.stepScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
2018-06-14 18:21:33,152  WARN xt.annotation.ConfigurationClassEnhancer: 350 - @Bean method ScopeConfiguration.jobScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
2018-06-14 18:21:34,362  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:34,879  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:35,514  WARN autoconfigure.batch.BasicBatchConfigurer: 150 - JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2018-06-14 18:21:35,516  INFO ository.support.JobRepositoryFactoryBean: 183 - No database type set, using meta data indicating: HSQL
2018-06-14 18:21:35,620  INFO ch.core.launch.support.SimpleJobLauncher: 195 - No TaskExecutor has been set, defaulting to synchronous executor.
2018-06-14 18:21:35,639  INFO amework.jdbc.datasource.init.ScriptUtils: 441 - Executing SQL script from class path resource [org/springframework/batch/core/schema-hsqldb.sql]
2018-06-14 18:21:35,648  INFO amework.jdbc.datasource.init.ScriptUtils: 507 - Executed SQL script from class path resource [org/springframework/batch/core/schema-hsqldb.sql] in 8 ms.
2018-06-14 18:21:36,294  INFO xport.annotation.AnnotationMBeanExporter: 431 - Registering beans for JMX exposure on startup
2018-06-14 18:21:36,340 ERROR EvaAccessionJobLauncherCommandLineRunner: 126 - No job name has been provided.
2018-06-14 18:21:36,342 DEBUG EvaAccessionJobLauncherCommandLineRunner: 127 - Error trace
uk.ac.ebi.eva.commons.batch.exception.NoJobToExecuteException: No job name has been provided.
	at uk.ac.ebi.eva.commons.batch.job.JobStatusManager.checkIfJobNameHasBeenDefined(JobStatusManager.java:52)
	at uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunner.run(EvaAccessionJobLauncherCommandLineRunner.java:118)
	at uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunnerTest.runJobWithNoName(EvaAccessionJobLauncherCommandLineRunnerTest.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
2018-06-14 18:21:36,373  INFO EvaAccessionJobLauncherCommandLineRunner: 155 - Force restartPreviousExecution of job 'job1' with parameters: {vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, aggregatedMappingFile=null, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, outputVcf=/tmp/accession-output.vcf, taxonomyAccession=1111, assemblyAccession=assembly, projectAccession=project, chunkSize=100}
2018-06-14 18:21:36,457 ERROR EvaAccessionJobLauncherCommandLineRunner: 126 - No previous execution from job 'job1' with parameters '{vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, aggregatedMappingFile=null, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, outputVcf=/tmp/accession-output.vcf, taxonomyAccession=1111, assemblyAccession=assembly, projectAccession=project, chunkSize=100}'
2018-06-14 18:21:36,457 DEBUG EvaAccessionJobLauncherCommandLineRunner: 127 - Error trace
uk.ac.ebi.eva.commons.batch.exception.NoPreviousJobExecutionException: No previous execution from job 'job1' with parameters '{vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, aggregatedMappingFile=null, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, outputVcf=/tmp/accession-output.vcf, taxonomyAccession=1111, assemblyAccession=assembly, projectAccession=project, chunkSize=100}'
	at uk.ac.ebi.eva.commons.batch.job.JobStatusManager.markLastJobAsFailed(JobStatusManager.java:60)
	at uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunner.markPreviousJobAsFailed(EvaAccessionJobLauncherCommandLineRunner.java:156)
	at uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunner.run(EvaAccessionJobLauncherCommandLineRunner.java:121)
	at uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunnerTest.forceRestartButNoJobInTheRepository(EvaAccessionJobLauncherCommandLineRunnerTest.java:133)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
2018-06-14 18:21:36,520  INFO EvaAccessionJobLauncherCommandLineRunner: 149 - Running job 'job1' with parameters: {vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, aggregatedMappingFile=null, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, outputVcf=/tmp/accession-output.vcf, taxonomyAccession=1111, assemblyAccession=assembly, projectAccession=project, chunkSize=100}
2018-06-14 18:21:36,534 ERROR EvaAccessionJobLauncherCommandLineRunner: 126 - A job execution for this job is already running: JobInstance: id=0, version=0, Job=[job1]
2018-06-14 18:21:36,534 DEBUG EvaAccessionJobLauncherCommandLineRunner: 127 - Error trace
org.springframework.batch.core.repository.JobExecutionAlreadyRunningException: A job execution for this job is already running: JobInstance: id=0, version=0, Job=[job1]
	at org.springframework.batch.core.repository.support.SimpleJobRepository.createJobExecution(SimpleJobRepository.java:120)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.batch.core.repository.support.AbstractJobRepositoryFactoryBean$1.invoke(AbstractJobRepositoryFactoryBean.java:172)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy64.createJobExecution(Unknown Source)
	at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:125)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)
	at com.sun.proxy.$Proxy68.run(Unknown Source)
	at org.springframework.boot.autoconfigure.batch.JobLauncherCommandLineRunner.execute(JobLauncherCommandLineRunner.java:211)
	at uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunner.execute(EvaAccessionJobLauncherCommandLineRunner.java:150)
	at uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunner.launchJob(EvaAccessionJobLauncherCommandLineRunner.java:137)
	at uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunner.run(EvaAccessionJobLauncherCommandLineRunner.java:123)
	at uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunnerTest.runJobThatIsAlreadyInTheRepositoryWithoutForcingRestart(EvaAccessionJobLauncherCommandLineRunnerTest.java:122)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:252)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
2018-06-14 18:21:36,578  INFO EvaAccessionJobLauncherCommandLineRunner: 155 - Force restartPreviousExecution of job 'job1' with parameters: {vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, aggregatedMappingFile=null, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, outputVcf=/tmp/accession-output.vcf, taxonomyAccession=1111, assemblyAccession=assembly, projectAccession=project, chunkSize=100}
2018-06-14 18:21:36,588  INFO EvaAccessionJobLauncherCommandLineRunner: 149 - Running job 'job1' with parameters: {vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, aggregatedMappingFile=null, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, outputVcf=/tmp/accession-output.vcf, taxonomyAccession=1111, assemblyAccession=assembly, projectAccession=project, chunkSize=100}
2018-06-14 18:21:36,605  INFO ch.core.launch.support.SimpleJobLauncher: 133 - Job: [SimpleJob: [name=job1]] launched with the following parameters: [{aggregatedMappingFile=null, chunkSize=100, outputVcf=/tmp/accession-output.vcf, vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, projectAccession=project, assemblyAccession=assembly, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, taxonomyAccession=1111}]
2018-06-14 18:21:36,616  INFO amework.batch.core.job.SimpleStepHandler: 146 - Executing step: [step1]
2018-06-14 18:21:36,626  INFO .pipeline.runner.RunnerTestConfiguration:  80 - Executing step step1
2018-06-14 18:21:36,639  INFO amework.batch.core.job.SimpleStepHandler: 146 - Executing step: [step2]
2018-06-14 18:21:36,643  INFO .pipeline.runner.RunnerTestConfiguration:  80 - Executing step step2
2018-06-14 18:21:36,650  INFO ch.core.launch.support.SimpleJobLauncher: 136 - Job: [SimpleJob: [name=job1]] completed with the following parameters: [{aggregatedMappingFile=null, chunkSize=100, outputVcf=/tmp/accession-output.vcf, vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, projectAccession=project, assemblyAccession=assembly, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, taxonomyAccession=1111}] and the following status: [COMPLETED]
2018-06-14 18:21:36,671  INFO EvaAccessionJobLauncherCommandLineRunner: 149 - Running job 'job1' with parameters: {vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, aggregatedMappingFile=null, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, outputVcf=/tmp/accession-output.vcf, taxonomyAccession=1111, assemblyAccession=assembly, projectAccession=project, chunkSize=100}
2018-06-14 18:21:36,683  INFO ch.core.launch.support.SimpleJobLauncher: 133 - Job: [SimpleJob: [name=job1]] launched with the following parameters: [{aggregatedMappingFile=null, chunkSize=100, outputVcf=/tmp/accession-output.vcf, vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, projectAccession=project, assemblyAccession=assembly, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, taxonomyAccession=1111}]
2018-06-14 18:21:36,691  INFO amework.batch.core.job.SimpleStepHandler: 146 - Executing step: [step1]
2018-06-14 18:21:36,694  INFO .pipeline.runner.RunnerTestConfiguration:  80 - Executing step step1
2018-06-14 18:21:36,706  INFO amework.batch.core.job.SimpleStepHandler: 146 - Executing step: [step2]
2018-06-14 18:21:36,709  INFO .pipeline.runner.RunnerTestConfiguration:  80 - Executing step step2
2018-06-14 18:21:36,716  INFO ch.core.launch.support.SimpleJobLauncher: 136 - Job: [SimpleJob: [name=job1]] completed with the following parameters: [{aggregatedMappingFile=null, chunkSize=100, outputVcf=/tmp/accession-output.vcf, vcf=src/test/resources/input-files/vcf/genotyped.vcf.gz, vcfAggregation=NONE, projectAccession=project, assemblyAccession=assembly, fasta=src/test/resources/input-files/fasta/Homo_sapiens.GRCh37.75.chr20.head_1200.fa, taxonomyAccession=1111}] and the following status: [COMPLETED]
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.542 sec - in uk.ac.ebi.eva.accession.pipeline.runner.EvaAccessionJobLauncherCommandLineRunnerTest
2018-06-14 18:21:36,722  INFO ontext.support.GenericApplicationContext: 984 - Closing org.springframework.context.support.GenericApplicationContext@7f010382: startup date [Thu Jun 14 18:21:32 CEST 2018]; root of context hierarchy
2018-06-14 18:21:36,727  INFO xport.annotation.AnnotationMBeanExporter: 449 - Unregistering JMX-exposed beans on shutdown
2018-06-14 18:21:36,728  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Running uk.ac.ebi.eva.accession.pipeline.steps.tasklets.reportCheck.ReportCheckTaskletTest
2018-06-14 18:21:38,086 DEBUG .tasklets.reportCheck.ReportCheckTasklet: 167 - Max unmatched accessions held in memory: 299; iterations: 1
2018-06-14 18:21:38,116 DEBUG .tasklets.reportCheck.ReportCheckTasklet: 167 - Max unmatched accessions held in memory: 156; iterations: 1
2018-06-14 18:21:38,116 ERROR .tasklets.reportCheck.ReportCheckTasklet: 181 - 1 variants were not found in the accession report.
2018-06-14 18:21:38,116  INFO .tasklets.reportCheck.ReportCheckTasklet: 182 - These are the 1 variants that were not found in the accession report: [AbstractVariant{chromosome='1', position=664010-664010, reference='A', alternate='C', ids='[]'}]
2018-06-14 18:21:38,126 DEBUG .tasklets.reportCheck.ReportCheckTasklet: 167 - Max unmatched accessions held in memory: 156; iterations: 1
2018-06-14 18:21:38,134 DEBUG .tasklets.reportCheck.ReportCheckTasklet: 167 - Max unmatched accessions held in memory: 40; iterations: 8
2018-06-14 18:21:38,142 DEBUG .tasklets.reportCheck.ReportCheckTasklet: 167 - Max unmatched accessions held in memory: 22; iterations: 40
2018-06-14 18:21:38,149 DEBUG .tasklets.reportCheck.ReportCheckTasklet: 167 - Max unmatched accessions held in memory: 40; iterations: 7
2018-06-14 18:21:38,156 DEBUG .tasklets.reportCheck.ReportCheckTasklet: 167 - Max unmatched accessions held in memory: 21; iterations: 70
2018-06-14 18:21:38,162 DEBUG .tasklets.reportCheck.ReportCheckTasklet: 167 - Max unmatched accessions held in memory: 157; iterations: 1
2018-06-14 18:21:38,163 ERROR .tasklets.reportCheck.ReportCheckTasklet: 173 - 1 variants were found in the accession report that were not found in the original VCF.
2018-06-14 18:21:38,163  INFO .tasklets.reportCheck.ReportCheckTasklet: 175 - These are the 1 variants that were not found in the original VCF: [AbstractVariant{chromosome='1', position=1000000-1000000, reference='C', alternate='G', ids='[rs10000]'}]
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.006 sec - in uk.ac.ebi.eva.accession.pipeline.steps.tasklets.reportCheck.ReportCheckTaskletTest
Running uk.ac.ebi.eva.accession.pipeline.steps.tasklets.reportCheck.AccessionWrapperComparatorTest
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec - in uk.ac.ebi.eva.accession.pipeline.steps.tasklets.reportCheck.AccessionWrapperComparatorTest
Running uk.ac.ebi.eva.accession.pipeline.steps.processors.VariantProcessorTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec - in uk.ac.ebi.eva.accession.pipeline.steps.processors.VariantProcessorTest
2018-06-14 18:21:39,451  INFO st.context.support.AbstractContextLoader: 264 - Could not detect default resource locations for test class [uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-06-14 18:21:39,549  INFO ontext.SpringBootTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
2018-06-14 18:21:39,570  INFO ontext.SpringBootTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f7298b, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@188715b5, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1ea9f6af, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6a192cfe, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5119fb47, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7193666c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@20deea7f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3835c46, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1dde4cb2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7714e963, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@20ce78ec, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@393671df]
Running uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest
2018-06-14 18:21:39,578  INFO st.context.support.AbstractContextLoader: 264 - Could not detect default resource locations for test class [uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-06-14 18:21:39,606  INFO ontext.SpringBootTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
2018-06-14 18:21:39,609  INFO ontext.SpringBootTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@62379589, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4afcd809, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@175c2241, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5bf0d49, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5b7a5baa, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@776aec5c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1d296da, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7c7a06ec, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@75d4a5c2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@557caf28, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@408d971b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6c6cb480]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.10.RELEASE)

2018-06-14 18:21:39,991  INFO ccession.pipeline.io.AccessionWriterTest:  48 - Starting AccessionWriterTest on spirals-vortex.lille.inria.fr with PID 600 (started by root in /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-pipeline)
2018-06-14 18:21:39,991 DEBUG ccession.pipeline.io.AccessionWriterTest:  51 - Running with Spring Boot v1.5.10.RELEASE, Spring v4.3.14.RELEASE
2018-06-14 18:21:39,991  INFO ccession.pipeline.io.AccessionWriterTest: 593 - No active profile set, falling back to default profiles: default
2018-06-14 18:21:40,008  INFO ation.AnnotationConfigApplicationContext: 583 - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@48e1f6c7: startup date [Thu Jun 14 18:21:40 CEST 2018]; root of context hierarchy
2018-06-14 18:21:40,326  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:40,492  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:40,514  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration]
2018-06-14 18:21:40,583  INFO beddedDataSourceBeanFactoryPostProcessor: 106 - Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 18:21:40,584  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 18:21:40,871  INFO asource.embedded.EmbeddedDatabaseFactory: 185 - Starting embedded database: url='jdbc:hsqldb:mem:e25fcfb8-cec1-4fdd-9b0a-d8ba51d0f164', username='sa'
2018-06-14 18:21:41,561  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Hibernate: create table contiguous_id_blocks (id bigint generated by default as identity (start with 1), application_instance_id varchar(255) not null, category_id varchar(255) not null, first_value bigint not null, last_committed bigint not null, last_value bigint not null, primary key (id))
Hibernate: create index CATEGORY_INDEX on contiguous_id_blocks (category_id)
2018-06-14 18:21:42,473  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:42,791  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:43,305 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? and contiguous0_.application_instance_id=? order by contiguous0_.last_value asc
2018-06-14 18:21:43,637  INFO ccession.pipeline.io.AccessionWriterTest:  57 - Started AccessionWriterTest in 3.939 seconds (JVM running for 4.731)
2018-06-14 18:21:43,669  INFO t.context.transaction.TransactionContext: 105 - Began transaction (1) for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@49754e74, testMethod = testSaveInitializesCreatedDate@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@17ff8810]; rollback [true]
2018-06-14 18:21:43,727  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:43,731  INFO ccession.pipeline.io.FastaSequenceReader:  58 - Sequence index file not found - creating one...
2018-06-14 18:21:43,747  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? order by contiguous0_.last_value desc limit ?
Hibernate: insert into contiguous_id_blocks (id, application_instance_id, category_id, first_value, last_committed, last_value) values (default, ?, ?, ?, ?, ?)
2018-06-14 18:21:43,912  INFO t.context.transaction.TransactionContext: 139 - Rolled back transaction for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@49754e74, testMethod = testSaveInitializesCreatedDate@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2018-06-14 18:21:43,914  INFO ation.AnnotationConfigApplicationContext: 984 - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@48e1f6c7: startup date [Thu Jun 14 18:21:40 CEST 2018]; root of context hierarchy
2018-06-14 18:21:43,917  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.10.RELEASE)

2018-06-14 18:21:43,989  INFO ccession.pipeline.io.AccessionWriterTest:  48 - Starting AccessionWriterTest on spirals-vortex.lille.inria.fr with PID 600 (started by root in /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-pipeline)
2018-06-14 18:21:43,989 DEBUG ccession.pipeline.io.AccessionWriterTest:  51 - Running with Spring Boot v1.5.10.RELEASE, Spring v4.3.14.RELEASE
2018-06-14 18:21:43,989  INFO ccession.pipeline.io.AccessionWriterTest: 593 - No active profile set, falling back to default profiles: default
2018-06-14 18:21:43,992  INFO ation.AnnotationConfigApplicationContext: 583 - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1c7cd434: startup date [Thu Jun 14 18:21:43 CEST 2018]; root of context hierarchy
2018-06-14 18:21:44,098  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:44,110  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:44,117  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration]
2018-06-14 18:21:44,134  INFO beddedDataSourceBeanFactoryPostProcessor: 106 - Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 18:21:44,135  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 18:21:44,195  INFO asource.embedded.EmbeddedDatabaseFactory: 185 - Starting embedded database: url='jdbc:hsqldb:mem:8cab7ced-3015-434e-beb4-a1b548734b97', username='sa'
2018-06-14 18:21:44,354  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Hibernate: create table contiguous_id_blocks (id bigint generated by default as identity (start with 1), application_instance_id varchar(255) not null, category_id varchar(255) not null, first_value bigint not null, last_committed bigint not null, last_value bigint not null, primary key (id))
Hibernate: create index CATEGORY_INDEX on contiguous_id_blocks (category_id)
2018-06-14 18:21:44,417  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:44,471  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:44,605 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? and contiguous0_.application_instance_id=? order by contiguous0_.last_value asc
2018-06-14 18:21:44,747  INFO ccession.pipeline.io.AccessionWriterTest:  57 - Started AccessionWriterTest in 0.812 seconds (JVM running for 5.84)
2018-06-14 18:21:44,757  INFO t.context.transaction.TransactionContext: 105 - Began transaction (1) for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@618f627b, testMethod = saveSingleAccession@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@17d76ebb]; rollback [true]
2018-06-14 18:21:44,761  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:44,762  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? order by contiguous0_.last_value desc limit ?
Hibernate: insert into contiguous_id_blocks (id, application_instance_id, category_id, first_value, last_committed, last_value) values (default, ?, ?, ?, ?, ?)
2018-06-14 18:21:44,788  INFO t.context.transaction.TransactionContext: 139 - Rolled back transaction for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@618f627b, testMethod = saveSingleAccession@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2018-06-14 18:21:44,789  INFO ation.AnnotationConfigApplicationContext: 984 - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@1c7cd434: startup date [Thu Jun 14 18:21:43 CEST 2018]; root of context hierarchy
2018-06-14 18:21:44,790  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.10.RELEASE)

2018-06-14 18:21:44,848  INFO ccession.pipeline.io.AccessionWriterTest:  48 - Starting AccessionWriterTest on spirals-vortex.lille.inria.fr with PID 600 (started by root in /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-pipeline)
2018-06-14 18:21:44,848 DEBUG ccession.pipeline.io.AccessionWriterTest:  51 - Running with Spring Boot v1.5.10.RELEASE, Spring v4.3.14.RELEASE
2018-06-14 18:21:44,848  INFO ccession.pipeline.io.AccessionWriterTest: 593 - No active profile set, falling back to default profiles: default
2018-06-14 18:21:44,850  INFO ation.AnnotationConfigApplicationContext: 583 - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@14590fe2: startup date [Thu Jun 14 18:21:44 CEST 2018]; root of context hierarchy
2018-06-14 18:21:44,935  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:44,944  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:44,949  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration]
2018-06-14 18:21:44,981  INFO beddedDataSourceBeanFactoryPostProcessor: 106 - Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 18:21:44,983  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 18:21:45,042  INFO asource.embedded.EmbeddedDatabaseFactory: 185 - Starting embedded database: url='jdbc:hsqldb:mem:fcc02aff-7fd8-461e-82c7-307e187a6c1f', username='sa'
2018-06-14 18:21:45,150  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Hibernate: create table contiguous_id_blocks (id bigint generated by default as identity (start with 1), application_instance_id varchar(255) not null, category_id varchar(255) not null, first_value bigint not null, last_committed bigint not null, last_value bigint not null, primary key (id))
Hibernate: create index CATEGORY_INDEX on contiguous_id_blocks (category_id)
2018-06-14 18:21:45,186  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:45,228  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:45,368 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? and contiguous0_.application_instance_id=? order by contiguous0_.last_value asc
2018-06-14 18:21:45,454  INFO ccession.pipeline.io.AccessionWriterTest:  57 - Started AccessionWriterTest in 0.656 seconds (JVM running for 6.548)
2018-06-14 18:21:45,459  INFO t.context.transaction.TransactionContext: 105 - Began transaction (1) for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@507f47f9, testMethod = saveSameAccessionTwice@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@67e4928c]; rollback [true]
2018-06-14 18:21:45,462  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:45,462  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? order by contiguous0_.last_value desc limit ?
Hibernate: insert into contiguous_id_blocks (id, application_instance_id, category_id, first_value, last_committed, last_value) values (default, ?, ?, ?, ?, ?)
2018-06-14 18:21:45,479  WARN va.accession.pipeline.io.AccessionWriter:  64 - A variant chunk contains 1 repeated variants. This is not an error, but please check it's expected.
2018-06-14 18:21:45,487  INFO t.context.transaction.TransactionContext: 139 - Rolled back transaction for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@507f47f9, testMethod = saveSameAccessionTwice@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2018-06-14 18:21:45,487  INFO ation.AnnotationConfigApplicationContext: 984 - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@14590fe2: startup date [Thu Jun 14 18:21:44 CEST 2018]; root of context hierarchy
2018-06-14 18:21:45,488  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.10.RELEASE)

2018-06-14 18:21:45,525  INFO ccession.pipeline.io.AccessionWriterTest:  48 - Starting AccessionWriterTest on spirals-vortex.lille.inria.fr with PID 600 (started by root in /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-pipeline)
2018-06-14 18:21:45,526 DEBUG ccession.pipeline.io.AccessionWriterTest:  51 - Running with Spring Boot v1.5.10.RELEASE, Spring v4.3.14.RELEASE
2018-06-14 18:21:45,526  INFO ccession.pipeline.io.AccessionWriterTest: 593 - No active profile set, falling back to default profiles: default
2018-06-14 18:21:45,528  INFO ation.AnnotationConfigApplicationContext: 583 - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@68f9e807: startup date [Thu Jun 14 18:21:45 CEST 2018]; root of context hierarchy
2018-06-14 18:21:45,592  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:45,599  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:45,604  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration]
2018-06-14 18:21:45,614  INFO beddedDataSourceBeanFactoryPostProcessor: 106 - Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 18:21:45,615  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 18:21:45,654  INFO asource.embedded.EmbeddedDatabaseFactory: 185 - Starting embedded database: url='jdbc:hsqldb:mem:9cd203bc-3a69-44ee-af32-97225f022f9d', username='sa'
2018-06-14 18:21:45,738  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Hibernate: create table contiguous_id_blocks (id bigint generated by default as identity (start with 1), application_instance_id varchar(255) not null, category_id varchar(255) not null, first_value bigint not null, last_committed bigint not null, last_value bigint not null, primary key (id))
Hibernate: create index CATEGORY_INDEX on contiguous_id_blocks (category_id)
2018-06-14 18:21:45,768  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:45,802  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:45,904 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? and contiguous0_.application_instance_id=? order by contiguous0_.last_value asc
2018-06-14 18:21:45,976  INFO ccession.pipeline.io.AccessionWriterTest:  57 - Started AccessionWriterTest in 0.482 seconds (JVM running for 7.07)
2018-06-14 18:21:45,981  INFO t.context.transaction.TransactionContext: 105 - Began transaction (1) for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@796fe2b5, testMethod = createAccessionAndItAppearsInTheReportVcf@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7d70ba18]; rollback [true]
2018-06-14 18:21:45,984  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:45,984  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? order by contiguous0_.last_value desc limit ?
Hibernate: insert into contiguous_id_blocks (id, application_instance_id, category_id, first_value, last_committed, last_value) values (default, ?, ?, ?, ?, ?)
2018-06-14 18:21:45,999  WARN va.accession.pipeline.io.AccessionWriter:  64 - A variant chunk contains 1 repeated variants. This is not an error, but please check it's expected.
2018-06-14 18:21:46,005  INFO t.context.transaction.TransactionContext: 139 - Rolled back transaction for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@796fe2b5, testMethod = createAccessionAndItAppearsInTheReportVcf@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2018-06-14 18:21:46,005  INFO ation.AnnotationConfigApplicationContext: 984 - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@68f9e807: startup date [Thu Jun 14 18:21:45 CEST 2018]; root of context hierarchy
2018-06-14 18:21:46,007  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.10.RELEASE)

2018-06-14 18:21:46,044  INFO ccession.pipeline.io.AccessionWriterTest:  48 - Starting AccessionWriterTest on spirals-vortex.lille.inria.fr with PID 600 (started by root in /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-pipeline)
2018-06-14 18:21:46,044 DEBUG ccession.pipeline.io.AccessionWriterTest:  51 - Running with Spring Boot v1.5.10.RELEASE, Spring v4.3.14.RELEASE
2018-06-14 18:21:46,044  INFO ccession.pipeline.io.AccessionWriterTest: 593 - No active profile set, falling back to default profiles: default
2018-06-14 18:21:46,046  INFO ation.AnnotationConfigApplicationContext: 583 - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@7944c323: startup date [Thu Jun 14 18:21:46 CEST 2018]; root of context hierarchy
2018-06-14 18:21:46,133  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:46,143  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:46,150  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration]
2018-06-14 18:21:46,164  INFO beddedDataSourceBeanFactoryPostProcessor: 106 - Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 18:21:46,164  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 18:21:46,226  INFO asource.embedded.EmbeddedDatabaseFactory: 185 - Starting embedded database: url='jdbc:hsqldb:mem:24284d45-be07-43ff-8ac6-c6307c6466a5', username='sa'
2018-06-14 18:21:46,339  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Hibernate: create table contiguous_id_blocks (id bigint generated by default as identity (start with 1), application_instance_id varchar(255) not null, category_id varchar(255) not null, first_value bigint not null, last_committed bigint not null, last_value bigint not null, primary key (id))
Hibernate: create index CATEGORY_INDEX on contiguous_id_blocks (category_id)
2018-06-14 18:21:46,368  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:46,400  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:46,481 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? and contiguous0_.application_instance_id=? order by contiguous0_.last_value asc
2018-06-14 18:21:46,551  INFO ccession.pipeline.io.AccessionWriterTest:  57 - Started AccessionWriterTest in 0.539 seconds (JVM running for 7.644)
2018-06-14 18:21:46,555  INFO t.context.transaction.TransactionContext: 105 - Began transaction (1) for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@444c0f9a, testMethod = shouldThrowIfSomeVariantsWereNotAccessioned@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7c07ff]; rollback [true]
2018-06-14 18:21:46,558  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:46,558  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
2018-06-14 18:21:46,560 ERROR va.accession.pipeline.io.AccessionWriter:  72 - A problem occurred while accessioning a chunk. Total num variants = 1, distinct = 1, duplicate = 0, accessioned = 0, not accessioned = 1
2018-06-14 18:21:46,561 ERROR va.accession.pipeline.io.AccessionWriter:  76 - The non-accessioned variants are: [SubmittedVariant{assemblyAccession='assembly', taxonomyAccession=3880, projectAccession='project', contig='contig', start=100, referenceAllele='A', alternateAllele='T', supportedByEvidence=false, createdDate=null}]
2018-06-14 18:21:46,563  INFO t.context.transaction.TransactionContext: 139 - Rolled back transaction for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@444c0f9a, testMethod = shouldThrowIfSomeVariantsWereNotAccessioned@AccessionWriterTest, testException = java.lang.IllegalStateException: A problem occurred while accessioning a chunk. See log for details., mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2018-06-14 18:21:46,569  INFO t.context.transaction.TransactionContext: 105 - Began transaction (1) for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@7d5d77a6, testMethod = shouldThrowIfSomeVariantsWereNotAccessionedInAChunkWithRepeatedVariants@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7c07ff]; rollback [true]
2018-06-14 18:21:46,571  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:46,571  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
2018-06-14 18:21:46,571  WARN va.accession.pipeline.io.AccessionWriter:  64 - A variant chunk contains 2 repeated variants. This is not an error, but please check it's expected.
2018-06-14 18:21:46,571 ERROR va.accession.pipeline.io.AccessionWriter:  72 - A problem occurred while accessioning a chunk. Total num variants = 4, distinct = 2, duplicate = 2, accessioned = 1, not accessioned = 1
2018-06-14 18:21:46,572 ERROR va.accession.pipeline.io.AccessionWriter:  76 - The non-accessioned variants are: [SubmittedVariant{assemblyAccession='assembly', taxonomyAccession=3880, projectAccession='project', contig='contig', start=100, referenceAllele='reference', alternateAllele='alternate', supportedByEvidence=false, createdDate=null}]
2018-06-14 18:21:46,573  INFO t.context.transaction.TransactionContext: 139 - Rolled back transaction for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@7d5d77a6, testMethod = shouldThrowIfSomeVariantsWereNotAccessionedInAChunkWithRepeatedVariants@AccessionWriterTest, testException = java.lang.IllegalStateException: A problem occurred while accessioning a chunk. See log for details., mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2018-06-14 18:21:46,576  INFO t.context.transaction.TransactionContext: 105 - Began transaction (1) for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@71b7e9c8, testMethod = saveTwoAccession@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@c7c07ff]; rollback [true]
2018-06-14 18:21:46,577  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:46,578  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? order by contiguous0_.last_value desc limit ?
Hibernate: insert into contiguous_id_blocks (id, application_instance_id, category_id, first_value, last_committed, last_value) values (default, ?, ?, ?, ?, ?)
2018-06-14 18:21:46,597  INFO t.context.transaction.TransactionContext: 139 - Rolled back transaction for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@71b7e9c8, testMethod = saveTwoAccession@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
2018-06-14 18:21:46,598  INFO ation.AnnotationConfigApplicationContext: 984 - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@7944c323: startup date [Thu Jun 14 18:21:46 CEST 2018]; root of context hierarchy
2018-06-14 18:21:46,599  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::       (v1.5.10.RELEASE)

2018-06-14 18:21:46,633  INFO ccession.pipeline.io.AccessionWriterTest:  48 - Starting AccessionWriterTest on spirals-vortex.lille.inria.fr with PID 600 (started by root in /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-pipeline)
2018-06-14 18:21:46,634 DEBUG ccession.pipeline.io.AccessionWriterTest:  51 - Running with Spring Boot v1.5.10.RELEASE, Spring v4.3.14.RELEASE
2018-06-14 18:21:46,634  INFO ccession.pipeline.io.AccessionWriterTest: 593 - No active profile set, falling back to default profiles: default
2018-06-14 18:21:46,636  INFO ation.AnnotationConfigApplicationContext: 583 - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@1ea19c97: startup date [Thu Jun 14 18:21:46 CEST 2018]; root of context hierarchy
2018-06-14 18:21:46,698  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:46,708  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:46,712  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration]
2018-06-14 18:21:46,721  INFO beddedDataSourceBeanFactoryPostProcessor: 106 - Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 18:21:46,721  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Tomcat.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 18:21:46,759  INFO asource.embedded.EmbeddedDatabaseFactory: 185 - Starting embedded database: url='jdbc:hsqldb:mem:d08a706d-4f7a-4d0e-a225-cf082b95b83e', username='sa'
2018-06-14 18:21:46,836  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Hibernate: create table contiguous_id_blocks (id bigint generated by default as identity (start with 1), application_instance_id varchar(255) not null, category_id varchar(255) not null, first_value bigint not null, last_committed bigint not null, last_value bigint not null, primary key (id))
Hibernate: create index CATEGORY_INDEX on contiguous_id_blocks (category_id)
2018-06-14 18:21:46,861  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:46,893  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:46,972 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? and contiguous0_.application_instance_id=? order by contiguous0_.last_value asc
2018-06-14 18:21:47,040  INFO ccession.pipeline.io.AccessionWriterTest:  57 - Started AccessionWriterTest in 0.436 seconds (JVM running for 8.134)
2018-06-14 18:21:47,045  INFO t.context.transaction.TransactionContext: 105 - Began transaction (1) for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@41433530, testMethod = shouldSortReport@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@3dc4ed6f]; rollback [true]
2018-06-14 18:21:47,047  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:47,047  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? order by contiguous0_.last_value desc limit ?
Hibernate: insert into contiguous_id_blocks (id, application_instance_id, category_id, first_value, last_committed, last_value) values (default, ?, ?, ?, ?, ?)
2018-06-14 18:21:47,069  INFO t.context.transaction.TransactionContext: 139 - Rolled back transaction for test context [DefaultTestContext@60deefed testClass = AccessionWriterTest, testInstance = uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest@41433530, testMethod = shouldSortReport@AccessionWriterTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@6a8a551e testClass = AccessionWriterTest, locations = '{}', classes = '{class uk.ac.ebi.eva.accession.core.configuration.SubmittedVariantAccessioningConfiguration, class uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{classpath:accession-pipeline-test.properties}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@3cc9632d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2a32de6c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7f1302d6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4c1d9d4b, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1f6b345b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@63a65a25], contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]].
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.494 sec - in uk.ac.ebi.eva.accession.pipeline.io.AccessionWriterTest
2018-06-14 18:21:47,073  INFO ation.AnnotationConfigApplicationContext: 984 - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@1ea19c97: startup date [Thu Jun 14 18:21:46 CEST 2018]; root of context hierarchy
2018-06-14 18:21:47,090  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Running uk.ac.ebi.eva.accession.pipeline.io.AccessionReportWriterTest
2018-06-14 18:21:47,807  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:47,812  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
2018-06-14 18:21:47,817  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:47,818  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
2018-06-14 18:21:47,821  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:47,821  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
2018-06-14 18:21:47,824  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:47,824  WARN ession.pipeline.io.AccessionReportWriter:  72 - According to the job's execution context, the accession report should not exist, but it does exist. The AccessionReportWriter will append to the file, but it's possible that there will be 2 non-contiguous header sections in the report VCF. This can happen if the job execution context was not properly retrieved from the job repository.
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.246 sec - in uk.ac.ebi.eva.accession.pipeline.io.AccessionReportWriterTest
Running uk.ac.ebi.eva.accession.pipeline.io.FastaSequenceReaderTest
2018-06-14 18:21:48,448  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:48,462  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:48,462  INFO ccession.pipeline.io.FastaSequenceReader:  58 - Sequence index file not found - creating one...
Tests run: 11, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.309 sec - in uk.ac.ebi.eva.accession.pipeline.io.FastaSequenceReaderTest
2018-06-14 18:21:49,046  INFO t.support.DefaultTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
2018-06-14 18:21:49,069  INFO t.support.DefaultTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@258e2e41, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3d299e3, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@55a561cf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3b938003, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6f3b5d16, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78b1cc93, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6646153, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@21507a04, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@143640d5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6295d394, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@475e586c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@657c8ad9]
Running uk.ac.ebi.eva.accession.pipeline.configuration.jobs.CreateSubsnpAccessionsJobConfigurationTest
2018-06-14 18:21:49,084  INFO t.support.DefaultTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
2018-06-14 18:21:49,084  INFO t.support.DefaultTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1d082e88, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@60704c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6b19b79, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2a32de6c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7692d9cc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@75f32542, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7f1302d6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@43ee72e6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@23529fee, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4fe767f3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2805c96b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@184cf7cf]
2018-06-14 18:21:49,190  INFO ontext.support.GenericApplicationContext: 583 - Refreshing org.springframework.context.support.GenericApplicationContext@159f197: startup date [Thu Jun 14 18:21:49 CEST 2018]; root of context hierarchy
2018-06-14 18:21:49,681  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:49,755  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:49,775  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration]
2018-06-14 18:21:50,102  WARN xt.annotation.ConfigurationClassEnhancer: 350 - @Bean method ScopeConfiguration.stepScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
2018-06-14 18:21:50,119  WARN xt.annotation.ConfigurationClassEnhancer: 350 - @Bean method ScopeConfiguration.jobScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
2018-06-14 18:21:51,338  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Hibernate: create table contiguous_id_blocks (id bigint generated by default as identity (start with 1), application_instance_id varchar(255) not null, category_id varchar(255) not null, first_value bigint not null, last_committed bigint not null, last_value bigint not null, primary key (id))
Hibernate: create index CATEGORY_INDEX on contiguous_id_blocks (category_id)
2018-06-14 18:21:52,120  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:52,551  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:53,140 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
2018-06-14 18:21:53,179  WARN autoconfigure.batch.BasicBatchConfigurer: 150 - JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2018-06-14 18:21:53,181  INFO ository.support.JobRepositoryFactoryBean: 183 - No database type set, using meta data indicating: HSQL
2018-06-14 18:21:53,294  INFO ch.core.launch.support.SimpleJobLauncher: 195 - No TaskExecutor has been set, defaulting to synchronous executor.
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? and contiguous0_.application_instance_id=? order by contiguous0_.last_value asc
2018-06-14 18:21:53,551  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:53,558  INFO ccession.pipeline.io.FastaSequenceReader:  58 - Sequence index file not found - creating one...
2018-06-14 18:21:53,613  WARN ore.listener.AbstractListenerFactoryBean: 222 - org.springframework.batch.item.ItemStreamReader is an interface.  The implementing class will not be queried for annotation based listener configurations.  If using @StepScope on a @Bean method, be sure to return the implementing class so listener annotations can be used.
2018-06-14 18:21:53,625  WARN ore.listener.AbstractListenerFactoryBean: 222 - org.springframework.batch.item.ItemStreamReader is an interface.  The implementing class will not be queried for annotation based listener configurations.  If using @StepScope on a @Bean method, be sure to return the implementing class so listener annotations can be used.
2018-06-14 18:21:53,729  WARN ontext.support.GenericApplicationContext: 551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
2018-06-14 18:21:53,730  WARN ns.factory.support.DisposableBeanAdapter: 374 - Invocation of destroy method 'close' failed on bean with name 'ACCESSION_WRITER': java.lang.NullPointerException
2018-06-14 18:21:53,730  WARN ns.factory.support.DisposableBeanAdapter: 374 - Invocation of destroy method 'close' failed on bean with name 'accessionReportWriter': java.lang.NullPointerException
2018-06-14 18:21:53,731  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
2018-06-14 18:21:53,737 ERROR ramework.test.context.TestContextManager: 234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6b19b79] to prepare test instance [uk.ac.ebi.eva.accession.pipeline.configuration.jobs.CreateSubsnpAccessionsJobConfigurationTest@7d1cb59f]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 26 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:831)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1086)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	... 42 common frames omitted
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.672 sec <<< FAILURE! - in uk.ac.ebi.eva.accession.pipeline.configuration.jobs.CreateSubsnpAccessionsJobConfigurationTest
executeJob(uk.ac.ebi.eva.accession.pipeline.configuration.jobs.CreateSubsnpAccessionsJobConfigurationTest)  Time elapsed: 0.008 sec  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:831)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1086)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

2018-06-14 18:21:54,534  INFO t.support.DefaultTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
2018-06-14 18:21:54,555  INFO t.support.DefaultTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@258e2e41, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3d299e3, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@55a561cf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3b938003, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6f3b5d16, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@78b1cc93, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6646153, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@21507a04, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@143640d5, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6295d394, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@475e586c, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@657c8ad9]
Running uk.ac.ebi.eva.accession.pipeline.configuration.jobs.steps.CreateSubsnpAccessionsStepConfigurationTest
2018-06-14 18:21:54,570  INFO t.support.DefaultTestContextBootstrapper: 248 - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener]
2018-06-14 18:21:54,571  INFO t.support.DefaultTestContextBootstrapper: 174 - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1d082e88, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@60704c, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6b19b79, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2a32de6c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7692d9cc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@75f32542, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7f1302d6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@43ee72e6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@23529fee, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4fe767f3, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2805c96b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@184cf7cf]
2018-06-14 18:21:54,693  INFO ontext.support.GenericApplicationContext: 583 - Refreshing org.springframework.context.support.GenericApplicationContext@159f197: startup date [Thu Jun 14 18:21:54 CEST 2018]; root of context hierarchy
2018-06-14 18:21:55,183  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:55,260  INFO y.config.RepositoryConfigurationDelegate: 165 - Multiple Spring Data modules found, entering strict repository configuration mode!
2018-06-14 18:21:55,281  INFO ctory.support.DefaultListableBeanFactory: 828 - Overriding bean definition for bean 'mongoClient' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=mongoTestConfiguration; factoryMethodName=mongoClient; initMethodName=null; destroyMethodName=(inferred); defined in uk.ac.ebi.eva.accession.pipeline.test.MongoTestConfiguration]
2018-06-14 18:21:55,620  WARN xt.annotation.ConfigurationClassEnhancer: 350 - @Bean method ScopeConfiguration.stepScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
2018-06-14 18:21:55,639  WARN xt.annotation.ConfigurationClassEnhancer: 350 - @Bean method ScopeConfiguration.jobScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
2018-06-14 18:21:56,775  INFO a.LocalContainerEntityManagerFactoryBean: 356 - Building JPA container EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
Hibernate: create table contiguous_id_blocks (id bigint generated by default as identity (start with 1), application_instance_id varchar(255) not null, category_id varchar(255) not null, first_value bigint not null, last_committed bigint not null, last_value bigint not null, primary key (id))
Hibernate: create index CATEGORY_INDEX on contiguous_id_blocks (category_id)
2018-06-14 18:21:57,488  INFO a.LocalContainerEntityManagerFactoryBean: 392 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 18:21:57,900  WARN ore.mapping.BasicMongoPersistentProperty:  85 - Customizing field name for id property not allowed! Custom name will not be considered!
2018-06-14 18:21:58,426 DEBUG ubmittedVariantAccessioningConfiguration:  69 - Using application properties: ApplicationProperties{instanceId='test-instance-01', variant=VariantAccessioningProperties{categoryId='test-ss', blockSize=1000}}
2018-06-14 18:21:58,462  WARN autoconfigure.batch.BasicBatchConfigurer: 150 - JPA does not support custom isolation levels, so locks may not be taken when launching Jobs
2018-06-14 18:21:58,464  INFO ository.support.JobRepositoryFactoryBean: 183 - No database type set, using meta data indicating: HSQL
2018-06-14 18:21:58,569  INFO ch.core.launch.support.SimpleJobLauncher: 195 - No TaskExecutor has been set, defaulting to synchronous executor.
Hibernate: select contiguous0_.id as id1_0_, contiguous0_.application_instance_id as applicat2_0_, contiguous0_.category_id as category3_0_, contiguous0_.first_value as first_va4_0_, contiguous0_.last_committed as last_com5_0_, contiguous0_.last_value as last_val6_0_ from contiguous_id_blocks contiguous0_ where contiguous0_.category_id=? and contiguous0_.application_instance_id=? order by contiguous0_.last_value asc
2018-06-14 18:21:58,828  INFO ccession.pipeline.io.FastaSequenceReader:  54 - Sequence dictionary file not found - creating one...
2018-06-14 18:21:58,871  WARN ore.listener.AbstractListenerFactoryBean: 222 - org.springframework.batch.item.ItemStreamReader is an interface.  The implementing class will not be queried for annotation based listener configurations.  If using @StepScope on a @Bean method, be sure to return the implementing class so listener annotations can be used.
2018-06-14 18:21:58,882  WARN ore.listener.AbstractListenerFactoryBean: 222 - org.springframework.batch.item.ItemStreamReader is an interface.  The implementing class will not be queried for annotation based listener configurations.  If using @StepScope on a @Bean method, be sure to return the implementing class so listener annotations can be used.
2018-06-14 18:21:58,975  WARN ontext.support.GenericApplicationContext: 551 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
2018-06-14 18:21:58,976  WARN ns.factory.support.DisposableBeanAdapter: 374 - Invocation of destroy method 'close' failed on bean with name 'ACCESSION_WRITER': java.lang.NullPointerException
2018-06-14 18:21:58,976  WARN ns.factory.support.DisposableBeanAdapter: 374 - Invocation of destroy method 'close' failed on bean with name 'accessionReportWriter': java.lang.NullPointerException
2018-06-14 18:21:58,977  INFO a.LocalContainerEntityManagerFactoryBean: 563 - Closing JPA EntityManagerFactory for persistence unit 'default'
Hibernate: drop table contiguous_id_blocks if exists
2018-06-14 18:21:58,983 ERROR ramework.test.context.TestContextManager: 234 - Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6b19b79] to prepare test instance [uk.ac.ebi.eva.accession.pipeline.configuration.jobs.steps.CreateSubsnpAccessionsStepConfigurationTest@2c2a903f]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 26 common frames omitted
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:831)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1086)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	... 42 common frames omitted
Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.432 sec <<< FAILURE! - in uk.ac.ebi.eva.accession.pipeline.configuration.jobs.steps.CreateSubsnpAccessionsStepConfigurationTest
executeStep(uk.ac.ebi.eva.accession.pipeline.configuration.jobs.steps.CreateSubsnpAccessionsStepConfigurationTest)  Time elapsed: 0.007 sec  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'uk.ac.ebi.eva.accession.core.configuration.MongoConfiguration': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:372)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'mongodb.read-preference' in value "${mongodb.read-preference}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:236)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:831)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1086)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:106)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:249)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

Running uk.ac.ebi.eva.accession.pipeline.policies.InvalidVariantSkipPolicyTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec - in uk.ac.ebi.eva.accession.pipeline.policies.InvalidVariantSkipPolicyTest

Results :

Tests in error: 
  CreateSubsnpAccessionsJobConfigurationTest.executeJob  IllegalState Failed to...
  CreateSubsnpAccessionsStepConfigurationTest.executeStep  IllegalState Failed ...

Tests run: 57, Failures: 0, Errors: 2, Skipped: 1

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] eva-accession ...................................... SUCCESS [  0.003 s]
[INFO] eva-accession-core ................................. SUCCESS [  6.445 s]
[INFO] eva-accession-ws ................................... SUCCESS [  9.347 s]
[INFO] eva-accession-pipeline ............................. FAILURE [ 28.307 s]
[INFO] eva-accession-import ............................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 44.623 s
[INFO] Finished at: 2018-06-14T18:21:59+02:00
[INFO] Final Memory: 36M/949M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (default-test) on project eva-accession-pipeline: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/EBIvariation/eva-accession/392332954/eva-accession-pipeline/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :eva-accession-pipeline
