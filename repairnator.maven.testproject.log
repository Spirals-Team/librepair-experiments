[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building dataverse 4.6.2
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-dependency-plugin:2.6:copy (default) @ dataverse ---
[INFO] 
[INFO] --- jacoco-maven-plugin:0.7.5.201505241946:prepare-agent (jacoco-initialize) @ dataverse ---
[INFO] argLine set to -javaagent:/root/./workspace/IQSS/dataverse/246242856/.m2/org/jacoco/org.jacoco.agent/0.7.5.201505241946/org.jacoco.agent-0.7.5.201505241946-runtime.jar=destfile=/root/workspace/IQSS/dataverse/246242856/target/jacoco.exec
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ dataverse ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 14 resources
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ dataverse ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 628 source files to /root/workspace/IQSS/dataverse/246242856/target/classes
[WARNING] /root/workspace/IQSS/dataverse/246242856/src/main/java/edu/harvard/iq/dataverse/PermissionServiceBean.java: Some input files use or override a deprecated API.
[WARNING] /root/workspace/IQSS/dataverse/246242856/src/main/java/edu/harvard/iq/dataverse/PermissionServiceBean.java: Recompile with -Xlint:deprecation for details.
[WARNING] /root/workspace/IQSS/dataverse/246242856/src/main/java/edu/harvard/iq/dataverse/DataFile.java: Some input files use unchecked or unsafe operations.
[WARNING] /root/workspace/IQSS/dataverse/246242856/src/main/java/edu/harvard/iq/dataverse/DataFile.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ dataverse ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 12 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ dataverse ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 98 source files to /root/workspace/IQSS/dataverse/246242856/target/test-classes
[WARNING] /root/workspace/IQSS/dataverse/246242856/src/test/java/edu/harvard/iq/dataverse/util/StringUtilTest.java: /root/workspace/IQSS/dataverse/246242856/src/test/java/edu/harvard/iq/dataverse/util/StringUtilTest.java uses or overrides a deprecated API.
[WARNING] /root/workspace/IQSS/dataverse/246242856/src/test/java/edu/harvard/iq/dataverse/util/StringUtilTest.java: Recompile with -Xlint:deprecation for details.
[WARNING] /root/workspace/IQSS/dataverse/246242856/src/test/java/edu/harvard/iq/dataverse/mocks/MocksFactory.java: Some input files use unchecked or unsafe operations.
[WARNING] /root/workspace/IQSS/dataverse/246242856/src/test/java/edu/harvard/iq/dataverse/mocks/MocksFactory.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ dataverse ---
[INFO] Surefire report directory: /root/workspace/IQSS/dataverse/246242856/target/surefire-reports
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.12.4/surefire-junit4-2.12.4.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.12.4/surefire-junit4-2.12.4.pom (3 KB at 5.1 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.12.4/surefire-providers-2.12.4.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.12.4/surefire-providers-2.12.4.pom (3 KB at 91.7 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.12.4/surefire-junit4-2.12.4.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.12.4/surefire-junit4-2.12.4.jar (37 KB at 632.6 KB/sec)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running edu.harvard.iq.dataverse.api.LazyRefTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.234 sec
Running edu.harvard.iq.dataverse.api.dto.FieldDTOTest
Top
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.476 sec
Running edu.harvard.iq.dataverse.api.AbstractApiBeanTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.886 sec
Running edu.harvard.iq.dataverse.branding.BrandingUtilTest
testGetInstallationBrandName
testGetSupportTeamName
testGetSupportEmailAddress
testWelcomeInAppNotification
message: Welcome to LibraScholar! Get started by adding or finding data. Have questions? Check out the <a href="http://guides.dataverse.org/en/4.3/user/index.html">User Guide</a>. Want to test out Dataverse features? Use our <a href="https://demo.dataverse.org">Demo Site</a>. Also, check for your welcome email to verify your address.
testWelcomeEmail
message: Welcome to LibraScholar! Get started by adding or finding data. Have questions? Check out the User Guide at http://guides.librascholar.edu/en/4.3/user or contact LibraScholar Support at support@librascholar.edu for assistance.
testEmailClosing
message: 

Thank you,
LibraScholar
testEmailSubject
message: LibraScholar: Your account has been created
testGetContactHeader
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.142 sec
Running edu.harvard.iq.dataverse.worldmapauth.WorldMapTokenTest
------------------------------------------------------------
WorldMapTokenTest!
------------------------------------------------------------
------------------------------------------------------------
testTokenTimes
------------------------------------------------------------
time limit seconds: 1800
time limit seconds (2): 60
token time limit (minutes): 30
Did token expire in 10 minutes? (should be no)
Did token expire? (automatically check current time)
Did token expire at 30 minutes? (should be no)
Did token expire in 31 minutes? (should be yes)
Did token expire in 45 minutes? (should be yes)
token time limit (minutes): 10 minutes
Did token expire if null sent? (should be yes)
Refresh token (but fails b/c sending null automatically expires it
Did token expire in 5 minutes? (should be no)
Did token expire? (auto-check current time)
------------------------------------------------------------
Get a new Token
------------------------------------------------------------
Did token expire? (automatically check current time)
Manually expire token: setHasExpired(true)
Did token expire in 1 minute? (should be yes--b/c manually expired)
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.056 sec
Running edu.harvard.iq.dataverse.confirmemail.ConfirmEmailUtilTest
Friendly expiration timestamp / measurement test
1440 Minutes: 24 hours
60 Minutes: 1 hour
30 Minutes: 30 minutes
90 Minutes: 1.5 hours
2880 minutes: 48 hours
150 minutes: 2.5 hours
165 minutes: 2.75 hours
1 Minute: 1 minute


Grandfathered account timestamp test
Grandfathered Time (y2k): 2000-01-01 00:00:00.0

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.012 sec
Running edu.harvard.iq.dataverse.datasetutility.OptionalFileParamsTest
-------------------------------
test_01_jsonDescription
-------------------------------
-------------------------------
jsonData: {"description": "A new file"}
-------------------------------
-------------------------------
test_02_jsonDescriptionNumeric
-------------------------------
-------------------------------
jsonData: {"description": 250 }
-------------------------------
-------------------------------
test_03_jsonNull
-------------------------------
-------------------------------
test_04_jsonTagsGood
-------------------------------
-------------------------------
jsonData: {"description": "A new file", "categories": ["dog", "cat", "mouse"]}
-------------------------------
-------------------------------
test_05_jsonTabularTagsGood
-------------------------------
-------------------------------
jsonData: {"dataFileTags": ["Survey", "Event", "Panel"], "description": "A new file"}
-------------------------------
-------------------------------
test_06_jsonTabularTagsBad
-------------------------------
-------------------------------
jsonData: {"dataFileTags": ["Survey", "Event", "xPanel"], "description": "A new file"}
-------------------------------
-------------------------------
errMsg: Not a valid Tabular Data Tag: 
-------------------------------
-------------------------------
test_07_regularInstanceGood
-------------------------------
-------------------------------
test_08_regularInstanceGoodWithNulls
-------------------------------
-------------------------------
test_08_regularInstanceGoodWithNulls
-------------------------------
-------------------------------
jsonData: {"forceReplace": "unused within OptionalFileParams", "oldFileId": "unused within OptionalFileParams", "description": null, "unusedParam1": "haha", "categories": []}
-------------------------------
-------------------------------
test_10_emptyString
-------------------------------
-------------------------------
jsonData: 
-------------------------------
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.176 sec
Running edu.harvard.iq.dataverse.passwordreset.PasswordResetDataTest
newTokenNotExpired
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.02 sec
Running edu.harvard.iq.dataverse.export.DDIExporterTest
<?xml version="1.0" encoding="UTF-8"?>
<codeBook xmlns="ddi:codebook:2_5" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="ddi:codebook:2_5 http://www.ddialliance.org/Specification/DDI-Codebook/2.5/XMLSchema/codebook.xsd" version="2.5">
  <docDscr>
    <citation>
      <titlStmt>
        <titl>Darwin's Finches</titl>
        <IDNo>null:null/null</IDNo>
      </titlStmt>
      <distStmt/>
      <verStmt source="DVN">
        <version date="2016-09-29" type="RELEASED">1</version>
      </verStmt>
      <biblCit>Finch, Fiona, 2016, "Darwin's Finches", http://dx.doi.org/10.5072/FK2/G2VPE7, Root Dataverse, V1</biblCit>
    </citation>
  </docDscr>
  <stdyDscr>
    <citation>
      <titlStmt>
        <titl>Darwin's Finches</titl>
        <IDNo>null:null/null</IDNo>
      </titlStmt>
      <rspStmt>
        <AuthEnty affiliation="Birds Inc.">Finch, Fiona</AuthEnty>
      </rspStmt>
      <prodStmt/>
      <distStmt/>
    </citation>
    <stdyInfo>
      <subject>
        <keyword>Medicine, Health and Life Sciences</keyword>
      </subject>
      <abstract>Darwin's finches (also known as the Galápagos finches) are a group of about fifteen species of passerine birds.</abstract>
      <sumDscr/>
      <contact email="finch@mailinator.com">Finch, Fiona</contact>
    </stdyInfo>
    <method>
      <dataColl/>
      <anlyInfo/>
    </method>
  </stdyDscr>
</codeBook>

<?xml version="1.0" encoding="UTF-8"?>
<codeBook xmlns="ddi:codebook:2_5" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="ddi:codebook:2_5 http://www.ddialliance.org/Specification/DDI-Codebook/2.5/XMLSchema/codebook.xsd" version="2.5">
  <docDscr>
    <citation>
      <titlStmt>
        <titl>Darwin's Finches</titl>
        <IDNo>null:null/null</IDNo>
      </titlStmt>
      <distStmt/>
      <verStmt source="DVN">
        <version date="2016-09-29" type="RELEASED">1</version>
      </verStmt>
      <biblCit>Finch, Fiona, 2016, "Darwin's Finches", http://dx.doi.org/10.5072/FK2/G2VPE7, Root Dataverse, V1</biblCit>
    </citation>
  </docDscr>
  <stdyDscr>
    <citation>
      <titlStmt>
        <titl>Darwin's Finches</titl>
        <IDNo>null:null/null</IDNo>
      </titlStmt>
      <rspStmt>
        <AuthEnty affiliation="Birds Inc.">Finch, Fiona</AuthEnty>
      </rspStmt>
      <prodStmt/>
      <distStmt/>
    </citation>
    <stdyInfo>
      <subject>
        <keyword>Medicine, Health and Life Sciences</keyword>
      </subject>
      <abstract>Darwin's finches (also known as the Galápagos finches) are a group of about fifteen species of passerine birds.</abstract>
      <sumDscr/>
      <contact>Finch, Fiona</contact>
    </stdyInfo>
    <method>
      <dataColl/>
      <anlyInfo/>
    </method>
  </stdyDscr>
</codeBook>

exportDataset
out: 
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.006 sec
Running edu.harvard.iq.dataverse.export.ddi.DdiExportUtilTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.182 sec
Running edu.harvard.iq.dataverse.export.dublincore.DublinCoreExportUtilTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.1 sec
Running edu.harvard.iq.dataverse.mydata.PagerTest
getNumResults
-------------------------------
Test: 102 results, 10 per page, page 1
-------------------------------
page list: [1, 2, 3, 4, 5]
-------------------------------
Test: 102 results, 10 per page, page 6
-------------------------------
page list: [4, 5, 6, 7, 8]
-------------------------------
Test: 100 results, 10 per page, page 9
-------------------------------
page list: [6, 7, 8, 9, 10]
-------------------------------
Test: 100 results, 10 per page, page 10
-------------------------------
page list: [6, 7, 8, 9, 10]
-------------------------------
Test: 102 results, 10 per page, page 9
-------------------------------
page list: [7, 8, 9, 10, 11]
getNumResults
-------------------------------
page list: null
-------------------------------
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running edu.harvard.iq.dataverse.mydata.SolrQueryFormatterTest
-------------------------------
Set group size to 10--it's usually, 1,000
-------------------------------
-------------------------------
List of 10 ids from 1, 10
-------------------------------
-------------------------------
query clause: (entityId:(1 2 3 4 5 6 7 8 9 10))
-------------------------------
-------------------------------
List of 11 ids from 1, 11
-------------------------------
-------------------------------
query clause: (entityId:(1 2 3 4 5 6 7 8 9 10)) OR (entityId:(11))
-------------------------------
-------------------------------
List of 21 ids from 1, 21
-------------------------------
-------------------------------
query clause: (entityId:(1 2 3 4 5 6 7 8 9 10)) OR (entityId:(11 12 13 14 15 16 17 18 19 20)) OR (entityId:(21))
-------------------------------
-------------------------------
List of ids is empty
-------------------------------
-------------------------------
query clause: null
-------------------------------
-------------------------------
List of ids from 1 to 11
-------------------------------
-------------------------------
Set to groups of 3
-------------------------------
-------------------------------
query clause: (parentId:(1 2 3)) OR (parentId:(4 5 6)) OR (parentId:(7 8 9)) OR (parentId:(10 11))
-------------------------------
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.021 sec
Running edu.harvard.iq.dataverse.search.SolrSearchResultTest
actual: {"type":"dataverse"}
expect: {"type":"dataverse"}
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 sec
Running edu.harvard.iq.dataverse.search.SearchUtilTest
sanitizeQuery
SolrInputDocument(fields: [id=dataset_12345_permission, definitionPointDocId=dataset_12345, definitionPointDvObjectId=12345, discoverableBy=[group_public]])
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.038 sec
Running edu.harvard.iq.dataverse.search.IndexUtilTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running edu.harvard.iq.dataverse.search.SearchFilesServiceBeanTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running edu.harvard.iq.dataverse.dataset.DatasetUtilTest
persistDatasetLogoToDiskAndCreateThumbnail
getThumbnailAsInputStream
isDatasetLogoPresent
getThumbnailCandidates
testGetThumbnailNullDataset
testGetThumbnailUseGeneric
testGetThumbnailRestricted
testGetThumbnailNullDatasetNullDatasetVersion
deleteDatasetLogo
getDefaultThumbnailFile
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec
Running edu.harvard.iq.dataverse.authorization.AuthenticatedUserDisplayInfoTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running edu.harvard.iq.dataverse.authorization.providers.shib.ShibUtilTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.489 sec
Running edu.harvard.iq.dataverse.authorization.providers.builtin.BuiltinAuthenticationProviderTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.1 sec
Running edu.harvard.iq.dataverse.authorization.providers.oauth2.OAuth2AuthenticationProviderFactoryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec
Running edu.harvard.iq.dataverse.authorization.providers.oauth2.impl.GoogleOAuth2APTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running edu.harvard.iq.dataverse.authorization.providers.oauth2.impl.GitHubOAuth2APTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running edu.harvard.iq.dataverse.authorization.providers.oauth2.impl.OrcidOAuth2APTest
withEmailResponse = <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<orcid-message xmlns="http://www.orcid.org/ns/orcid">
    <message-version>1.2</message-version>
    <orcid-profile type="user">
        <orcid-identifier>
            <uri>http://sandbox.orcid.org/0000-0002-3283-0661</uri>
            <path>0000-0002-3283-0661</path>
            <host>sandbox.orcid.org</host>
        </orcid-identifier>
        <orcid-preferences>
            <locale>en</locale>
        </orcid-preferences>
        <orcid-history>
            <creation-method>Member-referred</creation-method>
            <submission-date>2016-10-12T21:59:25.760Z</submission-date>
            <last-modified-date>2016-10-16T21:11:33.032Z</last-modified-date>
            <claimed>true</claimed>
            <verified-email>false</verified-email>
            <verified-primary-email>false</verified-primary-email>
        </orcid-history>
        <orcid-bio>
            <personal-details>
                <given-names>Pete K.</given-names>
                <family-name>Dataversky</family-name>
            </personal-details>
            <contact-details>                <email primary="false" current="true" verified="false" visibility="limited" source="0000-0002-3283-0661">pete2@mailinator.com</email>                <email primary="true" current="true" verified="false" visibility="public" source="0000-0002-3283-0661">pete@mailinator.com</email>            </contact-details>        </orcid-bio>
    </orcid-profile>
</orcid-message>
noEmailResponse = <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<orcid-message xmlns="http://www.orcid.org/ns/orcid">
    <message-version>1.2</message-version>
    <orcid-profile type="user">
        <orcid-identifier>
            <uri>http://sandbox.orcid.org/0000-0002-3283-0661</uri>
            <path>0000-0002-3283-0661</path>
            <host>sandbox.orcid.org</host>
        </orcid-identifier>
        <orcid-preferences>
            <locale>en</locale>
        </orcid-preferences>
        <orcid-history>
            <creation-method>Member-referred</creation-method>
            <submission-date>2016-10-12T21:59:25.760Z</submission-date>
            <last-modified-date>2016-10-16T21:11:33.032Z</last-modified-date>
            <claimed>true</claimed>
            <verified-email>false</verified-email>
            <verified-primary-email>false</verified-primary-email>
        </orcid-history>
        <orcid-bio>
            <personal-details>
                <given-names>Pete K.</given-names>
                <family-name>Dataversky</family-name>
            </personal-details>
                    </orcid-bio>
    </orcid-profile>
</orcid-message>
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.109 sec
Running edu.harvard.iq.dataverse.authorization.AuthUtilTest
isNonLocalLoginEnabled
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.013 sec
Running edu.harvard.iq.dataverse.authorization.groups.GroupUtilTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running edu.harvard.iq.dataverse.authorization.groups.impl.explicit.ExplicitGroupTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.029 sec
Running edu.harvard.iq.dataverse.authorization.groups.impl.ipaddress.IpGroupTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running edu.harvard.iq.dataverse.authorization.groups.impl.ipaddress.ip.IpAddressTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec
Running edu.harvard.iq.dataverse.authorization.groups.impl.ipaddress.ip.IPv6AddressTest
adr = 0:0:0:0:0:0:0:7334
adr = 0:0:0:0:0:0:0:0
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.015 sec
Running edu.harvard.iq.dataverse.authorization.groups.impl.ipaddress.ip.IPv4AddressTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.026 sec
Running edu.harvard.iq.dataverse.authorization.groups.impl.ipaddress.ip.IpAddressRangeTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running edu.harvard.iq.dataverse.authorization.groups.GroupServiceBeanTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 sec
Running edu.harvard.iq.dataverse.DataFileServiceBeanTest
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 sec
Running edu.harvard.iq.dataverse.ingest.tabulardata.impl.plugins.csv.CSVFileReaderTest
Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.064 sec <<< FAILURE!
testRead(edu.harvard.iq.dataverse.ingest.tabulardata.impl.plugins.csv.CSVFileReaderTest)  Time elapsed: 0.063 sec  <<< FAILURE!
org.junit.ComparisonFailure: expected:<...06-20	"2017/06/20"	0[]	1	"Nan"	"8234787887...> but was:<...06-20	"2017/06/20"	0[.0]	1	"Nan"	"8234787887...>
	at org.junit.Assert.assertEquals(Assert.java:123)
	at org.junit.Assert.assertEquals(Assert.java:145)
	at edu.harvard.iq.dataverse.ingest.tabulardata.impl.plugins.csv.CSVFileReaderTest.testRead(CSVFileReaderTest.java:64)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:236)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)

Running edu.harvard.iq.dataverse.ingest.IngestableDataCheckerTest
---------------------------
(1) testDTAformat
---------------------------
---------------------------
(1a) Mock a Legit Stata File (application/x-stata)
---------------------------
result 1a: application/x-stata
---------------------------
(1b) File is empty string (non-DTA)
---------------------------
result 1b: null
---------------------------
(1c) File is some random text (non-DTA)
---------------------------
result 1c: null
---------------------------
(1d) Mock a Legit Stata File with STATA_13_HEADER
---------------------------
result 1d: application/x-stata-13
---------------------------
(2) testSAVformat
---------------------------
---------------------------
(2a) Mock a Legit SPSS-SAV File (application/x-spss-sav)
---------------------------
result 2a: application/x-spss-sav
---------------------------
(2b) File is empty string
---------------------------
result 2b: null
---------------------------
(2c) File is non-SAV string
---------------------------
result 2c: null
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.055 sec
Running edu.harvard.iq.dataverse.ingest.IngestUtilTest
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.922 sec
Running edu.harvard.iq.dataverse.GlobalIdTest
testValidDOI
testValidDOI
testInject (weak test)
testUnknownProtocol
testBadIdentifierOnePart
testBadIdentifierTwoParts
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 sec
Running edu.harvard.iq.dataverse.privateurl.PrivateUrlUtilTest
Tests run: 26, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.043 sec
Running edu.harvard.iq.dataverse.util.LruCacheTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
Running edu.harvard.iq.dataverse.util.MarkupCheckerTest
sanitizeBasicHTML
--------------------------------------
safeStr: <script>alert('hi')</script>
sanitized: 
--------------------------------------
safeStr: <map name="rtdcCO"></map>
sanitized: <map name="rtdcCO"></map>
--------------------------------------
safeStr: <area shape="rect" coords="42,437,105,450" href="/dvn/dv/rtdc/faces/study/StudyPage.xhtml?globalId=hdl:10904/10006" title="Galactic Center (DHT02)" alt="Galactic Center (DHT02)">
sanitized: <area shape="rect" coords="42,437,105,450" href="/dvn/dv/rtdc/faces/study/StudyPage.xhtml?globalId=hdl:10904/10006" title="Galactic Center (DHT02)" alt="Galactic Center (DHT02)">
--------------------------------------
safeStr: <map name="rtdcCO"><area shape="rect" coords="42,437,105,450" href="/dvn/dv/rtdc/faces/study/StudyPage.xhtml?globalId=hdl:10904/10006" title="Galactic Center (DHT02)" alt="Galactic Center (DHT02)"></map>
sanitized: <map name="rtdcCO"><area shape="rect" coords="42,437,105,450" href="/dvn/dv/rtdc/faces/study/StudyPage.xhtml?globalId=hdl:10904/10006" title="Galactic Center (DHT02)" alt="Galactic Center (DHT02)"></map>
--------------------------------------
safeStr: <p>hello&lt;/</p>
sanitized: <p>hello&lt;/</p>
--------------------------------------
safeStr: <h1>hello</h1>
sanitized: <h1>hello</h1>
--------------------------------------
safeStr: the 
<a href="http://dataverse.org" rel="nofollow" target="_blank">Dataverse project</a> in a new window
sanitized: the 
<a href="http://dataverse.org" rel="nofollow" target="_blank">Dataverse project</a> in a new window
--------------------------------------
safeStr: the 
<a href="http://dataverse.org" rel="nofollow" target="_blank">Dataverse project</a> in a new window
sanitized: the 
<a href="http://dataverse.org" rel="nofollow" target="_blank">Dataverse project</a> in a new window
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.197 sec
Running edu.harvard.iq.dataverse.util.shapefile.ShapefileHandlerTest
------------------------------------------------------------
(1) testCreateZippedNonShapefile
------------------------------------------------------------
------------------------------------------------------------
/tmp/junit9019358688070335917
------------------------------------------------------------
fname: /tmp/junit9019358688070335917/not-quite-a-shape.zip
Passed!
------------------------------------------------------------
(2) testZippedTwoShapefiles
------------------------------------------------------------
-------------------------------
Hash: file base names + extensions
-------------------------------

Key: [shp_dictionary] Ext List: [xls]
 >>>> Not a shapefile

Key: [notes] Ext List: [__PLACEHOLDER-FOR-BLANK-EXTENSION__]
 >>>> Not a shapefile

Key: [shape1] Ext List: [shp, shx, dbf, prj, fbn, fbx]
 >>>> YES, This is a shapefile!

Key: [shape2] Ext List: [shp, shx, dbf, prj, txt, pdf, __PLACEHOLDER-FOR-BLANK-EXTENSION__]
 >>>> YES, This is a shapefile!

Key: [README] Ext List: [MD]
 >>>> Not a shapefile
------------------------------------------------------------
/tmp/junit4852945863877140884
------------------------------------------------------------
fname: /tmp/junit4852945863877140884/two-shapes.zip
Creating folder: scratch-for-unzip-12345

(1) Basename: shp_dictionary
Extensions: [xls]

(2) Basename: notes
Extensions: [__PLACEHOLDER-FOR-BLANK-EXTENSION__]

(3) Basename: shape1
Extensions: [shp, shx, dbf, prj, fbn, fbx]

(4) Basename: shape2
Extensions: [shp, shx, dbf, prj, txt, pdf, __PLACEHOLDER-FOR-BLANK-EXTENSION__]

(5) Basename: README
Extensions: [MD]
rezipped_filenames: [scratch-for-unzip-12345, notes, shape1.zip, shape2.pdf, shape2.zip, README.MD, shp_dictionary.xls, shape2.txt, shape2]
Passed!
------------------------------------------------------------
(3) testZippedShapefileWithExtraFiles
------------------------------------------------------------
Creating folder: scratch-for-unzip-12345

(1) Basename: shape1
Extensions: [shp, shx, dbf, prj, pdf, cpg, shp.xml]

(2) Basename: README
Extensions: [md]

(3) Basename: shape_notes
Extensions: [txt]
rezipped_filenames: [scratch-for-unzip-12345, shape1.zip, shape1.pdf, README.md, shape_notes.txt]
Passed!
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.056 sec
Running edu.harvard.iq.dataverse.util.FileSortFieldAndOrderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running edu.harvard.iq.dataverse.util.FileUtilTest
Tests run: 15, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.15 sec
Running edu.harvard.iq.dataverse.util.BundleUtilTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running edu.harvard.iq.dataverse.util.json.JsonPrinterTest
json: {
  "fields": [
    {
      "typeName": "datasetContact",
      "multiple": true,
      "typeClass": "compound",
      "value": [
        {
          "datasetContactEmail": {
            "typeName": "datasetContactEmail",
            "multiple": false,
            "typeClass": "primitive",
            "value": "foo@bar.com"
          },
          "datasetContactName": {
            "typeName": "datasetContactName",
            "multiple": false,
            "typeClass": "primitive",
            "value": "Foo Bar"
          },
          "datasetContactAffiliation": {
            "typeName": "datasetContactAffiliation",
            "multiple": false,
            "typeClass": "primitive",
            "value": "Bar University"
          }
        }
      ]
    }
  ]
}
byBlocks: {
  "citation": {
    "fields": [
      {
        "typeName": "datasetContact",
        "multiple": true,
        "typeClass": "compound",
        "value": [
          {
            "datasetContactEmail": {
              "typeName": "datasetContactEmail",
              "multiple": false,
              "typeClass": "primitive",
              "value": "foo@bar.com"
            },
            "datasetContactName": {
              "typeName": "datasetContactName",
              "multiple": false,
              "typeClass": "primitive",
              "value": "Foo Bar"
            },
            "datasetContactAffiliation": {
              "typeName": "datasetContactAffiliation",
              "multiple": false,
              "typeClass": "primitive",
              "value": "Bar University"
            }
          }
        ]
      }
    ]
  }
}
json: {"description":"","label":"","categories":["Data"],"dataFile":{"filename":"","filesize":-1,"originalFormatLabel":"UNKNOWN","rootDataFileId":-1,"tabularTags":["Survey"]}}
json: {
  "fields": [
    {
      "typeName": "datasetContact",
      "multiple": true,
      "typeClass": "compound",
      "value": [
        {
          "datasetContactName": {
            "typeName": "datasetContactName",
            "multiple": false,
            "typeClass": "primitive",
            "value": "Foo Bar"
          },
          "datasetContactAffiliation": {
            "typeName": "datasetContactAffiliation",
            "multiple": false,
            "typeClass": "primitive",
            "value": "Bar University"
          }
        }
      ]
    }
  ]
}
byBlocks: {
  "citation": {
    "fields": [
      {
        "typeName": "datasetContact",
        "multiple": true,
        "typeClass": "compound",
        "value": [
          {
            "datasetContactName": {
              "typeName": "datasetContactName",
              "multiple": false,
              "typeClass": "primitive",
              "value": "Foo Bar"
            },
            "datasetContactAffiliation": {
              "typeName": "datasetContactAffiliation",
              "multiple": false,
              "typeClass": "primitive",
              "value": "Bar University"
            }
          }
        ]
      }
    ]
  }
}
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.063 sec
Running edu.harvard.iq.dataverse.util.json.DatasetVersionDTOTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.024 sec
Running edu.harvard.iq.dataverse.util.json.JsonParserTest
json = {"typeName":"coordinate","multiple":true,"typeClass":"compound","value":[{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"0"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"3"}},{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"10"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"13"}},{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"20"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"23"}},{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"30"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"33"}},{"lat":{"typeName":"lat","multiple":false,"typeClass":"primitive","value":"40"},"lon":{"typeName":"lon","multiple":false,"typeClass":"primitive","value":"43"}}]}
true
true
{"alias":"test-ip-group","identifier":"&ip/test-ip-group","id":42,"name":"Test-ip-group","description":"Ip group description","addresses":["1.1.1.1","1:2:3:0:0:0:4:5"],"ranges":[["1:2:3:0:0:0:3:ff","1:2:3:0:0:0:3:5"],["1.2.1.1","1.2.1.10"]]}
{"alias":"test-ip-group","identifier":"&ip/test-ip-group","id":42,"name":"Test-ip-group","description":"Ip group description","addresses":["1.1.1.1"]}
{"alias":"test-ip-group","identifier":"&ip/test-ip-group","id":42,"name":"Test-ip-group","description":"Ip group description","addresses":["fe80:0:0:0:22c9:d0ff:fe48:ce61"]}
fileMetadatas: [edu.harvard.iq.dvn.core.study.FileMetadata[id=null], edu.harvard.iq.dvn.core.study.FileMetadata[id=null]]
Tests run: 20, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.092 sec
Running edu.harvard.iq.dataverse.util.json.JsonUtilTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running edu.harvard.iq.dataverse.util.BitSetTest
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec
Running edu.harvard.iq.dataverse.util.JsfHelperTest
enumValue
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running edu.harvard.iq.dataverse.util.StringUtilTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.078 sec
Running edu.harvard.iq.dataverse.util.MailUtilTest
Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec
Running edu.harvard.iq.dataverse.util.xml.XmlPrinterTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running edu.harvard.iq.dataverse.util.xml.XmlValidatorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running edu.harvard.iq.dataverse.DatasetVersionTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running edu.harvard.iq.dataverse.datacapturemodule.DataCaptureModuleUtilTest
getMessageFromException
generateJsonForUploadRequest
getScriptFromRequestOk
getScriptFromRequestNotFound
makeUploadRequest
rsyncSupportEnabled
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.567 sec
Running edu.harvard.iq.dataverse.dataverse.DataverseUtilTest
getSuggestedDataverseNameOnCreate
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec
Running edu.harvard.iq.dataverse.EMailValidatorTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running edu.harvard.iq.dataverse.engine.command.impl.UpdateDatasetThumbnailCommandTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.009 sec
Running edu.harvard.iq.dataverse.engine.command.impl.CreatePrivateUrlCommandTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.011 sec
Running edu.harvard.iq.dataverse.engine.command.impl.CreateDatasetVersionCommandTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.033 sec
Running edu.harvard.iq.dataverse.engine.command.impl.GetPrivateUrlCommandTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec
Running edu.harvard.iq.dataverse.engine.command.impl.MoveDataverseCommandTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec
Running edu.harvard.iq.dataverse.engine.command.impl.UpdatePermissionRootCommandTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec
Running edu.harvard.iq.dataverse.engine.command.impl.GetLatestPublishedDatasetVersionCommandTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec
Running edu.harvard.iq.dataverse.engine.command.impl.CreateRoleCommandTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running edu.harvard.iq.dataverse.engine.command.impl.RequestRsyncScriptCommandTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.506 sec
Running edu.harvard.iq.dataverse.engine.command.impl.CreateDataverseCommandTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.01 sec
Running edu.harvard.iq.dataverse.engine.command.impl.DeletePrivateUrlCommandTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.006 sec
Running edu.harvard.iq.dataverse.engine.PermissionTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec

Results :

Failed tests:   testRead(edu.harvard.iq.dataverse.ingest.tabulardata.impl.plugins.csv.CSVFileReaderTest): expected:<...06-20	"2017/06/20"	0[]	1	"Nan"	"8234787887...> but was:<...06-20	"2017/06/20"	0[.0]	1	"Nan"	"8234787887...>

Tests run: 332, Failures: 1, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 42.153 s
[INFO] Finished at: 2017-06-23T20:38:18+02:00
[INFO] Final Memory: 58M/863M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.12.4:test (default-test) on project dataverse: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/IQSS/dataverse/246242856/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
