[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building choose-restaurant 1.0
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:3.0.1:resources (default-resources) @ choose-restaurant ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ choose-restaurant ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:3.0.1:testResources (default-testResources) @ choose-restaurant ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/vladmeh/choose-restaurant/392024338/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.7.0:testCompile (default-testCompile) @ choose-restaurant ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.21.0:test (default-test) @ choose-restaurant ---
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.21.0/surefire-junit4-2.21.0.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.21.0/surefire-junit4-2.21.0.pom (4 KB at 7.1 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.21.0/surefire-providers-2.21.0.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.21.0/surefire-providers-2.21.0.pom (3 KB at 122.7 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.21.0/surefire-junit4-2.21.0.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.21.0/surefire-junit4-2.21.0.jar (83 KB at 1620.8 KB/sec)
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.vladmeh.choosing.web.ChoiceControllerTest
02:27:30.601 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:30.607 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
02:27:30.615 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
02:27:30.646 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.vladmeh.choosing.web.ChoiceControllerTest] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
02:27:30.664 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.vladmeh.choosing.web.ChoiceControllerTest], using SpringBootContextLoader
02:27:30.669 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.vladmeh.choosing.web.ChoiceControllerTest]: class path resource [com/vladmeh/choosing/web/ChoiceControllerTest-context.xml] does not exist
02:27:30.670 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.vladmeh.choosing.web.ChoiceControllerTest]: class path resource [com/vladmeh/choosing/web/ChoiceControllerTestContext.groovy] does not exist
02:27:30.670 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.vladmeh.choosing.web.ChoiceControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
02:27:30.671 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.vladmeh.choosing.web.ChoiceControllerTest]: ChoiceControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
02:27:30.753 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:30.763 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding PropertySource 'systemProperties' with lowest search precedence
02:27:30.764 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding PropertySource 'systemEnvironment' with lowest search precedence
02:27:30.765 [main] DEBUG org.springframework.core.env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [MapPropertySource@1652149987 {name='systemProperties', properties={java.runtime.name=OpenJDK Runtime Environment, sun.boot.library.path=/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64, java.vm.version=25.121-b13, java.vm.vendor=Oracle Corporation, java.vendor.url=http://java.oracle.com/, skip.gulp=true, path.separator=:, java.vm.name=OpenJDK 64-Bit Server VM, file.encoding.pkg=sun.io, findbugs.skip=true, sun.java.launcher=SUN_STANDARD, sun.os.patch.level=unknown, java.vm.specification.name=Java Virtual Machine Specification, user.dir=/root/workspace/vladmeh/choose-restaurant/392024338, checkstyle.skip=true, java.runtime.version=1.8.0_121-8u121-b13-1~bpo8+1-b13, skip.npm=true, basedir=/root/workspace/vladmeh/choose-restaurant/392024338, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, java.endorsed.dirs=/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/endorsed, os.arch=amd64, surefire.real.class.path=/root/workspace/vladmeh/choose-restaurant/392024338/target/surefire/surefirebooter3439591330402569275.jar, gpg.skip=true, java.io.tmpdir=/tmp, line.separator=
, cobertura.skip=true, java.vm.specification.vendor=Oracle Corporation, os.name=Linux, sun.jnu.encoding=UTF-8, license.skip=true, java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib, surefire.test.class.path=/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-data-jpa/2.0.2.RELEASE/spring-boot-starter-data-jpa-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter/2.0.2.RELEASE/spring-boot-starter-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot/2.0.2.RELEASE/spring-boot-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-autoconfigure/2.0.2.RELEASE/spring-boot-autoconfigure-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-logging/2.0.2.RELEASE/spring-boot-starter-logging-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/logging/log4j/log4j-to-slf4j/2.10.0/log4j-to-slf4j-2.10.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/logging/log4j/log4j-api/2.10.0/log4j-api-2.10.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/yaml/snakeyaml/1.19/snakeyaml-1.19.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-aop/2.0.2.RELEASE/spring-boot-starter-aop-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-jdbc/2.0.2.RELEASE/spring-boot-starter-jdbc-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/zaxxer/HikariCP/2.7.9/HikariCP-2.7.9.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-jdbc/5.0.6.RELEASE/spring-jdbc-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/hibernate-core/5.2.17.Final/hibernate-core-5.2.17.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/javassist/javassist/3.22.0-GA/javassist-3.22.0-GA.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/antlr/antlr/2.7.7/antlr-2.7.7.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/jboss/jandex/2.0.3.Final/jandex-2.0.3.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/classmate/1.3.4/classmate-1.3.4.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/common/hibernate-commons-annotations/5.0.1.Final/hibernate-commons-annotations-5.0.1.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-jpa/2.0.7.RELEASE/spring-data-jpa-2.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-commons/2.0.7.RELEASE/spring-data-commons-2.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-orm/5.0.6.RELEASE/spring-orm-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-context/5.0.6.RELEASE/spring-context-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-tx/5.0.6.RELEASE/spring-tx-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-beans/5.0.6.RELEASE/spring-beans-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-aspects/5.0.6.RELEASE/spring-aspects-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-hateoas/2.0.2.RELEASE/spring-boot-starter-hateoas-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-web/2.0.2.RELEASE/spring-boot-starter-web-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-tomcat/2.0.2.RELEASE/spring-boot-starter-tomcat-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-core/8.5.31/tomcat-embed-core-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-el/8.5.31/tomcat-embed-el-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-websocket/8.5.31/tomcat-embed-websocket-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/validator/hibernate-validator/6.0.9.Final/hibernate-validator-6.0.9.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/validation/validation-api/2.0.1.Final/validation-api-2.0.1.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-web/5.0.6.RELEASE/spring-web-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/hateoas/spring-hateoas/0.24.0.RELEASE/spring-hateoas-0.24.0.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/plugin/spring-plugin-core/1.2.0.RELEASE/spring-plugin-core-1.2.0.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-data-rest/2.0.2.RELEASE/spring-boot-starter-data-rest-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-json/2.0.2.RELEASE/spring-boot-starter-json-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-databind/2.9.5/jackson-databind-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-core/2.9.5/jackson-core-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.5/jackson-datatype-jdk8-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.5/jackson-datatype-jsr310-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.5/jackson-module-parameter-names-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-rest-webmvc/3.0.7.RELEASE/spring-data-rest-webmvc-3.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-rest-core/3.0.7.RELEASE/spring-data-rest-core-3.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/atteo/evo-inflector/1.2.2/evo-inflector-1.2.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-security/2.0.2.RELEASE/spring-boot-starter-security-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-aop/5.0.6.RELEASE/spring-aop-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-config/5.0.5.RELEASE/spring-security-config-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-web/5.0.5.RELEASE/spring-security-web-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-expression/5.0.6.RELEASE/spring-expression-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/h2database/h2/1.4.197/h2-1.4.197.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/projectlombok/lombok/1.18.0/lombok-1.18.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-test/2.0.2.RELEASE/spring-boot-starter-test-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-test/2.0.2.RELEASE/spring-boot-test-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-test-autoconfigure/2.0.2.RELEASE/spring-boot-test-autoconfigure-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/junit/junit/4.12/junit-4.12.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/assertj/assertj-core/3.9.1/assertj-core-3.9.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/mockito/mockito-core/2.15.0/mockito-core-2.15.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/bytebuddy/byte-buddy/1.7.11/byte-buddy-1.7.11.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/bytebuddy/byte-buddy-agent/1.7.11/byte-buddy-agent-1.7.11.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hamcrest/hamcrest-library/1.3/hamcrest-library-1.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/skyscreamer/jsonassert/1.5.0/jsonassert-1.5.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-core/5.0.6.RELEASE/spring-core-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-jcl/5.0.6.RELEASE/spring-jcl-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-test/5.0.6.RELEASE/spring-test-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/xmlunit/xmlunit-core/2.5.1/xmlunit-core-2.5.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/restdocs/spring-restdocs-mockmvc/2.0.1.RELEASE/spring-restdocs-mockmvc-2.0.1.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/restdocs/spring-restdocs-core/2.0.1.RELEASE/spring-restdocs-core-2.0.1.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-webmvc/5.0.6.RELEASE/spring-webmvc-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/jayway/jsonpath/json-path/2.4.0/json-path-2.4.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/minidev/json-smart/2.3/json-smart-2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-test/5.0.5.RELEASE/spring-security-test-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-core/5.0.5.RELEASE/spring-security-core-5.0.5.RELEASE.jar:, java.specification.name=Java Platform API Specification, java.class.version=52.0, skip.bower=true, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, maven.repo.local=/root/./workspace/vladmeh/choose-restaurant/392024338/.m2, os.version=3.10.0-862.2.3.el7.x86_64, user.home=/root, user.timezone=Europe/Paris, java.awt.printerjob=sun.print.PSPrinterJob, file.encoding=UTF-8, java.specification.version=1.8, java.class.path=/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-data-jpa/2.0.2.RELEASE/spring-boot-starter-data-jpa-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter/2.0.2.RELEASE/spring-boot-starter-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot/2.0.2.RELEASE/spring-boot-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-autoconfigure/2.0.2.RELEASE/spring-boot-autoconfigure-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-logging/2.0.2.RELEASE/spring-boot-starter-logging-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/logging/log4j/log4j-to-slf4j/2.10.0/log4j-to-slf4j-2.10.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/logging/log4j/log4j-api/2.10.0/log4j-api-2.10.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/yaml/snakeyaml/1.19/snakeyaml-1.19.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-aop/2.0.2.RELEASE/spring-boot-starter-aop-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-jdbc/2.0.2.RELEASE/spring-boot-starter-jdbc-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/zaxxer/HikariCP/2.7.9/HikariCP-2.7.9.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-jdbc/5.0.6.RELEASE/spring-jdbc-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/hibernate-core/5.2.17.Final/hibernate-core-5.2.17.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/javassist/javassist/3.22.0-GA/javassist-3.22.0-GA.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/antlr/antlr/2.7.7/antlr-2.7.7.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/jboss/jandex/2.0.3.Final/jandex-2.0.3.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/classmate/1.3.4/classmate-1.3.4.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/common/hibernate-commons-annotations/5.0.1.Final/hibernate-commons-annotations-5.0.1.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-jpa/2.0.7.RELEASE/spring-data-jpa-2.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-commons/2.0.7.RELEASE/spring-data-commons-2.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-orm/5.0.6.RELEASE/spring-orm-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-context/5.0.6.RELEASE/spring-context-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-tx/5.0.6.RELEASE/spring-tx-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-beans/5.0.6.RELEASE/spring-beans-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-aspects/5.0.6.RELEASE/spring-aspects-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-hateoas/2.0.2.RELEASE/spring-boot-starter-hateoas-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-web/2.0.2.RELEASE/spring-boot-starter-web-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-tomcat/2.0.2.RELEASE/spring-boot-starter-tomcat-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-core/8.5.31/tomcat-embed-core-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-el/8.5.31/tomcat-embed-el-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-websocket/8.5.31/tomcat-embed-websocket-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/validator/hibernate-validator/6.0.9.Final/hibernate-validator-6.0.9.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/validation/validation-api/2.0.1.Final/validation-api-2.0.1.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-web/5.0.6.RELEASE/spring-web-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/hateoas/spring-hateoas/0.24.0.RELEASE/spring-hateoas-0.24.0.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/plugin/spring-plugin-core/1.2.0.RELEASE/spring-plugin-core-1.2.0.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-data-rest/2.0.2.RELEASE/spring-boot-starter-data-rest-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-json/2.0.2.RELEASE/spring-boot-starter-json-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-databind/2.9.5/jackson-databind-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-core/2.9.5/jackson-core-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.5/jackson-datatype-jdk8-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.5/jackson-datatype-jsr310-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.5/jackson-module-parameter-names-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-rest-webmvc/3.0.7.RELEASE/spring-data-rest-webmvc-3.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-rest-core/3.0.7.RELEASE/spring-data-rest-core-3.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/atteo/evo-inflector/1.2.2/evo-inflector-1.2.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-security/2.0.2.RELEASE/spring-boot-starter-security-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-aop/5.0.6.RELEASE/spring-aop-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-config/5.0.5.RELEASE/spring-security-config-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-web/5.0.5.RELEASE/spring-security-web-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-expression/5.0.6.RELEASE/spring-expression-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/h2database/h2/1.4.197/h2-1.4.197.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/projectlombok/lombok/1.18.0/lombok-1.18.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-test/2.0.2.RELEASE/spring-boot-starter-test-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-test/2.0.2.RELEASE/spring-boot-test-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-test-autoconfigure/2.0.2.RELEASE/spring-boot-test-autoconfigure-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/junit/junit/4.12/junit-4.12.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/assertj/assertj-core/3.9.1/assertj-core-3.9.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/mockito/mockito-core/2.15.0/mockito-core-2.15.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/bytebuddy/byte-buddy/1.7.11/byte-buddy-1.7.11.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/bytebuddy/byte-buddy-agent/1.7.11/byte-buddy-agent-1.7.11.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hamcrest/hamcrest-library/1.3/hamcrest-library-1.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/skyscreamer/jsonassert/1.5.0/jsonassert-1.5.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-core/5.0.6.RELEASE/spring-core-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-jcl/5.0.6.RELEASE/spring-jcl-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-test/5.0.6.RELEASE/spring-test-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/xmlunit/xmlunit-core/2.5.1/xmlunit-core-2.5.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/restdocs/spring-restdocs-mockmvc/2.0.1.RELEASE/spring-restdocs-mockmvc-2.0.1.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/restdocs/spring-restdocs-core/2.0.1.RELEASE/spring-restdocs-core-2.0.1.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-webmvc/5.0.6.RELEASE/spring-webmvc-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/jayway/jsonpath/json-path/2.4.0/json-path-2.4.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/minidev/json-smart/2.3/json-smart-2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-test/5.0.5.RELEASE/spring-security-test-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-core/5.0.5.RELEASE/spring-security-core-5.0.5.RELEASE.jar:, user.name=root, skipITs=true, java.vm.specification.version=1.8, sun.java.command=/root/workspace/vladmeh/choose-restaurant/392024338/target/surefire/surefirebooter3439591330402569275.jar /root/workspace/vladmeh/choose-restaurant/392024338/target/surefire 2018-06-14T02-27-29_036-jvmRun1 surefire2993856690424319183tmp surefire_09039109872837047076tmp, java.home=/usr/lib/jvm/java-8-openjdk-amd64/jre, sun.arch.data.model=64, user.language=en, java.specification.vendor=Oracle Corporation, dependency-check.skip=true, awt.toolkit=sun.awt.X11.XToolkit, java.vm.info=mixed mode, java.version=1.8.0_121, java.ext.dirs=/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext:/usr/java/packages/lib/ext, sun.boot.class.path=/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/classes, rat.skip=true, enforcer.skip=true, java.vendor=Oracle Corporation, localRepository=/root/./workspace/vladmeh/choose-restaurant/392024338/.m2, file.separator=/, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, sun.io.unicode.encoding=UnicodeLittle, sun.cpu.endian=little, sun.cpu.isalist=}}, SystemEnvironmentPropertySource@1107730949 {name='systemEnvironment', properties={PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin, JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64, NOTIFY_TO=, CA_CERTIFICATES_JAVA_VERSION=20161107~bpo8+1, MONGODB_HOST=, BUILD_ID=, LANG=C.UTF-8, MAVEN_HOME=/usr/share/maven, SMTP_SERVER=, MONGODB_NAME=, REPAIR_MODE=repair, PWD=/root/workspace/vladmeh/choose-restaurant/392024338, JAVA_VERSION=8u121, GITHUB_OAUTH=, MAVEN_CMD_LINE_ARGS=/root/.m2 -B -D enforcer.skip=true -D dependency-check.skip=true -D skipITs=true -D cobertura.skip=true -D maven.repo.local=/root/./workspace/vladmeh/choose-restaurant/392024338/.m2 -D rat.skip=true -D findbugs.skip=true -D skip.bower=true -D gpg.skip=true -D checkstyle.skip=true -D skip.gulp=true -D license.skip=true -D skip.npm=true test, _=/usr/bin/java, OUTPUT=, MAVEN_TERMINATE_CMD=on, MAVEN_CONFIG=/root/.m2, MAVEN_PROJECTBASEDIR=/root/workspace/vladmeh/choose-restaurant/392024338, OLDPWD=/root/workspace/vladmeh/choose-restaurant/392024338, LOG_FILENAME=repairnator-pipeline_2018-06-14_0226_392024338_75d12b04-24c0-4cad-9ac3-31a74d8ca02f, RUN_ID=, HOSTNAME=spirals-vortex.lille.inria.fr, JAVA_DEBIAN_VERSION=8u121-b13-1~bpo8+1, M2_HOME=/usr/share/maven, REPAIR_TOOLS=Nopol,AstorJMut,NPEFix, HOME=/root, SHLVL=1, PUSH_URL=}}]
02:27:30.789 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved classpath location [com/vladmeh/choosing/web/] to resources [URL [file:/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/web/], URL [file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing/web/]]
02:27:30.789 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/web]
02:27:30.790 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/web] for files matching pattern [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/web/*.class]
02:27:30.795 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing/web]
02:27:30.796 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing/web] for files matching pattern [/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing/web/*.class]
02:27:30.796 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/vladmeh/choosing/web/*.class] to resources [file [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/web/AbstractControllerTest.class], file [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/web/ChoiceControllerTest.class], file [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/web/MenuControllerTest.class], file [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/web/UserControllerTest.class], file [/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing/web/ChoiceController.class]]
02:27:30.862 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved classpath location [com/vladmeh/choosing/] to resources [URL [file:/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/], URL [file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing/]]
02:27:30.863 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing]
02:27:30.863 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing] for files matching pattern [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/*.class]
02:27:30.864 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing]
02:27:30.864 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing] for files matching pattern [/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing/*.class]
02:27:30.866 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/vladmeh/choosing/*.class] to resources [file [/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes/com/vladmeh/choosing/ApiDocumentationTest.class], file [/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing/Application.class]]
02:27:30.903 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/com/vladmeh/choosing/Application.class]
02:27:30.905 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.vladmeh.choosing.Application for test class com.vladmeh.choosing.web.ChoiceControllerTest
02:27:31.094 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.vladmeh.choosing.web.ChoiceControllerTest]: using defaults.
02:27:31.095 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
02:27:31.129 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2b4bac49, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@fd07cbb, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3571b748, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3e96bacf, org.springframework.test.context.support.DirtiesContextTestExecutionListener@484970b0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4470f8a6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7c83dc97, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7748410a, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@740773a3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@37f1104d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@55740540, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@60015ef5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2f54a33d, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1018bde2]
02:27:31.132 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:31.132 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:31.134 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:31.134 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:31.135 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:31.135 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:31.141 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@55f616cf testClass = ChoiceControllerTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@1356d4d4 testClass = ChoiceControllerTest, locations = '{}', classes = '{class com.vladmeh.choosing.Application}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@c03cf28 key = [@org.springframework.boot.test.autoconfigure.properties.PropertyMapping(value=spring.test.database, skip=NO), @org.springframework.test.context.BootstrapWith(value=class org.springframework.boot.test.context.SpringBootTestContextBootstrapper), @org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc(webDriverEnabled=true, print=DEFAULT, webClientEnabled=true, secure=true, addFilters=true, printOnlyOnFailure=true), @org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase(replace=ANY, connection=NONE), @org.junit.runner.RunWith(value=class org.springframework.test.context.junit4.SpringRunner), @org.springframework.context.annotation.Import(value=[class org.springframework.boot.test.autoconfigure.restdocs.RestDocumentationContextProviderRegistrar]), @org.springframework.boot.autoconfigure.ImportAutoConfiguration(value=[], exclude=[], classes=[]), @org.springframework.boot.test.autoconfigure.properties.PropertyMapping(value=spring.test.restdocs, skip=NO), @org.springframework.boot.test.autoconfigure.properties.PropertyMapping(value=spring.test.mockmvc, skip=NO), @org.springframework.boot.test.context.SpringBootTest(webEnvironment=MOCK, value=[], properties=[], classes=[]), @org.springframework.context.annotation.Import(value=[class org.springframework.boot.autoconfigure.ImportAutoConfigurationImportSelector]), @org.springframework.boot.test.autoconfigure.restdocs.AutoConfigureRestDocs(uriScheme=http, outputDir=target/generated-snippets, uriPort=8080, value=, uriHost=localhost)]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70beb599, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@33cb5951, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@314c508a, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e1cafcf9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@646be2c3], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
02:27:31.143 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:31.143 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.vladmeh.choosing.web.ChoiceControllerTest]
02:27:31.171 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding PropertySource 'systemProperties' with lowest search precedence
02:27:31.171 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding PropertySource 'systemEnvironment' with lowest search precedence
02:27:31.172 [main] DEBUG org.springframework.core.env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [MapPropertySource@812586739 {name='systemProperties', properties={java.runtime.name=OpenJDK Runtime Environment, sun.boot.library.path=/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/amd64, java.vm.version=25.121-b13, java.vm.vendor=Oracle Corporation, java.vendor.url=http://java.oracle.com/, skip.gulp=true, path.separator=:, java.vm.name=OpenJDK 64-Bit Server VM, file.encoding.pkg=sun.io, findbugs.skip=true, sun.java.launcher=SUN_STANDARD, sun.os.patch.level=unknown, java.vm.specification.name=Java Virtual Machine Specification, user.dir=/root/workspace/vladmeh/choose-restaurant/392024338, checkstyle.skip=true, java.runtime.version=1.8.0_121-8u121-b13-1~bpo8+1-b13, skip.npm=true, basedir=/root/workspace/vladmeh/choose-restaurant/392024338, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, java.endorsed.dirs=/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/endorsed, os.arch=amd64, surefire.real.class.path=/root/workspace/vladmeh/choose-restaurant/392024338/target/surefire/surefirebooter3439591330402569275.jar, gpg.skip=true, java.io.tmpdir=/tmp, line.separator=
, cobertura.skip=true, java.vm.specification.vendor=Oracle Corporation, os.name=Linux, sun.jnu.encoding=UTF-8, license.skip=true, java.library.path=/usr/java/packages/lib/amd64:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib, surefire.test.class.path=/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-data-jpa/2.0.2.RELEASE/spring-boot-starter-data-jpa-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter/2.0.2.RELEASE/spring-boot-starter-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot/2.0.2.RELEASE/spring-boot-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-autoconfigure/2.0.2.RELEASE/spring-boot-autoconfigure-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-logging/2.0.2.RELEASE/spring-boot-starter-logging-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/logging/log4j/log4j-to-slf4j/2.10.0/log4j-to-slf4j-2.10.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/logging/log4j/log4j-api/2.10.0/log4j-api-2.10.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/yaml/snakeyaml/1.19/snakeyaml-1.19.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-aop/2.0.2.RELEASE/spring-boot-starter-aop-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-jdbc/2.0.2.RELEASE/spring-boot-starter-jdbc-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/zaxxer/HikariCP/2.7.9/HikariCP-2.7.9.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-jdbc/5.0.6.RELEASE/spring-jdbc-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/hibernate-core/5.2.17.Final/hibernate-core-5.2.17.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/javassist/javassist/3.22.0-GA/javassist-3.22.0-GA.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/antlr/antlr/2.7.7/antlr-2.7.7.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/jboss/jandex/2.0.3.Final/jandex-2.0.3.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/classmate/1.3.4/classmate-1.3.4.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/common/hibernate-commons-annotations/5.0.1.Final/hibernate-commons-annotations-5.0.1.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-jpa/2.0.7.RELEASE/spring-data-jpa-2.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-commons/2.0.7.RELEASE/spring-data-commons-2.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-orm/5.0.6.RELEASE/spring-orm-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-context/5.0.6.RELEASE/spring-context-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-tx/5.0.6.RELEASE/spring-tx-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-beans/5.0.6.RELEASE/spring-beans-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-aspects/5.0.6.RELEASE/spring-aspects-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-hateoas/2.0.2.RELEASE/spring-boot-starter-hateoas-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-web/2.0.2.RELEASE/spring-boot-starter-web-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-tomcat/2.0.2.RELEASE/spring-boot-starter-tomcat-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-core/8.5.31/tomcat-embed-core-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-el/8.5.31/tomcat-embed-el-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-websocket/8.5.31/tomcat-embed-websocket-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/validator/hibernate-validator/6.0.9.Final/hibernate-validator-6.0.9.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/validation/validation-api/2.0.1.Final/validation-api-2.0.1.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-web/5.0.6.RELEASE/spring-web-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/hateoas/spring-hateoas/0.24.0.RELEASE/spring-hateoas-0.24.0.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/plugin/spring-plugin-core/1.2.0.RELEASE/spring-plugin-core-1.2.0.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-data-rest/2.0.2.RELEASE/spring-boot-starter-data-rest-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-json/2.0.2.RELEASE/spring-boot-starter-json-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-databind/2.9.5/jackson-databind-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-core/2.9.5/jackson-core-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.5/jackson-datatype-jdk8-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.5/jackson-datatype-jsr310-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.5/jackson-module-parameter-names-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-rest-webmvc/3.0.7.RELEASE/spring-data-rest-webmvc-3.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-rest-core/3.0.7.RELEASE/spring-data-rest-core-3.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/atteo/evo-inflector/1.2.2/evo-inflector-1.2.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-security/2.0.2.RELEASE/spring-boot-starter-security-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-aop/5.0.6.RELEASE/spring-aop-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-config/5.0.5.RELEASE/spring-security-config-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-web/5.0.5.RELEASE/spring-security-web-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-expression/5.0.6.RELEASE/spring-expression-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/h2database/h2/1.4.197/h2-1.4.197.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/projectlombok/lombok/1.18.0/lombok-1.18.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-test/2.0.2.RELEASE/spring-boot-starter-test-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-test/2.0.2.RELEASE/spring-boot-test-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-test-autoconfigure/2.0.2.RELEASE/spring-boot-test-autoconfigure-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/junit/junit/4.12/junit-4.12.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/assertj/assertj-core/3.9.1/assertj-core-3.9.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/mockito/mockito-core/2.15.0/mockito-core-2.15.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/bytebuddy/byte-buddy/1.7.11/byte-buddy-1.7.11.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/bytebuddy/byte-buddy-agent/1.7.11/byte-buddy-agent-1.7.11.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hamcrest/hamcrest-library/1.3/hamcrest-library-1.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/skyscreamer/jsonassert/1.5.0/jsonassert-1.5.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-core/5.0.6.RELEASE/spring-core-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-jcl/5.0.6.RELEASE/spring-jcl-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-test/5.0.6.RELEASE/spring-test-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/xmlunit/xmlunit-core/2.5.1/xmlunit-core-2.5.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/restdocs/spring-restdocs-mockmvc/2.0.1.RELEASE/spring-restdocs-mockmvc-2.0.1.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/restdocs/spring-restdocs-core/2.0.1.RELEASE/spring-restdocs-core-2.0.1.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-webmvc/5.0.6.RELEASE/spring-webmvc-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/jayway/jsonpath/json-path/2.4.0/json-path-2.4.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/minidev/json-smart/2.3/json-smart-2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-test/5.0.5.RELEASE/spring-security-test-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-core/5.0.5.RELEASE/spring-security-core-5.0.5.RELEASE.jar:, java.specification.name=Java Platform API Specification, java.class.version=52.0, skip.bower=true, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, maven.repo.local=/root/./workspace/vladmeh/choose-restaurant/392024338/.m2, os.version=3.10.0-862.2.3.el7.x86_64, user.home=/root, user.timezone=Europe/Paris, java.awt.printerjob=sun.print.PSPrinterJob, file.encoding=UTF-8, java.specification.version=1.8, java.class.path=/root/workspace/vladmeh/choose-restaurant/392024338/target/test-classes:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-data-jpa/2.0.2.RELEASE/spring-boot-starter-data-jpa-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter/2.0.2.RELEASE/spring-boot-starter-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot/2.0.2.RELEASE/spring-boot-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-autoconfigure/2.0.2.RELEASE/spring-boot-autoconfigure-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-logging/2.0.2.RELEASE/spring-boot-starter-logging-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/ch/qos/logback/logback-classic/1.2.3/logback-classic-1.2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/ch/qos/logback/logback-core/1.2.3/logback-core-1.2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/logging/log4j/log4j-to-slf4j/2.10.0/log4j-to-slf4j-2.10.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/logging/log4j/log4j-api/2.10.0/log4j-api-2.10.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/slf4j/jul-to-slf4j/1.7.25/jul-to-slf4j-1.7.25.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/annotation/javax.annotation-api/1.3.2/javax.annotation-api-1.3.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/yaml/snakeyaml/1.19/snakeyaml-1.19.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-aop/2.0.2.RELEASE/spring-boot-starter-aop-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/aspectj/aspectjweaver/1.8.13/aspectjweaver-1.8.13.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-jdbc/2.0.2.RELEASE/spring-boot-starter-jdbc-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/zaxxer/HikariCP/2.7.9/HikariCP-2.7.9.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-jdbc/5.0.6.RELEASE/spring-jdbc-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/hibernate-core/5.2.17.Final/hibernate-core-5.2.17.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/javax/persistence/hibernate-jpa-2.1-api/1.0.0.Final/hibernate-jpa-2.1-api-1.0.0.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/javassist/javassist/3.22.0-GA/javassist-3.22.0-GA.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/antlr/antlr/2.7.7/antlr-2.7.7.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/jboss/jandex/2.0.3.Final/jandex-2.0.3.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/classmate/1.3.4/classmate-1.3.4.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/dom4j/dom4j/1.6.1/dom4j-1.6.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/common/hibernate-commons-annotations/5.0.1.Final/hibernate-commons-annotations-5.0.1.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/transaction/javax.transaction-api/1.2/javax.transaction-api-1.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-jpa/2.0.7.RELEASE/spring-data-jpa-2.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-commons/2.0.7.RELEASE/spring-data-commons-2.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-orm/5.0.6.RELEASE/spring-orm-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-context/5.0.6.RELEASE/spring-context-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-tx/5.0.6.RELEASE/spring-tx-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-beans/5.0.6.RELEASE/spring-beans-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-aspects/5.0.6.RELEASE/spring-aspects-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-hateoas/2.0.2.RELEASE/spring-boot-starter-hateoas-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-web/2.0.2.RELEASE/spring-boot-starter-web-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-tomcat/2.0.2.RELEASE/spring-boot-starter-tomcat-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-core/8.5.31/tomcat-embed-core-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-el/8.5.31/tomcat-embed-el-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/apache/tomcat/embed/tomcat-embed-websocket/8.5.31/tomcat-embed-websocket-8.5.31.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hibernate/validator/hibernate-validator/6.0.9.Final/hibernate-validator-6.0.9.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/validation/validation-api/2.0.1.Final/validation-api-2.0.1.Final.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-web/5.0.6.RELEASE/spring-web-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/hateoas/spring-hateoas/0.24.0.RELEASE/spring-hateoas-0.24.0.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/plugin/spring-plugin-core/1.2.0.RELEASE/spring-plugin-core-1.2.0.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-data-rest/2.0.2.RELEASE/spring-boot-starter-data-rest-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-json/2.0.2.RELEASE/spring-boot-starter-json-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-databind/2.9.5/jackson-databind-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-core/2.9.5/jackson-core-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.9.5/jackson-datatype-jdk8-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.9.5/jackson-datatype-jsr310-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/module/jackson-module-parameter-names/2.9.5/jackson-module-parameter-names-2.9.5.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-rest-webmvc/3.0.7.RELEASE/spring-data-rest-webmvc-3.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/data/spring-data-rest-core/3.0.7.RELEASE/spring-data-rest-core-3.0.7.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/atteo/evo-inflector/1.2.2/evo-inflector-1.2.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/fasterxml/jackson/core/jackson-annotations/2.9.0/jackson-annotations-2.9.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-security/2.0.2.RELEASE/spring-boot-starter-security-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-aop/5.0.6.RELEASE/spring-aop-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-config/5.0.5.RELEASE/spring-security-config-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-web/5.0.5.RELEASE/spring-security-web-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-expression/5.0.6.RELEASE/spring-expression-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/h2database/h2/1.4.197/h2-1.4.197.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/projectlombok/lombok/1.18.0/lombok-1.18.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-starter-test/2.0.2.RELEASE/spring-boot-starter-test-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-test/2.0.2.RELEASE/spring-boot-test-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/boot/spring-boot-test-autoconfigure/2.0.2.RELEASE/spring-boot-test-autoconfigure-2.0.2.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/junit/junit/4.12/junit-4.12.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/assertj/assertj-core/3.9.1/assertj-core-3.9.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/mockito/mockito-core/2.15.0/mockito-core-2.15.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/bytebuddy/byte-buddy/1.7.11/byte-buddy-1.7.11.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/bytebuddy/byte-buddy-agent/1.7.11/byte-buddy-agent-1.7.11.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/objenesis/objenesis/2.6/objenesis-2.6.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/hamcrest/hamcrest-library/1.3/hamcrest-library-1.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/skyscreamer/jsonassert/1.5.0/jsonassert-1.5.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-core/5.0.6.RELEASE/spring-core-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-jcl/5.0.6.RELEASE/spring-jcl-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-test/5.0.6.RELEASE/spring-test-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/xmlunit/xmlunit-core/2.5.1/xmlunit-core-2.5.1.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/restdocs/spring-restdocs-mockmvc/2.0.1.RELEASE/spring-restdocs-mockmvc-2.0.1.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/javax/servlet/javax.servlet-api/3.1.0/javax.servlet-api-3.1.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/restdocs/spring-restdocs-core/2.0.1.RELEASE/spring-restdocs-core-2.0.1.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/spring-webmvc/5.0.6.RELEASE/spring-webmvc-5.0.6.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/com/jayway/jsonpath/json-path/2.4.0/json-path-2.4.0.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/minidev/json-smart/2.3/json-smart-2.3.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/net/minidev/accessors-smart/1.2/accessors-smart-1.2.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/ow2/asm/asm/5.0.4/asm-5.0.4.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-test/5.0.5.RELEASE/spring-security-test-5.0.5.RELEASE.jar:/root/./workspace/vladmeh/choose-restaurant/392024338/.m2/org/springframework/security/spring-security-core/5.0.5.RELEASE/spring-security-core-5.0.5.RELEASE.jar:, user.name=root, skipITs=true, java.vm.specification.version=1.8, sun.java.command=/root/workspace/vladmeh/choose-restaurant/392024338/target/surefire/surefirebooter3439591330402569275.jar /root/workspace/vladmeh/choose-restaurant/392024338/target/surefire 2018-06-14T02-27-29_036-jvmRun1 surefire2993856690424319183tmp surefire_09039109872837047076tmp, java.home=/usr/lib/jvm/java-8-openjdk-amd64/jre, sun.arch.data.model=64, user.language=en, java.specification.vendor=Oracle Corporation, dependency-check.skip=true, awt.toolkit=sun.awt.X11.XToolkit, java.vm.info=mixed mode, java.version=1.8.0_121, java.ext.dirs=/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext:/usr/java/packages/lib/ext, sun.boot.class.path=/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/resources.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/rt.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jsse.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jce.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/charsets.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/lib/jfr.jar:/usr/lib/jvm/java-8-openjdk-amd64/jre/classes, rat.skip=true, enforcer.skip=true, java.vendor=Oracle Corporation, localRepository=/root/./workspace/vladmeh/choose-restaurant/392024338/.m2, file.separator=/, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, sun.io.unicode.encoding=UnicodeLittle, sun.cpu.endian=little, sun.cpu.isalist=}}, SystemEnvironmentPropertySource@1881901842 {name='systemEnvironment', properties={PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin, JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64, NOTIFY_TO=, CA_CERTIFICATES_JAVA_VERSION=20161107~bpo8+1, MONGODB_HOST=, BUILD_ID=, LANG=C.UTF-8, MAVEN_HOME=/usr/share/maven, SMTP_SERVER=, MONGODB_NAME=, REPAIR_MODE=repair, PWD=/root/workspace/vladmeh/choose-restaurant/392024338, JAVA_VERSION=8u121, GITHUB_OAUTH=, MAVEN_CMD_LINE_ARGS=/root/.m2 -B -D enforcer.skip=true -D dependency-check.skip=true -D skipITs=true -D cobertura.skip=true -D maven.repo.local=/root/./workspace/vladmeh/choose-restaurant/392024338/.m2 -D rat.skip=true -D findbugs.skip=true -D skip.bower=true -D gpg.skip=true -D checkstyle.skip=true -D skip.gulp=true -D license.skip=true -D skip.npm=true test, _=/usr/bin/java, OUTPUT=, MAVEN_TERMINATE_CMD=on, MAVEN_CONFIG=/root/.m2, MAVEN_PROJECTBASEDIR=/root/workspace/vladmeh/choose-restaurant/392024338, OLDPWD=/root/workspace/vladmeh/choose-restaurant/392024338, LOG_FILENAME=repairnator-pipeline_2018-06-14_0226_392024338_75d12b04-24c0-4cad-9ac3-31a74d8ca02f, RUN_ID=, HOSTNAME=spirals-vortex.lille.inria.fr, JAVA_DEBIAN_VERSION=8u121-b13-1~bpo8+1, M2_HOME=/usr/share/maven, REPAIR_TOOLS=Nopol,AstorJMut,NPEFix, HOME=/root, SHLVL=1, PUSH_URL=}}]
02:27:31.178 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=-1}
02:27:31.179 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding PropertySource 'Inlined Test Properties' with highest search precedence

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.0.2.RELEASE)

2018-06-14 02:27:31.507  INFO 274 --- [           main] c.v.choosing.web.ChoiceControllerTest    : Starting ChoiceControllerTest on spirals-vortex.lille.inria.fr with PID 274 (started by root in /root/workspace/vladmeh/choose-restaurant/392024338)
2018-06-14 02:27:31.509 DEBUG 274 --- [           main] c.v.choosing.web.ChoiceControllerTest    : Running with Spring Boot v2.0.2.RELEASE, Spring v5.0.6.RELEASE
2018-06-14 02:27:31.511  INFO 274 --- [           main] c.v.choosing.web.ChoiceControllerTest    : No active profile set, falling back to default profiles: default
2018-06-14 02:27:31.537  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5167f57d: startup date [Thu Jun 14 02:27:31 CEST 2018]; root of context hierarchy
2018-06-14 02:27:32.765  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpRequestHandlerAdapter' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]
2018-06-14 02:27:32.924  INFO 274 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 02:27:32.925  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 02:27:33.518  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$72130427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:33.579  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ac0cc61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:33.591  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:33.593  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3e1a3801' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:33.602  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2f956f13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:33.614  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:33.700  INFO 274 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:8a8d4192-d845-4383-94b3-8f547dde2137;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2018-06-14 02:27:34.286  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:34.305  INFO 274 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-06-14 02:27:34.383  INFO 274 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.2.17.Final}
2018-06-14 02:27:34.384  INFO 274 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found
2018-06-14 02:27:34.425  INFO 274 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-06-14 02:27:34.570  INFO 274 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-14 02:27:35.432  INFO 274 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'ScriptSourceInputFromUrl(file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/import.sql)'
2018-06-14 02:27:35.458  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:36.090  INFO 274 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-14 02:27:38.126  INFO 274 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ab1ad9, org.springframework.security.web.context.SecurityContextPersistenceFilter@53b7bf01, org.springframework.security.web.header.HeaderWriterFilter@20890a1a, org.springframework.security.web.authentication.logout.LogoutFilter@21f91efa, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@8f4b803, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a6e9289, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67b8d45, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ee6fdc4, org.springframework.security.web.session.SessionManagementFilter@18bb1b88, org.springframework.security.web.access.ExceptionTranslationFilter@4809c771, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51a719e7]
2018-06-14 02:27:38.586  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:38.848  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5167f57d: startup date [Thu Jun 14 02:27:31 CEST 2018]; root of context hierarchy
2018-06-14 02:27:39.343  WARN 274 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-14 02:27:39.479  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice],methods=[GET],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)
2018-06-14 02:27:39.480  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice/{id}],methods=[POST],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)
2018-06-14 02:27:39.488  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-06-14 02:27:39.489  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-06-14 02:27:39.558  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:39.558  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:39.587  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in restResponseEntityExceptionHandler
2018-06-14 02:27:39.588  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler
2018-06-14 02:27:39.959  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerAdapter   : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5167f57d: startup date [Thu Jun 14 02:27:31 CEST 2018]; root of context hierarchy
2018-06-14 02:27:39.993  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:39.993  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:39.994  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:39.994  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResourceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:39.995  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[POST],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:39.995  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:39.996  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:39.996  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:39.997  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PUT],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:39.997  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PATCH],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.patchItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException,org.springframework.data.rest.webmvc.ResourceNotFoundException
2018-06-14 02:27:39.997  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:40.000  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:40.000  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:40.000  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.data.rest.webmvc.RepositorySearchesResource org.springframework.data.rest.webmvc.RepositorySearchController.listSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:40.000  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders)
2018-06-14 02:27:40.001  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/x-spring-data-compact+json]}" onto public org.springframework.hateoas.ResourceSupport org.springframework.data.rest.webmvc.RepositorySearchController.executeSearchCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpHeaders,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler)
2018-06-14 02:27:40.001  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:40.001  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:40.002  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RepositoryLinksResource> org.springframework.data.rest.webmvc.RepositoryController.listRepositories()
2018-06-14 02:27:40.002  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositoryController.optionsForRepositories()
2018-06-14 02:27:40.002  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryController.headForRepositories()
2018-06-14 02:27:40.004  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReferenceId(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:40.004  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:40.005  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:40.005  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:40.005  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReferenceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:40.005  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[PATCH || PUT || POST],consumes=[application/json || application/x-spring-data-compact+json || text/uri-list],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.createPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpMethod,org.springframework.hateoas.Resources<java.lang.Object>,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:40.009  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[OPTIONS]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.ProfileController.profileOptions()
2018-06-14 02:27:40.010  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[GET]}" onto org.springframework.http.HttpEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.ProfileController.listAllFormsOfMetadata()
2018-06-14 02:27:40.010  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/alps+json || */*]}" onto org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RootResourceInformation> org.springframework.data.rest.webmvc.alps.AlpsController.descriptor(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:40.010  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[OPTIONS],produces=[application/alps+json]}" onto org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.alps.AlpsController.alpsOptions()
2018-06-14 02:27:40.010  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/schema+json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.json.JsonSchema> org.springframework.data.rest.webmvc.RepositorySchemaController.schema(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:40.318  INFO 274 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2018-06-14 02:27:40.318  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2018-06-14 02:27:40.342  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 24 ms
2018-06-14 02:27:40.410  INFO 274 --- [           main] c.v.choosing.web.ChoiceControllerTest    : Started ChoiceControllerTest in 9.217 seconds (JVM running for 10.394)
2018-06-14 02:27:40.752 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/choice/0
       Parameters = {}
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = com.vladmeh.choosing.web.ChoiceController
           Method = public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"id":0,"name":"McDonalds"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:41.187 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/choice/2
       Parameters = {}
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = com.vladmeh.choosing.web.ChoiceController
           Method = public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"id":1,"name":"Burger King"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:41.241 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/choice/3
       Parameters = {}
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = com.vladmeh.choosing.web.ChoiceController
           Method = public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:41.273 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru
2018-06-14 02:27:41.280 DEBUG 274 --- [           main] c.v.choosing.service.ChoiceService       : Authorized 0

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/choice
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = com.vladmeh.choosing.web.ChoiceController
           Method = public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:41.302 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru
2018-06-14 02:27:41.309 DEBUG 274 --- [           main] c.v.choosing.service.ChoiceService       : Authorized 0

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/choice
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = com.vladmeh.choosing.web.ChoiceController
           Method = public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"id":0,"name":"McDonalds"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 11.001 s - in com.vladmeh.choosing.web.ChoiceControllerTest
[INFO] Running com.vladmeh.choosing.web.UserControllerTest
2018-06-14 02:27:41.334  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.vladmeh.choosing.web.UserControllerTest], using SpringBootContextLoader
2018-06-14 02:27:41.335  INFO 274 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.vladmeh.choosing.web.UserControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-06-14 02:27:41.335  INFO 274 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.vladmeh.choosing.web.UserControllerTest]: UserControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2018-06-14 02:27:41.341  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.vladmeh.choosing.Application for test class com.vladmeh.choosing.web.UserControllerTest
2018-06-14 02:27:41.343  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2018-06-14 02:27:41.343  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@10a064bd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2de7fe0e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@2ff8d39b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@684a802a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@7b5c9412, org.springframework.test.context.transaction.TransactionalTestExecutionListener@69d902f9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@547052, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3ca3eba2, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@23c00420, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@22f046b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@215a329c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@20723ee, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@21c5c68a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5bb39285]
2018-06-14 02:27:41.384 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/users/search/by-email
       Parameters = {email=[user@yandex.ru]}
          Headers = {Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositorySearchController
           Method = public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {
  "name" : "User",
  "email" : "user@yandex.ru",
  "enabled" : true,
  "registered" : "2018-06-14T00:27:35.436+0000",
  "roles" : [ "ROLE_USER" ],
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/api/users/0"
    },
    "user" : {
      "href" : "http://localhost:8080/api/users/0"
    }
  }
}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:41.643 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com
2018-06-14 02:27:41.918  WARN 274 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2018-06-14 02:27:41.919 ERROR 274 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "UNIQUE_USERS_EMAIL_IDX_INDEX_4 ON PUBLIC.USERS(EMAIL) VALUES ('user@yandex.ru', 0)"; SQL statement:
insert into users (id, name, email, enabled, password, registered) values (null, ?, ?, ?, ?, ?) [23505-197]

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/users/
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = {"password":"password","roles":["ROLE_USER","ROLE_ADMIN"],"name":"New user","email":"user@yandex.ru"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 409
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"CONFLICT","timestamp":"14-06-2018 02:27:41","message":"Database error","details":"could not execute statement"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:41.937  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5167f57d: startup date [Thu Jun 14 02:27:31 CEST 2018]; root of context hierarchy
2018-06-14 02:27:41.944  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:41.945  INFO 274 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down'

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.0.2.RELEASE)

2018-06-14 02:27:41.998  INFO 274 --- [           main] c.v.choosing.web.UserControllerTest      : Starting UserControllerTest on spirals-vortex.lille.inria.fr with PID 274 (started by root in /root/workspace/vladmeh/choose-restaurant/392024338)
2018-06-14 02:27:41.999 DEBUG 274 --- [           main] c.v.choosing.web.UserControllerTest      : Running with Spring Boot v2.0.2.RELEASE, Spring v5.0.6.RELEASE
2018-06-14 02:27:41.999  INFO 274 --- [           main] c.v.choosing.web.UserControllerTest      : No active profile set, falling back to default profiles: default
2018-06-14 02:27:42.003  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@438c0aaf: startup date [Thu Jun 14 02:27:42 CEST 2018]; root of context hierarchy
2018-06-14 02:27:42.327  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpRequestHandlerAdapter' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]
2018-06-14 02:27:42.371  INFO 274 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 02:27:42.371  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 02:27:42.490  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$72130427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:42.508  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ac0cc61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:42.514  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:42.515  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2b06f498' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:42.525  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2f956f13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:42.529  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:42.565  INFO 274 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:70848e96-d779-4314-b2a1-e94492771c03;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2018-06-14 02:27:42.646  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:42.646  INFO 274 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-06-14 02:27:42.654  INFO 274 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-14 02:27:42.819  INFO 274 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'ScriptSourceInputFromUrl(file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/import.sql)'
2018-06-14 02:27:42.831  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:42.931  INFO 274 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-14 02:27:43.393  INFO 274 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@646c872a, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e557671, org.springframework.security.web.header.HeaderWriterFilter@10280879, org.springframework.security.web.authentication.logout.LogoutFilter@6c537267, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@56226064, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f2497d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f1f2f84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d9bd4d6, org.springframework.security.web.session.SessionManagementFilter@3472f3ab, org.springframework.security.web.access.ExceptionTranslationFilter@6d658aa8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7962c1d5]
2018-06-14 02:27:43.572  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:43.664  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@438c0aaf: startup date [Thu Jun 14 02:27:42 CEST 2018]; root of context hierarchy
2018-06-14 02:27:43.676  WARN 274 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-14 02:27:43.697  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice],methods=[GET],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)
2018-06-14 02:27:43.698  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice/{id}],methods=[POST],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)
2018-06-14 02:27:43.700  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-06-14 02:27:43.700  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-06-14 02:27:43.781  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:43.782  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:43.791  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in restResponseEntityExceptionHandler
2018-06-14 02:27:43.791  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler
2018-06-14 02:27:43.934  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerAdapter   : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@438c0aaf: startup date [Thu Jun 14 02:27:42 CEST 2018]; root of context hierarchy
2018-06-14 02:27:43.942  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:43.942  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:43.943  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:43.943  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResourceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:43.943  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[POST],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:43.943  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:43.943  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:43.944  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:43.944  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PUT],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:43.944  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PATCH],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.patchItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException,org.springframework.data.rest.webmvc.ResourceNotFoundException
2018-06-14 02:27:43.945  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:43.945  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:43.946  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:43.946  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.data.rest.webmvc.RepositorySearchesResource org.springframework.data.rest.webmvc.RepositorySearchController.listSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:43.946  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders)
2018-06-14 02:27:43.946  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/x-spring-data-compact+json]}" onto public org.springframework.hateoas.ResourceSupport org.springframework.data.rest.webmvc.RepositorySearchController.executeSearchCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpHeaders,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler)
2018-06-14 02:27:43.946  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:43.947  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:43.947  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RepositoryLinksResource> org.springframework.data.rest.webmvc.RepositoryController.listRepositories()
2018-06-14 02:27:43.947  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositoryController.optionsForRepositories()
2018-06-14 02:27:43.948  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryController.headForRepositories()
2018-06-14 02:27:43.948  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReferenceId(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:43.949  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:43.949  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:43.949  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:43.949  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReferenceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:43.949  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[PATCH || PUT || POST],consumes=[application/json || application/x-spring-data-compact+json || text/uri-list],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.createPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpMethod,org.springframework.hateoas.Resources<java.lang.Object>,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:43.952  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[OPTIONS]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.ProfileController.profileOptions()
2018-06-14 02:27:43.953  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[GET]}" onto org.springframework.http.HttpEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.ProfileController.listAllFormsOfMetadata()
2018-06-14 02:27:43.953  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/alps+json || */*]}" onto org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RootResourceInformation> org.springframework.data.rest.webmvc.alps.AlpsController.descriptor(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:43.953  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[OPTIONS],produces=[application/alps+json]}" onto org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.alps.AlpsController.alpsOptions()
2018-06-14 02:27:43.954  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/schema+json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.json.JsonSchema> org.springframework.data.rest.webmvc.RepositorySchemaController.schema(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:44.083  INFO 274 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2018-06-14 02:27:44.083  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2018-06-14 02:27:44.092  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 9 ms
2018-06-14 02:27:44.116  INFO 274 --- [           main] c.v.choosing.web.UserControllerTest      : Started UserControllerTest in 2.157 seconds (JVM running for 14.1)
2018-06-14 02:27:44.249 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com
2018-06-14 02:27:44.441  WARN 274 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2018-06-14 02:27:44.441 ERROR 274 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "UNIQUE_USERS_EMAIL_IDX_INDEX_4 ON PUBLIC.USERS(EMAIL) VALUES ('admin@gmail.com', 1)"; SQL statement:
update users set name=?, email=?, enabled=?, password=?, registered=? where id=? [23505-197]
2018-06-14 02:27:44.441 ERROR 274 --- [           main] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]

MockHttpServletRequest:
      HTTP Method = PUT
      Request URI = /api/users/0
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = {"password":"user","roles":["ROLE_USER"],"name":"Update user","email":"admin@gmail.com"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.dao.DataIntegrityViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 409
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"CONFLICT","timestamp":"14-06-2018 02:27:44","message":"Database error","details":"could not execute statement"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:44.454 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/users/
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 403
    Error message = Forbidden
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:44.467 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/users/
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = {"password":"password","roles":["ROLE_USER","ROLE_ADMIN"],"name":"New user","email":"user@local.loc"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = {Location=[http://localhost:8080/api/users/2], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = http://localhost:8080/api/users/2
          Cookies = []
2018-06-14 02:27:44.611  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@438c0aaf: startup date [Thu Jun 14 02:27:42 CEST 2018]; root of context hierarchy
2018-06-14 02:27:44.614  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:44.615  INFO 274 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down'

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.0.2.RELEASE)

2018-06-14 02:27:44.641  INFO 274 --- [           main] c.v.choosing.web.UserControllerTest      : Starting UserControllerTest on spirals-vortex.lille.inria.fr with PID 274 (started by root in /root/workspace/vladmeh/choose-restaurant/392024338)
2018-06-14 02:27:44.641 DEBUG 274 --- [           main] c.v.choosing.web.UserControllerTest      : Running with Spring Boot v2.0.2.RELEASE, Spring v5.0.6.RELEASE
2018-06-14 02:27:44.641  INFO 274 --- [           main] c.v.choosing.web.UserControllerTest      : No active profile set, falling back to default profiles: default
2018-06-14 02:27:44.643  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@b272860: startup date [Thu Jun 14 02:27:44 CEST 2018]; root of context hierarchy
2018-06-14 02:27:44.923  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpRequestHandlerAdapter' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]
2018-06-14 02:27:44.950  INFO 274 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 02:27:44.950  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 02:27:45.050  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$72130427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:45.067  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ac0cc61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:45.072  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:45.072  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@61e34bec' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:45.079  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2f956f13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:45.082  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:45.118  INFO 274 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:31edf1a9-1925-4c2c-8531-8c75f9110203;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2018-06-14 02:27:45.194  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:45.195  INFO 274 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-06-14 02:27:45.204  INFO 274 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-14 02:27:45.293  INFO 274 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'ScriptSourceInputFromUrl(file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/import.sql)'
2018-06-14 02:27:45.299  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:45.423  INFO 274 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-14 02:27:45.919  INFO 274 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20f3291d, org.springframework.security.web.context.SecurityContextPersistenceFilter@58df2864, org.springframework.security.web.header.HeaderWriterFilter@5cbebfba, org.springframework.security.web.authentication.logout.LogoutFilter@3e8eea59, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@49b6373f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76ccde41, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f26fc4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f51b100, org.springframework.security.web.session.SessionManagementFilter@66ce4b4, org.springframework.security.web.access.ExceptionTranslationFilter@7fba30fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a5c115b]
2018-06-14 02:27:46.103  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:46.185  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@b272860: startup date [Thu Jun 14 02:27:44 CEST 2018]; root of context hierarchy
2018-06-14 02:27:46.193  WARN 274 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-14 02:27:46.213  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice],methods=[GET],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)
2018-06-14 02:27:46.213  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice/{id}],methods=[POST],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)
2018-06-14 02:27:46.214  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-06-14 02:27:46.215  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-06-14 02:27:46.241  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:46.241  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:46.253  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in restResponseEntityExceptionHandler
2018-06-14 02:27:46.253  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler
2018-06-14 02:27:46.447  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerAdapter   : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@b272860: startup date [Thu Jun 14 02:27:44 CEST 2018]; root of context hierarchy
2018-06-14 02:27:46.459  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:46.459  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:46.460  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:46.460  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResourceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:46.460  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[POST],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:46.460  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:46.461  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:46.461  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:46.462  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PUT],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:46.462  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PATCH],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.patchItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException,org.springframework.data.rest.webmvc.ResourceNotFoundException
2018-06-14 02:27:46.463  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:46.464  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:46.465  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:46.465  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.data.rest.webmvc.RepositorySearchesResource org.springframework.data.rest.webmvc.RepositorySearchController.listSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:46.466  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders)
2018-06-14 02:27:46.466  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/x-spring-data-compact+json]}" onto public org.springframework.hateoas.ResourceSupport org.springframework.data.rest.webmvc.RepositorySearchController.executeSearchCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpHeaders,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler)
2018-06-14 02:27:46.466  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:46.467  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:46.467  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RepositoryLinksResource> org.springframework.data.rest.webmvc.RepositoryController.listRepositories()
2018-06-14 02:27:46.468  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositoryController.optionsForRepositories()
2018-06-14 02:27:46.469  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryController.headForRepositories()
2018-06-14 02:27:46.470  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReferenceId(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:46.470  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:46.471  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:46.471  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:46.471  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReferenceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:46.472  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[PATCH || PUT || POST],consumes=[application/json || application/x-spring-data-compact+json || text/uri-list],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.createPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpMethod,org.springframework.hateoas.Resources<java.lang.Object>,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:46.476  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[OPTIONS]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.ProfileController.profileOptions()
2018-06-14 02:27:46.477  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[GET]}" onto org.springframework.http.HttpEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.ProfileController.listAllFormsOfMetadata()
2018-06-14 02:27:46.477  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/alps+json || */*]}" onto org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RootResourceInformation> org.springframework.data.rest.webmvc.alps.AlpsController.descriptor(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:46.478  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[OPTIONS],produces=[application/alps+json]}" onto org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.alps.AlpsController.alpsOptions()
2018-06-14 02:27:46.478  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/schema+json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.json.JsonSchema> org.springframework.data.rest.webmvc.RepositorySchemaController.schema(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:46.640  INFO 274 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2018-06-14 02:27:46.640  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2018-06-14 02:27:46.652  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 12 ms
2018-06-14 02:27:46.687  INFO 274 --- [           main] c.v.choosing.web.UserControllerTest      : Started UserControllerTest in 2.066 seconds (JVM running for 16.67)
2018-06-14 02:27:46.819 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /api/users/0
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 403
    Error message = Forbidden
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:46.837 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/users/
       Parameters = {}
          Headers = {Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {
  "_embedded" : {
    "user" : [ {
      "name" : "User",
      "email" : "user@yandex.ru",
      "enabled" : true,
      "registered" : "2018-06-14T00:27:45.294+0000",
      "roles" : [ "ROLE_USER" ],
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/users/0"
        },
        "user" : {
          "href" : "http://localhost:8080/api/users/0"
        }
      }
    }, {
      "name" : "Admin",
      "email" : "admin@gmail.com",
      "enabled" : true,
      "registered" : "2018-06-14T00:27:45.294+0000",
      "roles" : [ "ROLE_ADMIN" ],
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/users/1"
        },
        "user" : {
          "href" : "http://localhost:8080/api/users/1"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/api/users{?page,size,sort}",
      "templated" : true
    },
    "profile" : {
      "href" : "http://localhost:8080/api/profile/users"
    },
    "search" : {
      "href" : "http://localhost:8080/api/users/search"
    }
  },
  "page" : {
    "size" : 20,
    "totalElements" : 2,
    "totalPages" : 1,
    "number" : 0
  }
}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:46.932 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/users/
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = {"password":"password","roles":["ROLE_USER","ROLE_ADMIN"],"name":"New user","email":"user@local.loc"}
    Session Attrs = {}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 403
    Error message = Forbidden
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:46.944 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = PUT
      Request URI = /api/users/0
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = {"password":"user","roles":["ROLE_USER"],"name":"Update user","email":"user@yandex.ru"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Location=[http://localhost:8080/api/users/0], Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {
  "name" : "Update user",
  "email" : "user@yandex.ru",
  "enabled" : true,
  "registered" : "2018-06-14T00:27:46.970+0000",
  "roles" : [ "ROLE_USER" ],
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/api/users/0"
    },
    "user" : {
      "href" : "http://localhost:8080/api/users/0"
    }
  }
}
    Forwarded URL = null
   Redirected URL = http://localhost:8080/api/users/0
          Cookies = []
2018-06-14 02:27:47.113  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@b272860: startup date [Thu Jun 14 02:27:44 CEST 2018]; root of context hierarchy
2018-06-14 02:27:47.116  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:47.116  INFO 274 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down'

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.0.2.RELEASE)

2018-06-14 02:27:47.152  INFO 274 --- [           main] c.v.choosing.web.UserControllerTest      : Starting UserControllerTest on spirals-vortex.lille.inria.fr with PID 274 (started by root in /root/workspace/vladmeh/choose-restaurant/392024338)
2018-06-14 02:27:47.152 DEBUG 274 --- [           main] c.v.choosing.web.UserControllerTest      : Running with Spring Boot v2.0.2.RELEASE, Spring v5.0.6.RELEASE
2018-06-14 02:27:47.152  INFO 274 --- [           main] c.v.choosing.web.UserControllerTest      : No active profile set, falling back to default profiles: default
2018-06-14 02:27:47.154  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3b0d9da: startup date [Thu Jun 14 02:27:47 CEST 2018]; root of context hierarchy
2018-06-14 02:27:47.429  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpRequestHandlerAdapter' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]
2018-06-14 02:27:47.448  INFO 274 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 02:27:47.448  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 02:27:47.550  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$72130427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:47.573  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ac0cc61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:47.579  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:47.579  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1ff65426' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:47.588  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2f956f13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:47.592  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:47.628  INFO 274 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:cd464b21-c9d5-486a-955e-6e156afae40e;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2018-06-14 02:27:47.688  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:47.688  INFO 274 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-06-14 02:27:47.705  INFO 274 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-14 02:27:47.815  INFO 274 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'ScriptSourceInputFromUrl(file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/import.sql)'
2018-06-14 02:27:47.820  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:47.894  INFO 274 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-14 02:27:48.236  INFO 274 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78b888df, org.springframework.security.web.context.SecurityContextPersistenceFilter@6f65b61d, org.springframework.security.web.header.HeaderWriterFilter@67887bf2, org.springframework.security.web.authentication.logout.LogoutFilter@3d5009c0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4ad04b05, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33c91567, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17baaf07, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f2e0945, org.springframework.security.web.session.SessionManagementFilter@3ce2c454, org.springframework.security.web.access.ExceptionTranslationFilter@4c020e58, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@38503309]
2018-06-14 02:27:48.360  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:48.429  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3b0d9da: startup date [Thu Jun 14 02:27:47 CEST 2018]; root of context hierarchy
2018-06-14 02:27:48.436  WARN 274 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-14 02:27:48.447  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice],methods=[GET],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)
2018-06-14 02:27:48.448  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice/{id}],methods=[POST],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)
2018-06-14 02:27:48.449  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-06-14 02:27:48.449  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-06-14 02:27:48.469  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:48.469  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:48.478  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in restResponseEntityExceptionHandler
2018-06-14 02:27:48.478  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler
2018-06-14 02:27:48.590  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerAdapter   : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@3b0d9da: startup date [Thu Jun 14 02:27:47 CEST 2018]; root of context hierarchy
2018-06-14 02:27:48.598  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:48.598  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:48.598  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:48.598  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResourceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:48.598  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[POST],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:48.598  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:48.599  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:48.599  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:48.599  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PUT],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:48.599  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PATCH],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.patchItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException,org.springframework.data.rest.webmvc.ResourceNotFoundException
2018-06-14 02:27:48.599  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:48.600  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:48.600  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:48.600  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.data.rest.webmvc.RepositorySearchesResource org.springframework.data.rest.webmvc.RepositorySearchController.listSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:48.601  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders)
2018-06-14 02:27:48.601  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/x-spring-data-compact+json]}" onto public org.springframework.hateoas.ResourceSupport org.springframework.data.rest.webmvc.RepositorySearchController.executeSearchCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpHeaders,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler)
2018-06-14 02:27:48.601  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:48.602  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:48.602  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RepositoryLinksResource> org.springframework.data.rest.webmvc.RepositoryController.listRepositories()
2018-06-14 02:27:48.602  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositoryController.optionsForRepositories()
2018-06-14 02:27:48.602  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryController.headForRepositories()
2018-06-14 02:27:48.603  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReferenceId(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:48.603  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:48.603  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:48.603  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:48.603  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReferenceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:48.604  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[PATCH || PUT || POST],consumes=[application/json || application/x-spring-data-compact+json || text/uri-list],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.createPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpMethod,org.springframework.hateoas.Resources<java.lang.Object>,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:48.606  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[OPTIONS]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.ProfileController.profileOptions()
2018-06-14 02:27:48.606  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[GET]}" onto org.springframework.http.HttpEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.ProfileController.listAllFormsOfMetadata()
2018-06-14 02:27:48.607  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/alps+json || */*]}" onto org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RootResourceInformation> org.springframework.data.rest.webmvc.alps.AlpsController.descriptor(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:48.607  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[OPTIONS],produces=[application/alps+json]}" onto org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.alps.AlpsController.alpsOptions()
2018-06-14 02:27:48.607  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/schema+json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.json.JsonSchema> org.springframework.data.rest.webmvc.RepositorySchemaController.schema(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:48.709  INFO 274 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2018-06-14 02:27:48.709  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2018-06-14 02:27:48.717  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 8 ms
2018-06-14 02:27:48.739  INFO 274 --- [           main] c.v.choosing.web.UserControllerTest      : Started UserControllerTest in 1.615 seconds (JVM running for 18.722)
2018-06-14 02:27:48.864 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/users/0
       Parameters = {}
          Headers = {Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {
  "name" : "User",
  "email" : "user@yandex.ru",
  "enabled" : true,
  "registered" : "2018-06-14T00:27:47.816+0000",
  "roles" : [ "ROLE_USER" ],
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/api/users/0"
    },
    "user" : {
      "href" : "http://localhost:8080/api/users/0"
    }
  }
}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:48.904 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/users/2
       Parameters = {}
          Headers = {Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:48.922 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = PUT
      Request URI = /api/users/0
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = {"password":"user","roles":["ROLE_USER"],"name":"Update user","email":"user@yandex.ru"}
    Session Attrs = {}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 403
    Error message = Forbidden
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:48.932 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /api/users/0
       Parameters = {}
          Headers = {Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 204
    Error message = null
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:48.953  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3b0d9da: startup date [Thu Jun 14 02:27:47 CEST 2018]; root of context hierarchy
2018-06-14 02:27:48.955  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:48.955  INFO 274 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down'
[INFO] Tests run: 13, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.592 s - in com.vladmeh.choosing.web.UserControllerTest
[INFO] Running com.vladmeh.choosing.web.MenuControllerTest
2018-06-14 02:27:48.960  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.vladmeh.choosing.web.MenuControllerTest], using SpringBootContextLoader
2018-06-14 02:27:48.960  INFO 274 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.vladmeh.choosing.web.MenuControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-06-14 02:27:48.960  INFO 274 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.vladmeh.choosing.web.MenuControllerTest]: MenuControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2018-06-14 02:27:48.963  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.vladmeh.choosing.Application for test class com.vladmeh.choosing.web.MenuControllerTest
2018-06-14 02:27:48.964  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2018-06-14 02:27:48.965  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@20ed6de, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6ea0dfaa, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5852605c, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@2acfd27b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5e8359da, org.springframework.test.context.transaction.TransactionalTestExecutionListener@36b6802f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7d2d5625, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@29a51ff1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6dacde96, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6f999cf4, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7892635c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@79c9a128, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@729a98e9, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@51c7d472]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.0.2.RELEASE)

2018-06-14 02:27:48.983  INFO 274 --- [           main] c.v.choosing.web.MenuControllerTest      : Starting MenuControllerTest on spirals-vortex.lille.inria.fr with PID 274 (started by root in /root/workspace/vladmeh/choose-restaurant/392024338)
2018-06-14 02:27:48.983 DEBUG 274 --- [           main] c.v.choosing.web.MenuControllerTest      : Running with Spring Boot v2.0.2.RELEASE, Spring v5.0.6.RELEASE
2018-06-14 02:27:48.984  INFO 274 --- [           main] c.v.choosing.web.MenuControllerTest      : No active profile set, falling back to default profiles: default
2018-06-14 02:27:48.986  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1ef585bb: startup date [Thu Jun 14 02:27:48 CEST 2018]; root of context hierarchy
2018-06-14 02:27:49.170  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpRequestHandlerAdapter' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]
2018-06-14 02:27:49.185  INFO 274 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 02:27:49.185  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 02:27:49.256  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$72130427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:49.271  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ac0cc61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:49.274  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:49.274  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5118c7fb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:49.279  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2f956f13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:49.281  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:49.308  INFO 274 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:a3eddb06-6db6-4f09-98f0-dda25fa55576;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2018-06-14 02:27:49.361  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:49.361  INFO 274 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-06-14 02:27:49.367  INFO 274 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-14 02:27:49.438  INFO 274 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'ScriptSourceInputFromUrl(file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/import.sql)'
2018-06-14 02:27:49.443  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:49.524  INFO 274 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-14 02:27:49.889  INFO 274 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27449f65, org.springframework.security.web.context.SecurityContextPersistenceFilter@fb69ab1, org.springframework.security.web.header.HeaderWriterFilter@7f8586f9, org.springframework.security.web.authentication.logout.LogoutFilter@3c2b7322, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7207cb8b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ac3c6cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9223122, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b4a77be, org.springframework.security.web.session.SessionManagementFilter@248227db, org.springframework.security.web.access.ExceptionTranslationFilter@b0bd567, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23e0ef68]
2018-06-14 02:27:50.074  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:50.190  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1ef585bb: startup date [Thu Jun 14 02:27:48 CEST 2018]; root of context hierarchy
2018-06-14 02:27:50.197  WARN 274 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-14 02:27:50.214  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice],methods=[GET],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)
2018-06-14 02:27:50.215  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice/{id}],methods=[POST],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)
2018-06-14 02:27:50.216  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-06-14 02:27:50.216  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-06-14 02:27:50.247  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:50.247  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:50.260  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in restResponseEntityExceptionHandler
2018-06-14 02:27:50.261  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler
2018-06-14 02:27:50.391  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerAdapter   : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@1ef585bb: startup date [Thu Jun 14 02:27:48 CEST 2018]; root of context hierarchy
2018-06-14 02:27:50.399  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:50.399  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:50.399  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:50.399  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResourceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:50.399  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[POST],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:50.399  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:50.399  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:50.400  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:50.400  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PUT],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:50.400  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PATCH],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.patchItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException,org.springframework.data.rest.webmvc.ResourceNotFoundException
2018-06-14 02:27:50.400  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:50.400  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:50.401  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:50.401  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.data.rest.webmvc.RepositorySearchesResource org.springframework.data.rest.webmvc.RepositorySearchController.listSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:50.401  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders)
2018-06-14 02:27:50.401  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/x-spring-data-compact+json]}" onto public org.springframework.hateoas.ResourceSupport org.springframework.data.rest.webmvc.RepositorySearchController.executeSearchCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpHeaders,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler)
2018-06-14 02:27:50.401  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:50.401  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:50.402  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RepositoryLinksResource> org.springframework.data.rest.webmvc.RepositoryController.listRepositories()
2018-06-14 02:27:50.402  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositoryController.optionsForRepositories()
2018-06-14 02:27:50.402  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryController.headForRepositories()
2018-06-14 02:27:50.402  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReferenceId(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:50.402  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:50.403  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:50.403  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:50.403  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReferenceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:50.403  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[PATCH || PUT || POST],consumes=[application/json || application/x-spring-data-compact+json || text/uri-list],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.createPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpMethod,org.springframework.hateoas.Resources<java.lang.Object>,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:50.406  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[OPTIONS]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.ProfileController.profileOptions()
2018-06-14 02:27:50.406  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[GET]}" onto org.springframework.http.HttpEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.ProfileController.listAllFormsOfMetadata()
2018-06-14 02:27:50.406  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/alps+json || */*]}" onto org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RootResourceInformation> org.springframework.data.rest.webmvc.alps.AlpsController.descriptor(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:50.406  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[OPTIONS],produces=[application/alps+json]}" onto org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.alps.AlpsController.alpsOptions()
2018-06-14 02:27:50.406  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/schema+json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.json.JsonSchema> org.springframework.data.rest.webmvc.RepositorySchemaController.schema(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:50.532  INFO 274 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2018-06-14 02:27:50.532  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2018-06-14 02:27:50.542  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 10 ms
2018-06-14 02:27:50.566  INFO 274 --- [           main] c.v.choosing.web.MenuControllerTest      : Started MenuControllerTest in 1.6 seconds (JVM running for 20.55)
2018-06-14 02:27:50.695 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/menu/
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = {"date":[2018,6,14],"restaurant":"http://api/restaurant/3"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = javax.validation.ConstraintViolationException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"BAD_REQUEST","timestamp":"14-06-2018 02:27:50","message":"Unexpected error","details":"Validation failed for classes [com.vladmeh.choosing.model.Menu] during persist time for groups [javax.validation.groups.Default, ]\nList of constraint violations:[\n\tConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=restaurant, rootBeanClass=class com.vladmeh.choosing.model.Menu, messageTemplate='{javax.validation.constraints.NotNull.message}'}\n]"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:50.753 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com
2018-06-14 02:27:50.771 ERROR 274 --- [           main] o.h.i.ExceptionMapperStandardImpl        : HHH000346: Error during managed flush [Validation failed for classes [com.vladmeh.choosing.model.Menu] during update time for groups [javax.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='must not be null', propertyPath=date, rootBeanClass=class com.vladmeh.choosing.model.Menu, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]]

MockHttpServletRequest:
      HTTP Method = PUT
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = {"restaurant":"http://api/restaurant/3"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.transaction.TransactionSystemException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"BAD_REQUEST","timestamp":"14-06-2018 02:27:50","message":"Unexpected error","details":"Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:50.777 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/menu/
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = {"date":[2018,6,14],"restaurant":"http://localhost:8080/api/restaurant/0"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 201
    Error message = null
          Headers = {Location=[http://localhost:8080/api/menu/6], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = http://localhost:8080/api/menu/6
          Cookies = []
2018-06-14 02:27:50.795  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1ef585bb: startup date [Thu Jun 14 02:27:48 CEST 2018]; root of context hierarchy
2018-06-14 02:27:50.797  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:50.798  INFO 274 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down'

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.0.2.RELEASE)

2018-06-14 02:27:50.821  INFO 274 --- [           main] c.v.choosing.web.MenuControllerTest      : Starting MenuControllerTest on spirals-vortex.lille.inria.fr with PID 274 (started by root in /root/workspace/vladmeh/choose-restaurant/392024338)
2018-06-14 02:27:50.821 DEBUG 274 --- [           main] c.v.choosing.web.MenuControllerTest      : Running with Spring Boot v2.0.2.RELEASE, Spring v5.0.6.RELEASE
2018-06-14 02:27:50.821  INFO 274 --- [           main] c.v.choosing.web.MenuControllerTest      : No active profile set, falling back to default profiles: default
2018-06-14 02:27:50.823  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@446dea16: startup date [Thu Jun 14 02:27:50 CEST 2018]; root of context hierarchy
2018-06-14 02:27:51.070  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpRequestHandlerAdapter' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]
2018-06-14 02:27:51.099  INFO 274 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 02:27:51.099  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 02:27:51.187  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$72130427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:51.204  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ac0cc61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:51.209  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:51.210  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@988eae9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:51.217  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2f956f13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:51.221  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:51.260  INFO 274 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:2ddeac93-6a8f-4045-b5fc-fcceb7503f28;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2018-06-14 02:27:51.322  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:51.322  INFO 274 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-06-14 02:27:51.329  INFO 274 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-14 02:27:51.414  INFO 274 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'ScriptSourceInputFromUrl(file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/import.sql)'
2018-06-14 02:27:51.420  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:51.510  INFO 274 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-14 02:27:51.886  INFO 274 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fc4af25, org.springframework.security.web.context.SecurityContextPersistenceFilter@546ab02b, org.springframework.security.web.header.HeaderWriterFilter@2dd25088, org.springframework.security.web.authentication.logout.LogoutFilter@6415112c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2dca3c72, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bec83d5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4485ca30, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66abb7d4, org.springframework.security.web.session.SessionManagementFilter@586f1bef, org.springframework.security.web.access.ExceptionTranslationFilter@5bee88e3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@416dd4d8]
2018-06-14 02:27:52.021  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:52.106  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@446dea16: startup date [Thu Jun 14 02:27:50 CEST 2018]; root of context hierarchy
2018-06-14 02:27:52.115  WARN 274 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-14 02:27:52.128  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice],methods=[GET],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)
2018-06-14 02:27:52.128  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice/{id}],methods=[POST],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)
2018-06-14 02:27:52.129  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-06-14 02:27:52.129  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-06-14 02:27:52.151  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:52.151  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:52.161  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in restResponseEntityExceptionHandler
2018-06-14 02:27:52.161  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler
2018-06-14 02:27:52.308  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerAdapter   : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@446dea16: startup date [Thu Jun 14 02:27:50 CEST 2018]; root of context hierarchy
2018-06-14 02:27:52.315  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:52.316  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:52.316  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:52.316  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResourceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:52.316  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[POST],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:52.316  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:52.316  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:52.316  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:52.316  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PUT],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:52.317  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PATCH],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.patchItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException,org.springframework.data.rest.webmvc.ResourceNotFoundException
2018-06-14 02:27:52.317  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:52.317  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:52.317  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:52.317  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.data.rest.webmvc.RepositorySearchesResource org.springframework.data.rest.webmvc.RepositorySearchController.listSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:52.317  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders)
2018-06-14 02:27:52.318  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/x-spring-data-compact+json]}" onto public org.springframework.hateoas.ResourceSupport org.springframework.data.rest.webmvc.RepositorySearchController.executeSearchCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpHeaders,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler)
2018-06-14 02:27:52.318  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:52.318  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:52.318  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RepositoryLinksResource> org.springframework.data.rest.webmvc.RepositoryController.listRepositories()
2018-06-14 02:27:52.318  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositoryController.optionsForRepositories()
2018-06-14 02:27:52.318  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryController.headForRepositories()
2018-06-14 02:27:52.319  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReferenceId(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:52.319  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:52.319  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:52.319  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:52.319  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReferenceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:52.319  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[PATCH || PUT || POST],consumes=[application/json || application/x-spring-data-compact+json || text/uri-list],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.createPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpMethod,org.springframework.hateoas.Resources<java.lang.Object>,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:52.322  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[OPTIONS]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.ProfileController.profileOptions()
2018-06-14 02:27:52.322  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[GET]}" onto org.springframework.http.HttpEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.ProfileController.listAllFormsOfMetadata()
2018-06-14 02:27:52.322  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/alps+json || */*]}" onto org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RootResourceInformation> org.springframework.data.rest.webmvc.alps.AlpsController.descriptor(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:52.322  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[OPTIONS],produces=[application/alps+json]}" onto org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.alps.AlpsController.alpsOptions()
2018-06-14 02:27:52.323  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/schema+json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.json.JsonSchema> org.springframework.data.rest.webmvc.RepositorySchemaController.schema(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:52.441  INFO 274 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2018-06-14 02:27:52.442  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2018-06-14 02:27:52.452  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 10 ms
2018-06-14 02:27:52.478  INFO 274 --- [           main] c.v.choosing.web.MenuControllerTest      : Started MenuControllerTest in 1.674 seconds (JVM running for 22.461)
2018-06-14 02:27:52.631 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.access.AccessDeniedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"BAD_REQUEST","timestamp":"14-06-2018 02:27:52","message":"Unexpected error","details":"Access is denied"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.access.AccessDeniedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"BAD_REQUEST","timestamp":"14-06-2018 02:27:52","message":"Unexpected error","details":"Access is denied"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:52.713 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/menu/
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {
  "_embedded" : {
    "menu" : [ {
      "date" : "2018-06-14",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/0"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/0"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/0/restaurant"
        }
      }
    }, {
      "date" : "2018-05-23",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/1"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/1"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/1/restaurant"
        }
      }
    }, {
      "date" : "2018-06-14",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/2"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/2"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/2/restaurant"
        }
      }
    }, {
      "date" : "2018-05-23",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/3"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/3"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/3/restaurant"
        }
      }
    }, {
      "date" : "2018-06-14",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/4"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/4"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/4/restaurant"
        }
      }
    }, {
      "date" : "2018-05-23",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/5"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/5"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/5/restaurant"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/api/menu{?page,size,sort}",
      "templated" : true
    },
    "profile" : {
      "href" : "http://localhost:8080/api/profile/menu"
    },
    "search" : {
      "href" : "http://localhost:8080/api/menu/search"
    }
  },
  "page" : {
    "size" : 20,
    "totalElements" : 6,
    "totalPages" : 1,
    "number" : 0
  }
}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:52.776 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/menu/
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = {"date":[2018,6,14],"restaurant":"http://localhost:8080/api/restaurant/0"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.access.AccessDeniedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"BAD_REQUEST","timestamp":"14-06-2018 02:27:52","message":"Unexpected error","details":"Access is denied"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.access.AccessDeniedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"BAD_REQUEST","timestamp":"14-06-2018 02:27:52","message":"Unexpected error","details":"Access is denied"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/menu/
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {
  "_embedded" : {
    "menu" : [ {
      "date" : "2018-06-14",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/0"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/0"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/0/restaurant"
        }
      }
    }, {
      "date" : "2018-05-23",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/1"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/1"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/1/restaurant"
        }
      }
    }, {
      "date" : "2018-06-14",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/2"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/2"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/2/restaurant"
        }
      }
    }, {
      "date" : "2018-05-23",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/3"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/3"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/3/restaurant"
        }
      }
    }, {
      "date" : "2018-06-14",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/4"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/4"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/4/restaurant"
        }
      }
    }, {
      "date" : "2018-05-23",
      "_links" : {
        "self" : {
          "href" : "http://localhost:8080/api/menu/5"
        },
        "menu" : {
          "href" : "http://localhost:8080/api/menu/5"
        },
        "restaurant" : {
          "href" : "http://localhost:8080/api/menu/5/restaurant"
        }
      }
    } ]
  },
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/api/menu{?page,size,sort}",
      "templated" : true
    },
    "profile" : {
      "href" : "http://localhost:8080/api/profile/menu"
    },
    "search" : {
      "href" : "http://localhost:8080/api/menu/search"
    }
  },
  "page" : {
    "size" : 20,
    "totalElements" : 6,
    "totalPages" : 1,
    "number" : 0
  }
}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/menu/
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = {"date":[2018,6,14],"restaurant":"http://localhost:8080/api/restaurant/0"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.access.AccessDeniedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"BAD_REQUEST","timestamp":"14-06-2018 02:27:52","message":"Unexpected error","details":"Access is denied"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:52.807 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = PUT
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = {"date":[2018,6,14],"restaurant":"http://localhost:8080/api/restaurant/2"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Location=[http://localhost:8080/api/menu/0], Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {
  "date" : "2018-06-14",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/api/menu/0"
    },
    "menu" : {
      "href" : "http://localhost:8080/api/menu/0"
    },
    "restaurant" : {
      "href" : "http://localhost:8080/api/menu/0/restaurant"
    }
  }
}
    Forwarded URL = null
   Redirected URL = http://localhost:8080/api/menu/0
          Cookies = []
2018-06-14 02:27:52.831  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@446dea16: startup date [Thu Jun 14 02:27:50 CEST 2018]; root of context hierarchy
2018-06-14 02:27:52.833  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:52.834  INFO 274 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down'

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.0.2.RELEASE)

2018-06-14 02:27:52.874  INFO 274 --- [           main] c.v.choosing.web.MenuControllerTest      : Starting MenuControllerTest on spirals-vortex.lille.inria.fr with PID 274 (started by root in /root/workspace/vladmeh/choose-restaurant/392024338)
2018-06-14 02:27:52.874 DEBUG 274 --- [           main] c.v.choosing.web.MenuControllerTest      : Running with Spring Boot v2.0.2.RELEASE, Spring v5.0.6.RELEASE
2018-06-14 02:27:52.874  INFO 274 --- [           main] c.v.choosing.web.MenuControllerTest      : No active profile set, falling back to default profiles: default
2018-06-14 02:27:52.876  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5137526a: startup date [Thu Jun 14 02:27:52 CEST 2018]; root of context hierarchy
2018-06-14 02:27:53.117  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpRequestHandlerAdapter' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]
2018-06-14 02:27:53.137  INFO 274 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 02:27:53.137  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 02:27:53.209  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$72130427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:53.224  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ac0cc61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:53.228  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:53.228  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@56c75b4f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:53.233  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2f956f13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:53.235  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:53.268  INFO 274 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:a31b6ade-db90-457b-95a5-054795c3b0aa;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2018-06-14 02:27:53.329  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:53.329  INFO 274 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-06-14 02:27:53.336  INFO 274 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-14 02:27:53.439  INFO 274 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'ScriptSourceInputFromUrl(file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/import.sql)'
2018-06-14 02:27:53.443  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:53.549  INFO 274 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-14 02:27:53.952  INFO 274 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34a91445, org.springframework.security.web.context.SecurityContextPersistenceFilter@2219d6d8, org.springframework.security.web.header.HeaderWriterFilter@1f146411, org.springframework.security.web.authentication.logout.LogoutFilter@18c805b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3fd7be2d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4907b487, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@758f755a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a09f5b, org.springframework.security.web.session.SessionManagementFilter@6392ecbc, org.springframework.security.web.access.ExceptionTranslationFilter@4adfb1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66ce59d9]
2018-06-14 02:27:54.085  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:54.158  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5137526a: startup date [Thu Jun 14 02:27:52 CEST 2018]; root of context hierarchy
2018-06-14 02:27:54.165  WARN 274 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-14 02:27:54.178  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice],methods=[GET],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)
2018-06-14 02:27:54.178  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice/{id}],methods=[POST],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)
2018-06-14 02:27:54.179  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-06-14 02:27:54.180  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-06-14 02:27:54.203  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:54.203  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:54.212  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in restResponseEntityExceptionHandler
2018-06-14 02:27:54.213  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler
2018-06-14 02:27:54.365  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerAdapter   : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@5137526a: startup date [Thu Jun 14 02:27:52 CEST 2018]; root of context hierarchy
2018-06-14 02:27:54.372  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:54.373  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:54.373  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:54.373  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResourceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:54.373  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[POST],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:54.373  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:54.373  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:54.373  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:54.373  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PUT],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:54.374  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PATCH],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.patchItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException,org.springframework.data.rest.webmvc.ResourceNotFoundException
2018-06-14 02:27:54.374  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:54.374  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:54.374  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:54.374  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.data.rest.webmvc.RepositorySearchesResource org.springframework.data.rest.webmvc.RepositorySearchController.listSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:54.374  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders)
2018-06-14 02:27:54.375  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/x-spring-data-compact+json]}" onto public org.springframework.hateoas.ResourceSupport org.springframework.data.rest.webmvc.RepositorySearchController.executeSearchCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpHeaders,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler)
2018-06-14 02:27:54.375  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:54.375  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:54.375  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RepositoryLinksResource> org.springframework.data.rest.webmvc.RepositoryController.listRepositories()
2018-06-14 02:27:54.375  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositoryController.optionsForRepositories()
2018-06-14 02:27:54.375  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryController.headForRepositories()
2018-06-14 02:27:54.376  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReferenceId(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:54.376  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:54.376  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:54.376  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:54.376  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReferenceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:54.376  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[PATCH || PUT || POST],consumes=[application/json || application/x-spring-data-compact+json || text/uri-list],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.createPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpMethod,org.springframework.hateoas.Resources<java.lang.Object>,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:54.379  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[OPTIONS]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.ProfileController.profileOptions()
2018-06-14 02:27:54.379  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[GET]}" onto org.springframework.http.HttpEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.ProfileController.listAllFormsOfMetadata()
2018-06-14 02:27:54.379  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/alps+json || */*]}" onto org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RootResourceInformation> org.springframework.data.rest.webmvc.alps.AlpsController.descriptor(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:54.379  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[OPTIONS],produces=[application/alps+json]}" onto org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.alps.AlpsController.alpsOptions()
2018-06-14 02:27:54.380  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/schema+json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.json.JsonSchema> org.springframework.data.rest.webmvc.RepositorySchemaController.schema(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:54.496  INFO 274 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2018-06-14 02:27:54.496  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2018-06-14 02:27:54.505  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 9 ms
2018-06-14 02:27:54.528  INFO 274 --- [           main] c.v.choosing.web.MenuControllerTest      : Started MenuControllerTest in 1.684 seconds (JVM running for 24.511)
2018-06-14 02:27:54.652 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {
  "date" : "2018-06-14",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/api/menu/0"
    },
    "menu" : {
      "href" : "http://localhost:8080/api/menu/0"
    },
    "restaurant" : {
      "href" : "http://localhost:8080/api/menu/0/restaurant"
    }
  }
}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:54.687 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/menu/100
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:54.702 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth user@yandex.ru

MockHttpServletRequest:
      HTTP Method = PUT
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = {"date":[2018,6,14],"restaurant":"http://localhost:8080/api/restaurant/2"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.access.AccessDeniedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"BAD_REQUEST","timestamp":"14-06-2018 02:27:54","message":"Unexpected error","details":"Access is denied"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {
  "date" : "2018-06-14",
  "_links" : {
    "self" : {
      "href" : "http://localhost:8080/api/menu/0"
    },
    "menu" : {
      "href" : "http://localhost:8080/api/menu/0"
    },
    "restaurant" : {
      "href" : "http://localhost:8080/api/menu/0/restaurant"
    }
  }
}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/menu/100
       Parameters = {}
          Headers = {Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = PUT
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Content-Type=[application/json;charset=UTF-8], Authorization=[Basic dXNlckB5YW5kZXgucnU6dXNlcg==]}
             Body = {"date":[2018,6,14],"restaurant":"http://localhost:8080/api/restaurant/2"}
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = org.springframework.security.access.AccessDeniedException

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/hal+json;charset=UTF-8], X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = application/hal+json;charset=UTF-8
             Body = {"status":"BAD_REQUEST","timestamp":"14-06-2018 02:27:54","message":"Unexpected error","details":"Access is denied"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:54.735 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = DELETE
      Request URI = /api/menu/0
       Parameters = {}
          Headers = {Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 204
    Error message = null
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:54.751  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5137526a: startup date [Thu Jun 14 02:27:52 CEST 2018]; root of context hierarchy
2018-06-14 02:27:54.753  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:54.753  INFO 274 --- [           main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down'
[ERROR] Tests run: 11, Failures: 3, Errors: 0, Skipped: 0, Time elapsed: 5.789 s <<< FAILURE! - in com.vladmeh.choosing.web.MenuControllerTest
[ERROR] deletedIsForbidden(com.vladmeh.choosing.web.MenuControllerTest)  Time elapsed: 0.22 s  <<< FAILURE!
java.lang.AssertionError: Status expected:<403> but was:<400>
	at com.vladmeh.choosing.web.MenuControllerTest.deletedIsForbidden(MenuControllerTest.java:84)

[ERROR] createIsForbidden(com.vladmeh.choosing.web.MenuControllerTest)  Time elapsed: 0.03 s  <<< FAILURE!
java.lang.AssertionError: Status expected:<403> but was:<400>
	at com.vladmeh.choosing.web.MenuControllerTest.createIsForbidden(MenuControllerTest.java:51)

[ERROR] updateIsForbidden(com.vladmeh.choosing.web.MenuControllerTest)  Time elapsed: 0.033 s  <<< FAILURE!
java.lang.AssertionError: Status expected:<403> but was:<400>
	at com.vladmeh.choosing.web.MenuControllerTest.updateIsForbidden(MenuControllerTest.java:73)

[INFO] Running com.vladmeh.choosing.ApiDocumentationTest
2018-06-14 02:27:54.757  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.vladmeh.choosing.ApiDocumentationTest], using SpringBootContextLoader
2018-06-14 02:27:54.758  INFO 274 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [com.vladmeh.choosing.ApiDocumentationTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2018-06-14 02:27:54.758  INFO 274 --- [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.vladmeh.choosing.ApiDocumentationTest]: ApiDocumentationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2018-06-14 02:27:54.763  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.vladmeh.choosing.Application for test class com.vladmeh.choosing.ApiDocumentationTest
2018-06-14 02:27:54.764  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2018-06-14 02:27:54.765  INFO 274 --- [           main] .b.t.c.SpringBootTestContextBootstrapper : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@65f913fd, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@56059cf1, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3b89bccf, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@299a0651, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4518e64, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7ec9780b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@8d0dcd9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7101fb1c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@79ab79f6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4c974fe8, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@422f74b7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3c88bef5, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@1e4e145b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@68d0e075]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.0.2.RELEASE)

2018-06-14 02:27:54.785  INFO 274 --- [           main] c.vladmeh.choosing.ApiDocumentationTest  : Starting ApiDocumentationTest on spirals-vortex.lille.inria.fr with PID 274 (started by root in /root/workspace/vladmeh/choose-restaurant/392024338)
2018-06-14 02:27:54.786 DEBUG 274 --- [           main] c.vladmeh.choosing.ApiDocumentationTest  : Running with Spring Boot v2.0.2.RELEASE, Spring v5.0.6.RELEASE
2018-06-14 02:27:54.786  INFO 274 --- [           main] c.vladmeh.choosing.ApiDocumentationTest  : No active profile set, falling back to default profiles: default
2018-06-14 02:27:54.787  INFO 274 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@56ca8151: startup date [Thu Jun 14 02:27:54 CEST 2018]; root of context hierarchy
2018-06-14 02:27:55.034  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'httpRequestHandlerAdapter' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration; factoryMethodName=httpRequestHandlerAdapter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]]
2018-06-14 02:27:55.053  INFO 274 --- [           main] beddedDataSourceBeanFactoryPostProcessor : Replacing 'dataSource' DataSource bean with embedded version
2018-06-14 02:27:55.053  INFO 274 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'dataSource' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari; factoryMethodName=dataSource; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]] with [Root bean: class [org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null]
2018-06-14 02:27:55.142  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$72130427] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:55.156  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration' of type [org.springframework.security.config.annotation.configuration.ObjectPostProcessorConfiguration$$EnhancerBySpringCGLIB$$ac0cc61] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:55.159  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'objectPostProcessor' of type [org.springframework.security.config.annotation.configuration.AutowireBeanFactoryObjectPostProcessor] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:55.159  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@784bea2c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:55.165  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration' of type [org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration$$EnhancerBySpringCGLIB$$2f956f13] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:55.167  INFO 274 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-06-14 02:27:55.205  INFO 274 --- [           main] o.s.j.d.e.EmbeddedDatabaseFactory        : Starting embedded database: url='jdbc:h2:mem:3bf03700-3018-49c0-90e6-c4a828c2f09c;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false', username='sa'
2018-06-14 02:27:55.274  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:55.274  INFO 274 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-06-14 02:27:55.283  INFO 274 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-06-14 02:27:55.383  INFO 274 --- [           main] o.h.t.schema.internal.SchemaCreatorImpl  : HHH000476: Executing import script 'ScriptSourceInputFromUrl(file:/root/workspace/vladmeh/choose-restaurant/392024338/target/classes/import.sql)'
2018-06-14 02:27:55.387  INFO 274 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:55.511  INFO 274 --- [           main] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory
2018-06-14 02:27:55.900  INFO 274 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59253557, org.springframework.security.web.context.SecurityContextPersistenceFilter@7fa0f739, org.springframework.security.web.header.HeaderWriterFilter@1172d47, org.springframework.security.web.authentication.logout.LogoutFilter@2417413c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7aa5de8c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f74ae13, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4731c9af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@618dbfd4, org.springframework.security.web.session.SessionManagementFilter@5ecc530, org.springframework.security.web.access.ExceptionTranslationFilter@33c6625c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e99738e]
2018-06-14 02:27:56.029  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:56.109  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@56ca8151: startup date [Thu Jun 14 02:27:54 CEST 2018]; root of context hierarchy
2018-06-14 02:27:56.116  WARN 274 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2018-06-14 02:27:56.129  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice],methods=[GET],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.current(com.vladmeh.choosing.userdetails.UserPrincipal)
2018-06-14 02:27:56.129  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/api/choice/{id}],methods=[POST],produces=[application/hal+json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<com.vladmeh.choosing.model.Restaurant> com.vladmeh.choosing.web.ChoiceController.choice(com.vladmeh.choosing.userdetails.UserPrincipal,com.vladmeh.choosing.model.Menu)
2018-06-14 02:27:56.130  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-06-14 02:27:56.131  INFO 274 --- [           main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-06-14 02:27:56.156  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:56.156  INFO 274 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-06-14 02:27:56.165  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in restResponseEntityExceptionHandler
2018-06-14 02:27:56.165  INFO 274 --- [           main] .m.m.a.ExceptionHandlerExceptionResolver : Detected @ExceptionHandler methods in repositoryRestExceptionHandler
2018-06-14 02:27:56.299  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerAdapter   : Looking for @ControllerAdvice: org.springframework.web.context.support.GenericWebApplicationContext@56ca8151: startup date [Thu Jun 14 02:27:54 CEST 2018]; root of context hierarchy
2018-06-14 02:27:56.308  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:56.308  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:56.308  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:56.308  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.hateoas.Resources<?> org.springframework.data.rest.webmvc.RepositoryEntityController.getCollectionResourceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:56.309  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}],methods=[POST],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.postCollectionResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:56.309  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.optionsForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:56.309  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.headForItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:56.309  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:56.309  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PUT],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.putItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:56.309  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[PATCH],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryEntityController.patchItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.data.rest.webmvc.PersistentEntityResource,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.data.rest.webmvc.support.ETag,java.lang.String) throws org.springframework.web.HttpRequestMethodNotSupportedException,org.springframework.data.rest.webmvc.ResourceNotFoundException
2018-06-14 02:27:56.309  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryEntityController.deleteItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.support.ETag) throws org.springframework.data.rest.webmvc.ResourceNotFoundException,org.springframework.web.HttpRequestMethodNotSupportedException
2018-06-14 02:27:56.310  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:56.310  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:56.310  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.data.rest.webmvc.RepositorySearchesResource org.springframework.data.rest.webmvc.RepositorySearchController.listSearches(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:56.310  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositorySearchController.executeSearch(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders)
2018-06-14 02:27:56.310  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[GET],produces=[application/x-spring-data-compact+json]}" onto public org.springframework.hateoas.ResourceSupport org.springframework.data.rest.webmvc.RepositorySearchController.executeSearchCompact(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpHeaders,org.springframework.util.MultiValueMap<java.lang.String, java.lang.Object>,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.support.DefaultedPageable,org.springframework.data.domain.Sort,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler)
2018-06-14 02:27:56.311  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.optionsForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:56.311  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/search/{search}],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<java.lang.Object> org.springframework.data.rest.webmvc.RepositorySearchController.headForSearch(org.springframework.data.rest.webmvc.RootResourceInformation,java.lang.String)
2018-06-14 02:27:56.311  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RepositoryLinksResource> org.springframework.data.rest.webmvc.RepositoryController.listRepositories()
2018-06-14 02:27:56.311  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[OPTIONS],produces=[application/hal+json || application/json]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.RepositoryController.optionsForRepositories()
2018-06-14 02:27:56.311  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/ || /api],methods=[HEAD],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<?> org.springframework.data.rest.webmvc.RepositoryController.headForRepositories()
2018-06-14 02:27:56.312  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReferenceId(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:56.312  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}/{propertyId}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:56.312  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:56.312  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[DELETE],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.deletePropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:56.312  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[GET],produces=[application/x-spring-data-compact+json || text/uri-list]}" onto public org.springframework.http.ResponseEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.followPropertyReferenceCompact(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,java.lang.String,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler) throws java.lang.Exception
2018-06-14 02:27:56.312  INFO 274 --- [           main] o.s.d.r.w.RepositoryRestHandlerMapping   : Mapped "{[/api/{repository}/{id}/{property}],methods=[PATCH || PUT || POST],consumes=[application/json || application/x-spring-data-compact+json || text/uri-list],produces=[application/hal+json || application/json]}" onto public org.springframework.http.ResponseEntity<? extends org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.RepositoryPropertyReferenceController.createPropertyReference(org.springframework.data.rest.webmvc.RootResourceInformation,org.springframework.http.HttpMethod,org.springframework.hateoas.Resources<java.lang.Object>,java.io.Serializable,java.lang.String) throws java.lang.Exception
2018-06-14 02:27:56.315  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[OPTIONS]}" onto public org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.ProfileController.profileOptions()
2018-06-14 02:27:56.315  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile],methods=[GET]}" onto org.springframework.http.HttpEntity<org.springframework.hateoas.ResourceSupport> org.springframework.data.rest.webmvc.ProfileController.listAllFormsOfMetadata()
2018-06-14 02:27:56.315  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/alps+json || */*]}" onto org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.RootResourceInformation> org.springframework.data.rest.webmvc.alps.AlpsController.descriptor(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:56.316  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[OPTIONS],produces=[application/alps+json]}" onto org.springframework.http.HttpEntity<?> org.springframework.data.rest.webmvc.alps.AlpsController.alpsOptions()
2018-06-14 02:27:56.316  INFO 274 --- [           main] o.s.d.r.w.BasePathAwareHandlerMapping    : Mapped "{[/api/profile/{repository}],methods=[GET],produces=[application/schema+json]}" onto public org.springframework.http.HttpEntity<org.springframework.data.rest.webmvc.json.JsonSchema> org.springframework.data.rest.webmvc.RepositorySchemaController.schema(org.springframework.data.rest.webmvc.RootResourceInformation)
2018-06-14 02:27:56.436  INFO 274 --- [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring FrameworkServlet ''
2018-06-14 02:27:56.436  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization started
2018-06-14 02:27:56.446  INFO 274 --- [           main] o.s.t.web.servlet.TestDispatcherServlet  : FrameworkServlet '': initialization completed in 10 ms
2018-06-14 02:27:56.473  INFO 274 --- [           main] c.vladmeh.choosing.ApiDocumentationTest  : Started ApiDocumentationTest in 1.707 seconds (JVM running for 26.457)
2018-06-14 02:27:56.606 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/users/2
       Parameters = {}
          Headers = {Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.data.rest.webmvc.RepositoryEntityController
           Method = public org.springframework.http.ResponseEntity<org.springframework.hateoas.Resource<?>> org.springframework.data.rest.webmvc.RepositoryEntityController.getItemResource(org.springframework.data.rest.webmvc.RootResourceInformation,java.io.Serializable,org.springframework.data.rest.webmvc.PersistentEntityResourceAssembler,org.springframework.http.HttpHeaders) throws org.springframework.web.HttpRequestMethodNotSupportedException

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /error
       Parameters = {}
          Headers = {}
             Body = <no character encoding set>
    Session Attrs = {}

Handler:
             Type = org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController
           Method = public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController.error(javax.servlet.http.HttpServletRequest)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 400
    Error message = null
          Headers = {Content-Type=[application/json;charset=UTF-8]}
     Content type = application/json;charset=UTF-8
             Body = {"timestamp":1528936076627,"status":400,"error":"Bad Request","message":"The tag 'http://localhost:8080/api/users/123' does not exist","path":"/users"}
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2018-06-14 02:27:56.660 DEBUG 274 --- [           main] c.v.choosing.service.UserDetailService   : auth admin@gmail.com

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/user
       Parameters = {}
          Headers = {Authorization=[Basic YWRtaW5AZ21haWwuY29tOmFkbWlu]}
             Body = null
    Session Attrs = {}

Handler:
             Type = org.springframework.web.servlet.resource.ResourceHttpRequestHandler

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 404
    Error message = null
          Headers = {X-Content-Type-Options=[nosniff], X-XSS-Protection=[1; mode=block], Cache-Control=[no-cache, no-store, max-age=0, must-revalidate], Pragma=[no-cache], Expires=[0]}
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.904 s - in com.vladmeh.choosing.ApiDocumentationTest
2018-06-14 02:27:56.682  INFO 274 --- [      Thread-24] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@56ca8151: startup date [Thu Jun 14 02:27:54 CEST 2018]; root of context hierarchy
2018-06-14 02:27:56.687  INFO 274 --- [      Thread-24] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2018-06-14 02:27:56.688  INFO 274 --- [      Thread-24] .SchemaDropperImpl$DelayedDropActionImpl : HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down'
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   MenuControllerTest.createIsForbidden:51->AbstractControllerTest.testCreateIsForbidden:101 Status expected:<403> but was:<400>
[ERROR]   MenuControllerTest.deletedIsForbidden:84->AbstractControllerTest.testDeleteIsForbidden:151 Status expected:<403> but was:<400>
[ERROR]   MenuControllerTest.updateIsForbidden:73->AbstractControllerTest.testUpdateIsForbidden:137 Status expected:<403> but was:<400>
[INFO] 
[ERROR] Tests run: 32, Failures: 3, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 30.139 s
[INFO] Finished at: 2018-06-14T02:27:57+02:00
[INFO] Final Memory: 31M/950M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21.0:test (default-test) on project choose-restaurant: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/vladmeh/choose-restaurant/392024338/target/surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
