[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO] 
[INFO] apiman
[INFO] apiman-common
[INFO] apiman-common-auth
[INFO] apiman-common-util
[INFO] apiman-common-config
[INFO] apiman-common-es
[INFO] apiman-common-net
[INFO] apiman-common-plugin
[INFO] apiman-common-servlet
[INFO] apiman-common-logging
[INFO] apiman-common-logging-core
[INFO] apiman-gateway
[INFO] apiman-gateway-engine
[INFO] apiman-gateway-engine-beans
[INFO] apiman-gateway-engine-core
[INFO] apiman-common-logging-slf4j
[INFO] apiman-common-logging-log4j2
[INFO] apiman-distro
[INFO] apiman-distro-data
[INFO] apiman-manager
[INFO] apiman-manager-api
[INFO] apiman-manager-api-beans
[INFO] apiman-distro-ddl
[INFO] apiman-manager-api-config
[INFO] apiman-manager-api-core
[INFO] apiman-gateway-api
[INFO] apiman-gateway-api-rest
[INFO] apiman-manager-api-gateway
[INFO] apiman-manager-api-export-import-api
[INFO] apiman-manager-api-security
[INFO] apiman-manager-api-rest
[INFO] apiman-test
[INFO] apiman-test-common
[INFO] apiman-manager-api-migrator
[INFO] apiman-manager-api-rest-impl
[INFO] apiman-manager-api-jpa
[INFO] apiman-manager-api-es
[INFO] apiman-manager-api-jdbc
[INFO] apiman-manager-api-hawkular
[INFO] apiman-manager-api-war
[INFO] apiman-manager-api-ispn
[INFO] apiman-manager-api-war-wildfly8
[INFO] apiman-manager-ui
[INFO] apiman-manager-ui-war
[INFO] apiman-manager-ui-war-wildfly8
[INFO] apiman-gateway-engine-hazelcast
[INFO] apiman-gateway-engine-ispn
[INFO] apiman-gateway-engine-es
[INFO] apiman-gateway-engine-hawkular
[INFO] apiman-gateway-engine-jdbc
[INFO] apiman-gateway-engine-influxdb
[INFO] apiman-test-policies
[INFO] apiman-gateway-engine-policies
[INFO] apiman-gateway-platforms
[INFO] apiman-gateway-platforms-servlet
[INFO] apiman-gateway-api-rest-impl
[INFO] apiman-gateway-platforms-war
[INFO] apiman-gateway-platforms-war-wildfly8
[INFO] apiman-gateway-platforms-war-wildfly8-api
[INFO] apiman-gateway-platforms-war-wildfly8-gateway
[INFO] apiman-distro-es
[INFO] apiman-distro-wildfly10
[INFO] apiman-distro-eap7
[INFO] apiman-manager-api-war-tomcat8
[INFO] apiman-manager-ui-war-tomcat8
[INFO] apiman-gateway-platforms-war-tomcat8
[INFO] apiman-gateway-platforms-war-tomcat8-api
[INFO] apiman-gateway-platforms-war-tomcat8-gateway
[INFO] apiman-distro-tomcat8
[INFO] apiman-distro-wildfly11
[INFO] apiman-gateway-platforms-vertx3-common
[INFO] apiman-gateway-engine-vertx-eb-inmemory
[INFO] apiman-gateway-engine-vertx-polling
[INFO] apiman-gateway-engine-3scale
[INFO] apiman-gateway-engine-prometheus
[INFO] apiman-gateway-platforms-vertx3
[INFO] apiman-distro-vertx
[INFO] apiman-manager-api-micro
[INFO] apiman-manager-test
[INFO] apiman-manager-test-api
[INFO] apiman-gateway-engine-osgi
[INFO] apiman-gateway-engine-vertx-shareddata
[INFO] apiman-gateway-platforms-war-micro
[INFO] apiman-gateway-test
[INFO] apiman-test-suite
[INFO] apiman-tools
[INFO] apiman-tools-ddl
[INFO] apiman-tools-i18n
[INFO] apiman-tools-jdbc
[INFO] apiman-tools-ldap
[INFO] apiman-tools-services
[INFO] apiman-tools-server-all
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-auth 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-auth ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-auth ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/auth/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-auth ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-auth ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-auth ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/auth/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-auth ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-auth ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-util 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-util ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-util ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/util/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-util ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-util ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-util ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-util ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-util ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/common/util/target/surefire-reports
[INFO] Downloading: https://repo1.maven.org/maven2/org/apache/maven/surefire/surefire-junit4/2.17/surefire-junit4-2.17.pom
[INFO] Downloaded: https://repo1.maven.org/maven2/org/apache/maven/surefire/surefire-junit4/2.17/surefire-junit4-2.17.pom (3 KB at 11.0 KB/sec)
[INFO] Downloading: https://repo1.maven.org/maven2/org/apache/maven/surefire/surefire-providers/2.17/surefire-providers-2.17.pom
[INFO] Downloaded: https://repo1.maven.org/maven2/org/apache/maven/surefire/surefire-providers/2.17/surefire-providers-2.17.pom (3 KB at 129.0 KB/sec)
[INFO] Downloading: https://repo1.maven.org/maven2/org/apache/maven/surefire/surefire-junit4/2.17/surefire-junit4-2.17.jar
[INFO] Downloaded: https://repo1.maven.org/maven2/org/apache/maven/surefire/surefire-junit4/2.17/surefire-junit4-2.17.jar (63 KB at 1532.0 KB/sec)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.common.util.ddl.DdlParserTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.036 sec - in io.apiman.common.util.ddl.DdlParserTest
Running io.apiman.common.util.ApimanPathUtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in io.apiman.common.util.ApimanPathUtilsTest

Results :

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-config 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-config ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-config ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-config ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-config ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-config ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/config/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-config ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-config ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-es 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-es ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-es ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/es/src/main/resources
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-es ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-es ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-es ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/es/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-es ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-es ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-net 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-net ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-net ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/net/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-net ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-net ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-net ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/net/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-net ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-net ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/common/net/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.common.net.hawkular.HawkularMetricsClientTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.254 sec - in io.apiman.common.net.hawkular.HawkularMetricsClientTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-plugin 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-plugin ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-plugin ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/plugin/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-plugin ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-plugin ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-plugin ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-plugin ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-plugin ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/common/plugin/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.common.plugin.PluginCoordinatesTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.044 sec - in io.apiman.common.plugin.PluginCoordinatesTest
Running io.apiman.common.plugin.PluginClassLoaderTest
Hello from apiman-quickstarts-plugin-with-deps::DepsPluginMain!
{"field1":"value1","field2":"value2"}
Hello from apiman-quickstarts-plugin::PluginMain!
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.21 sec - in io.apiman.common.plugin.PluginClassLoaderTest

Results :

Tests run: 6, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-servlet 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-servlet ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-servlet ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/servlet/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-servlet ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-servlet ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-servlet ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/servlet/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-servlet ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-servlet ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-logging 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-logging ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-logging ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-logging-core 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-logging-core ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-logging-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/logging/core/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-logging-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-logging-core ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-logging-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/logging/core/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-logging-core ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-logging-core ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-beans 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-beans ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-beans ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/beans/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-beans ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-beans ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-beans ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/beans/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-beans ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-beans ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/gateway/engine/beans/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.gateway.engine.beans.util.QueryMapTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 2, Time elapsed: 0.04 sec - in io.apiman.gateway.engine.beans.util.QueryMapTest
Running io.apiman.gateway.engine.beans.util.CaseInsensitiveStringMultiMapTest
Tests run: 24, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.487 sec - in io.apiman.gateway.engine.beans.util.CaseInsensitiveStringMultiMapTest
Running io.apiman.gateway.engine.beans.util.HeaderMapIOTest
{Header-1 => [Value-1], Header-2 => [Value-2], Header-3 => [Value-3], Header-4 => [Value-4]}
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.196 sec - in io.apiman.gateway.engine.beans.util.HeaderMapIOTest

Results :

Tests run: 29, Failures: 0, Errors: 0, Skipped: 2

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-core 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-core ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-core ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/core/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-core ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/gateway/engine/core/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.gateway.engine.impl.DefaultJdbcComponentTest
Before!
Create worked, inserting.
Insert successful.
Insert successful.
Insert successful.
Before!
Create worked, inserting.
Insert successful.
Insert successful.
Insert successful.
Before!
Create worked, inserting.
Insert successful.
Insert successful.
Insert successful.
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.344 sec - in io.apiman.gateway.engine.impl.DefaultJdbcComponentTest
Running io.apiman.gateway.engine.impl.DataPolicyChainTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.201 sec - in io.apiman.gateway.engine.impl.DataPolicyChainTest
Running io.apiman.gateway.engine.impl.DefaultExecuteBlockingComponentTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.053 sec - in io.apiman.gateway.engine.impl.DefaultExecuteBlockingComponentTest
Running io.apiman.gateway.engine.impl.PolicyLoadTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in io.apiman.gateway.engine.impl.PolicyLoadTest
Running io.apiman.gateway.engine.impl.AbstractConnectorConfigTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in io.apiman.gateway.engine.impl.AbstractConnectorConfigTest
Running io.apiman.gateway.engine.impl.DefaultEngineFactoryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.385 sec - in io.apiman.gateway.engine.impl.DefaultEngineFactoryTest
Running io.apiman.gateway.engine.impl.PolicyChainTest
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.036 sec - in io.apiman.gateway.engine.impl.PolicyChainTest
Running io.apiman.gateway.engine.impl.AesDataEncrypterTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in io.apiman.gateway.engine.impl.AesDataEncrypterTest
Running io.apiman.gateway.engine.io.SoapPayloadIOTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.078 sec - in io.apiman.gateway.engine.io.SoapPayloadIOTest
Running io.apiman.gateway.engine.io.XmlPayloadIOTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in io.apiman.gateway.engine.io.XmlPayloadIOTest
Running io.apiman.gateway.engine.io.JsonPayloadIOTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.07 sec - in io.apiman.gateway.engine.io.JsonPayloadIOTest
Running io.apiman.gateway.engine.soap.SoapHeaderScannerTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 sec - in io.apiman.gateway.engine.soap.SoapHeaderScannerTest

Results :

Tests run: 41, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-logging-slf4j 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-logging-slf4j ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-logging-slf4j ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/logging/slf4j/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-logging-slf4j ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-logging-slf4j ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-logging-slf4j ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/logging/slf4j/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-logging-slf4j ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-logging-slf4j ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-common-logging-log4j2 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-common-logging-log4j2 ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-common-logging-log4j2 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/logging/log4j2/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-common-logging-log4j2 ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-common-logging-log4j2 ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-common-logging-log4j2 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/common/logging/log4j2/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-common-logging-log4j2 ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-common-logging-log4j2 ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-distro 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-distro ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-distro ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-distro-data 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-distro-data ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-distro-data ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 25 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-distro-data ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-distro-data ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-distro-data ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/distro/data/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-distro-data ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-distro-data ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-beans 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-beans ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-beans ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/beans/src/main/resources
[INFO] Copying 120 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-beans ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-beans ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-beans ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/beans/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-beans ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-beans ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/manager/api/beans/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.manager.api.beans.BeanUtilsTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.46 sec - in io.apiman.manager.api.beans.BeanUtilsTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-distro-ddl 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-distro-ddl ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-distro-ddl ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-distro-ddl ---
[INFO] No sources to compile
[INFO] 
[INFO] --- liquibase-maven-plugin:3.4.1:updateSQL (h2-ddl) @ apiman-distro-ddl ---
[INFO] ------------------------------------------------------------------------
[INFO] Loading artfacts into URLClassLoader
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/manager/api/beans/target/classes/
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/common/util/target/classes/
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/commons-codec/commons-codec/1.10/commons-codec-1.10.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/org/apache/commons/commons-lang3/3.3.2/commons-lang3-3.3.2.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/commons-io/commons-io/2.4/commons-io-2.4.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/junit/junit/4.11/junit-4.11.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/org/mockito/mockito-all/1.9.5/mockito-all-1.9.5.jar
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/distro/ddl/target/classes/
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/distro/ddl/target/test-classes
[INFO] ------------------------------------------------------------------------
[INFO] Settings
----------------------------
[INFO]     driver: org.h2.Driver
[INFO]     url: offline:h2?version=1.3&caseSensitive=true&changeLogFile=/root/workspace/msavy/apiman/396466689/distro/ddl/target/changelog/h2/databasechangelog.csv
[INFO]     username: sa
[INFO]     password: *****
[INFO]     use empty password: true
[INFO]     properties file: null
[INFO]     properties file will override? false
[INFO]     prompt on non-local database? false
[INFO]     clear checksums? false
[INFO]     changeLogFile: /root/workspace/msavy/apiman/396466689/distro/ddl/src/main/liquibase/master.xml
[INFO]     context(s): null
[INFO]     label(s): null
[INFO]     number of changes to apply: 0
[INFO]     migrationSQLOutputFile: /root/workspace/msavy/apiman/396466689/distro/ddl/target/apiman_h2.ddl
[INFO] ------------------------------------------------------------------------
[INFO] Output SQL Migration File: /root/workspace/msavy/apiman/396466689/distro/ddl/target/apiman_h2.ddl
[INFO] Executing on Database: offline:h2?version=1.3&caseSensitive=true&changeLogFile=/root/workspace/msavy/apiman/396466689/distro/ddl/target/changelog/h2/databasechangelog.csv
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] 
[INFO] --- liquibase-maven-plugin:3.4.1:updateSQL (postgresql-ddl) @ apiman-distro-ddl ---
[INFO] ------------------------------------------------------------------------
[INFO] Loading artfacts into URLClassLoader
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/manager/api/beans/target/classes/
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/common/util/target/classes/
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/commons-codec/commons-codec/1.10/commons-codec-1.10.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/org/apache/commons/commons-lang3/3.3.2/commons-lang3-3.3.2.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/commons-io/commons-io/2.4/commons-io-2.4.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/junit/junit/4.11/junit-4.11.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/org/mockito/mockito-all/1.9.5/mockito-all-1.9.5.jar
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/distro/ddl/target/classes/
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/distro/ddl/target/test-classes
[INFO] ------------------------------------------------------------------------
[INFO] Settings
----------------------------
[INFO]     driver: org.postgresql.Driver
[INFO]     url: offline:postgresql?version=9.3&caseSensitive=true&changeLogFile=/root/workspace/msavy/apiman/396466689/distro/ddl/target/changelog/postgresql/databasechangelog.csv
[INFO]     username: apiman
[INFO]     password: *****
[INFO]     use empty password: false
[INFO]     properties file: null
[INFO]     properties file will override? false
[INFO]     prompt on non-local database? false
[INFO]     clear checksums? false
[INFO]     changeLogFile: /root/workspace/msavy/apiman/396466689/distro/ddl/src/main/liquibase/master.xml
[INFO]     context(s): null
[INFO]     label(s): null
[INFO]     number of changes to apply: 0
[INFO]     migrationSQLOutputFile: /root/workspace/msavy/apiman/396466689/distro/ddl/target/apiman_postgresql9.ddl
[INFO] ------------------------------------------------------------------------
[INFO] Output SQL Migration File: /root/workspace/msavy/apiman/396466689/distro/ddl/target/apiman_postgresql9.ddl
[INFO] Executing on Database: offline:postgresql?version=9.3&caseSensitive=true&changeLogFile=/root/workspace/msavy/apiman/396466689/distro/ddl/target/changelog/postgresql/databasechangelog.csv
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] 
[INFO] --- liquibase-maven-plugin:3.4.1:updateSQL (mysql-ddl) @ apiman-distro-ddl ---
[INFO] ------------------------------------------------------------------------
[INFO] Loading artfacts into URLClassLoader
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/manager/api/beans/target/classes/
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/common/util/target/classes/
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/commons-codec/commons-codec/1.10/commons-codec-1.10.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/org/apache/commons/commons-lang3/3.3.2/commons-lang3-3.3.2.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/commons-io/commons-io/2.4/commons-io-2.4.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/junit/junit/4.11/junit-4.11.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar
[INFO]   artifact: file:/root/./workspace/msavy/apiman/396466689/.m2/org/mockito/mockito-all/1.9.5/mockito-all-1.9.5.jar
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/distro/ddl/target/classes/
[INFO]   artifact: file:/root/workspace/msavy/apiman/396466689/distro/ddl/target/test-classes
[INFO] ------------------------------------------------------------------------
[INFO] Settings
----------------------------
[INFO]     driver: com.mysql.jdbc.Driver
[INFO]     url: offline:mysql?version=5.1&caseSensitive=true&changeLogFile=/root/workspace/msavy/apiman/396466689/distro/ddl/target/changelog/mysql/databasechangelog.csv
[INFO]     username: apiman
[INFO]     password: *****
[INFO]     use empty password: false
[INFO]     properties file: null
[INFO]     properties file will override? false
[INFO]     prompt on non-local database? false
[INFO]     clear checksums? false
[INFO]     changeLogFile: /root/workspace/msavy/apiman/396466689/distro/ddl/src/main/liquibase/master.xml
[INFO]     context(s): null
[INFO]     label(s): null
[INFO]     number of changes to apply: 0
[INFO]     migrationSQLOutputFile: /root/workspace/msavy/apiman/396466689/distro/ddl/target/apiman_mysql5.ddl
[INFO] ------------------------------------------------------------------------
[INFO] Output SQL Migration File: /root/workspace/msavy/apiman/396466689/distro/ddl/target/apiman_mysql5.ddl
[INFO] Executing on Database: offline:mysql?version=5.1&caseSensitive=true&changeLogFile=/root/workspace/msavy/apiman/396466689/distro/ddl/target/changelog/mysql/databasechangelog.csv
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-distro-ddl ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-distro-ddl ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/distro/ddl/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-distro-ddl ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-distro-ddl ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-config 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-config ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-config ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-config ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-config ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-config ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/config/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-config ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-config ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-core 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-core ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-core ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-core ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-core ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/manager/api/core/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.manager.api.core.PolicyTemplateUtilTest
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.429 sec - in io.apiman.manager.api.core.PolicyTemplateUtilTest
Running io.apiman.manager.api.core.plugin.AbstractPluginRegistryTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.057 sec - in io.apiman.manager.api.core.plugin.AbstractPluginRegistryTest

Results :

Tests run: 10, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-api 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-api ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-api ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-api-rest 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-api-rest ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-api-rest ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/api/rest/src/main/resources
[INFO] Copying 7 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-api-rest ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-api-rest ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-api-rest ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/api/rest/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-api-rest ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-api-rest ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-gateway 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-gateway ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-gateway ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-gateway ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/gateway/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-gateway ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-gateway ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/manager/api/gateway/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.manager.api.gateway.rest.GatewayClientTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.256 sec - in io.apiman.manager.api.gateway.rest.GatewayClientTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-export-import-api 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-export-import-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-export-import-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-export-import-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-export-import-api ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-export-import-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/export-import/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-export-import-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-export-import-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-security 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-security ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-security ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-security ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-security ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-security ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/security/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-security ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-security ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-rest 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-rest ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-rest ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/rest/src/main/resources
[INFO] Copying 62 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-rest ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-rest ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-rest ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/rest/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-rest ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-rest ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-test 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-test ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-test ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-test-common 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-test-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-test-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-test-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-test-common ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-test-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/test/common/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-test-common ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-test-common ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-migrator 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-migrator ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-migrator ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-migrator ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-migrator ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-migrator ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 4 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-migrator ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-migrator ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/manager/api/migrator/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.manager.api.migrator.VersionMigratorsTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.055 sec - in io.apiman.manager.api.migrator.VersionMigratorsTest
Running io.apiman.manager.api.migrator.DataMigratorTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.355 sec - in io.apiman.manager.api.migrator.DataMigratorTest

Results :

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-rest-impl 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-rest-impl ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-rest-impl ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-rest-impl ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-rest-impl ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-rest-impl ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/rest-impl/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-rest-impl ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-rest-impl ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-jpa 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-jpa ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-jpa ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-jpa ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-jpa ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-jpa ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/jpa/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-jpa ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-jpa ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-es 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-es ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-es ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-es ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-es ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-es ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-es ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-es ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/manager/api/es/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.manager.api.es.EsMarshallingTest
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.308 sec - in io.apiman.manager.api.es.EsMarshallingTest
Running io.apiman.manager.api.es.util.TermsQueryBuilderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in io.apiman.manager.api.es.util.TermsQueryBuilderTest
Running io.apiman.manager.api.es.util.SearchSourceBuilderTest
{"size":500,"query":{"bool":{"filter":[{"term":{"organizationId":"ORG"}},{"term":{"clientId":"CLIENT"}}]}},"sort":[{"createdOn":{"order":"desc"}}]}
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.178 sec - in io.apiman.manager.api.es.util.SearchSourceBuilderTest
Running io.apiman.manager.api.es.util.OrFilterBuilderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.apiman.manager.api.es.util.OrFilterBuilderTest
Running io.apiman.manager.api.es.util.WildcardQueryBuilderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.apiman.manager.api.es.util.WildcardQueryBuilderTest
Running io.apiman.manager.api.es.util.FilteredQueryBuilderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.apiman.manager.api.es.util.FilteredQueryBuilderTest
Running io.apiman.manager.api.es.util.TermFilterBuilderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.apiman.manager.api.es.util.TermFilterBuilderTest
Running io.apiman.manager.api.es.util.MissingFilterBuilderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.apiman.manager.api.es.util.MissingFilterBuilderTest
Running io.apiman.manager.api.es.util.AndFilterBuilderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.apiman.manager.api.es.util.AndFilterBuilderTest
Running io.apiman.manager.api.es.util.MatchAllQueryBuilderTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.apiman.manager.api.es.util.MatchAllQueryBuilderTest

Results :

Tests run: 31, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-jdbc 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-jdbc ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-jdbc ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-jdbc ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-jdbc ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-jdbc ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-jdbc ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-jdbc ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/manager/api/jdbc/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.manager.api.jdbc.JdbcMetricsAccessorTest
19:23:01,741  INFO Logging initialized @361ms
=======================================
Initializing database.
CREATE TABLE gw_apis (org_id VARCHAR(255) NOT NULL, id VARCHAR(255) NOT NULL, version VARCHAR(255) NOT NULL, bean CLOB NOT NULL)
ALTER TABLE gw_apis ADD PRIMARY KEY (org_id, id, version)
CREATE TABLE gw_clients (api_key VARCHAR(255) NOT NULL, org_id VARCHAR(255) NOT NULL, id VARCHAR(255) NOT NULL, version VARCHAR(255) NOT NULL, bean CLOB NOT NULL)
ALTER TABLE gw_clients ADD PRIMARY KEY (api_key)
ALTER TABLE gw_clients ADD CONSTRAINT UK_gw_clients_1 UNIQUE (org_id, id, version)
CREATE INDEX IDX_gw_clients_1 ON gw_clients(org_id, id, version)
CREATE TABLE gw_dataversion (version BIGINT NOT NULL)
CREATE TABLE gw_requests (
	rstart BIGINT NOT NULL, rend BIGINT NOT NULL, duration BIGINT NOT NULL, 
	month BIGINT NOT NULL, week BIGINT NOT NULL, day BIGINT NOT NULL, hour BIGINT NOT NULL, minute BIGINT NOT NULL,
	api_org_id VARCHAR(255) NOT NULL, api_id VARCHAR(255) NOT NULL, api_version VARCHAR(255) NOT NULL, 
	client_org_id VARCHAR(255), client_id VARCHAR(255), client_version VARCHAR(255), plan VARCHAR(255),
	user_id VARCHAR(255), resp_type VARCHAR(255), bytes_up BIGINT NOT NULL, bytes_down BIGINT NOT NULL
)
CREATE INDEX IDX_gw_requests_1 ON gw_requests(api_org_id, api_id, api_version)
CREATE INDEX IDX_gw_requests_2 ON gw_requests(client_org_id, client_id, client_version)
CREATE INDEX IDX_gw_requests_3 ON gw_requests(resp_type)
=======================================
--------------------------------------
Adding test data to the database.
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1455094610000, 1455094610100, 100,
    1454284800000, 1454803200000, 1455062400000, 1455091200000, 1455094560000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1455094610001, 1455094610100, 100,
    1454284800000, 1454803200000, 1455062400000, 1455091200000, 1455094560000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1455194610000, 1455194610100, 100,
    1454284800000, 1454803200000, 1455148800000, 1455192000000, 1455194580000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Silver',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', 'failure', 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', 'error', 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Silver',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Silver',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456299610000, 1456299610100, 100,
    1454284800000, 1456012800000, 1456272000000, 1456297200000, 1456299600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Silver',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456299710000, 1456299710100, 100,
    1454284800000, 1456012800000, 1456272000000, 1456297200000, 1456299660000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Silver',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456299710000, 1456299710100, 100,
    1454284800000, 1456012800000, 1456272000000, 1456297200000, 1456299660000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456299710000, 1456299710100, 100,
    1454284800000, 1456012800000, 1456272000000, 1456297200000, 1456299660000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.1', 'Silver',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456299710000, 1456299710100, 100,
    1454284800000, 1456012800000, 1456272000000, 1456297200000, 1456299660000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Silver',
    'user1', 'failure', 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456299710000, 1456299710100, 100,
    1454284800000, 1456012800000, 1456272000000, 1456297200000, 1456299660000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Silver',
    'user1', 'failure', 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1455094610000, 1455094610100, 100,
    1454284800000, 1454803200000, 1455062400000, 1455091200000, 1455094560000,
    'TestOrg', 'OtherApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1455094610001, 1455094610100, 100,
    1454284800000, 1454803200000, 1455062400000, 1455091200000, 1455094560000,
    'TestOrg', 'OtherApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1455194610000, 1455194610100, 100,
    1454284800000, 1454803200000, 1455148800000, 1455192000000, 1455194580000,
    'TestOrg', 'OtherApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'OtherApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'OtherClient', '1.0', 'Silver',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1456194610000, 1456194610100, 100,
    1454284800000, 1456012800000, 1456185600000, 1456192800000, 1456194600000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'OtherClient', '1.0', 'Silver',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1255094610000, 1255094610100, 100,
    1254284800000, 1254803200000, 1255062400000, 1255091200000, 1255094560000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1255094610001, 1255094610100, 100,
    1254284800000, 1254803200000, 1255062400000, 1255091200000, 1255094560000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
INSERT INTO gw_requests (
	rstart, rend, duration, 
	month, week, day, hour, minute,
	api_org_id, api_id, api_version, 
	client_org_id, client_id, client_version, plan,
	user_id, resp_type, bytes_up, bytes_down 
 ) VALUES (
    1255194610000, 1255194610100, 100,
    1254284800000, 1254803200000, 1255128800000, 1255192000000, 1255194580000,
    'TestOrg', 'TestApi', '1.0', 
    'TestOrg', 'TestClient', '1.0', 'Gold',
    'user1', NULL, 0, 0
)
--------------------------------------
DataSource created and bound to JNDI: java:/comp/env/jdbc/ApiGatewayDS
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.588 sec - in io.apiman.manager.api.jdbc.JdbcMetricsAccessorTest

Results :

Tests run: 8, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-hawkular 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-hawkular ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-hawkular ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-hawkular ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-hawkular ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-hawkular ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/hawkular/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-hawkular ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-hawkular ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/manager/api/hawkular/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.manager.api.hawkular.TopNSortedMapTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.053 sec - in io.apiman.manager.api.hawkular.TopNSortedMapTest

Results :

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-war 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-war ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-war ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/war/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-war ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-war ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-war ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-war ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-war ---
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-ispn 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-ispn ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-ispn ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/ispn/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-ispn ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-ispn ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-ispn ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/ispn/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-ispn ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-ispn ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-war-wildfly8 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-war-wildfly8 ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-war-wildfly8 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-war-wildfly8 ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-war-wildfly8 ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-war-wildfly8 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/war/wildfly8/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-war-wildfly8 ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-war-wildfly8 ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-ui 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-ui ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-ui ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-ui-war 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-ui-war ---
[INFO] 
[INFO] --- frontend-maven-plugin:1.3:install-node-and-yarn (install node and yarn) @ apiman-manager-ui-war ---
[INFO] Node v5.6.0 is already installed.
[INFO] Yarn 0.20.3 is already installed.
[INFO] 
[INFO] --- frontend-maven-plugin:1.3:yarn (yarn install) @ apiman-manager-ui-war ---
[INFO] Running 'yarn install' in /root/workspace/msavy/apiman/396466689/manager/ui/war
[INFO] yarn install v0.20.3
[INFO] [1/4] Resolving packages...
[INFO] success Already up-to-date.
[INFO] Done in 0.85s.
[INFO] 
[INFO] --- frontend-maven-plugin:1.3:gulp (gulp build) @ apiman-manager-ui-war ---
[INFO] Skipping test phase.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-ui-war ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-ui-war ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-ui-war ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-ui-war ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/ui/war/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-ui-war ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-ui-war ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-ui-war-wildfly8 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-ui-war-wildfly8 ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (transform-indexhtml) @ apiman-manager-ui-war-wildfly8 ---
[INFO] Executing tasks

main:
     [echo] Ant Version: 1.8.2
     [echo] 
     [echo] ********************************************************************
     [echo] Generating WildFly API Manager index.html file
     [echo] ********************************************************************
     [echo] 
   [delete] Deleting: /root/workspace/msavy/apiman/396466689/manager/ui/war/wildfly8/src/main/webapp/index.html
     [copy] Copying 1 file to /root/workspace/msavy/apiman/396466689/manager/ui/war/wildfly8/src/main/webapp
     [echo] Successfully processed file /root/workspace/msavy/apiman/396466689/manager/ui/war/wildfly8/target/apiman-manager-ui-war-wildfly8-1.4.2-SNAPSHOT/index.html
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-ui-war-wildfly8 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/ui/war/wildfly8/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-ui-war-wildfly8 ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-ui-war-wildfly8 ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-ui-war-wildfly8 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/ui/war/wildfly8/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-ui-war-wildfly8 ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-ui-war-wildfly8 ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-hazelcast 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-hazelcast ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-hazelcast ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/hazelcast/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-hazelcast ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-hazelcast ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-hazelcast ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/hazelcast/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-hazelcast ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-hazelcast ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-ispn 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-ispn ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-ispn ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-ispn ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-ispn ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-ispn ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/ispn/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-ispn ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-ispn ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-es 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-es ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-es ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 5 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-es ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-es ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-es ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/es/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-es ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-es ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-hawkular 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-hawkular ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-hawkular ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/hawkular/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-hawkular ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-hawkular ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-hawkular ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/hawkular/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-hawkular ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-hawkular ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-jdbc 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-jdbc ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-jdbc ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-jdbc ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-jdbc ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-jdbc ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/jdbc/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-jdbc ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-jdbc ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/gateway/engine/jdbc/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.gateway.engine.jdbc.JdbcMetricsTest
19:23:16,034  INFO Logging initialized @381ms
=======================================
Initializing database.
CREATE TABLE gw_apis (org_id VARCHAR(255) NOT NULL, id VARCHAR(255) NOT NULL, version VARCHAR(255) NOT NULL, bean CLOB NOT NULL)
ALTER TABLE gw_apis ADD PRIMARY KEY (org_id, id, version)
CREATE TABLE gw_clients (api_key VARCHAR(255) NOT NULL, org_id VARCHAR(255) NOT NULL, id VARCHAR(255) NOT NULL, version VARCHAR(255) NOT NULL, bean CLOB NOT NULL)
ALTER TABLE gw_clients ADD PRIMARY KEY (api_key)
ALTER TABLE gw_clients ADD CONSTRAINT UK_gw_clients_1 UNIQUE (org_id, id, version)
CREATE INDEX IDX_gw_clients_1 ON gw_clients(org_id, id, version)
CREATE TABLE gw_dataversion (version BIGINT NOT NULL)
CREATE TABLE gw_requests (
	rstart BIGINT NOT NULL, rend BIGINT NOT NULL, duration BIGINT NOT NULL, 
	month BIGINT NOT NULL, week BIGINT NOT NULL, day BIGINT NOT NULL, hour BIGINT NOT NULL, minute BIGINT NOT NULL,
	api_org_id VARCHAR(255) NOT NULL, api_id VARCHAR(255) NOT NULL, api_version VARCHAR(255) NOT NULL, 
	client_org_id VARCHAR(255), client_id VARCHAR(255), client_version VARCHAR(255), plan VARCHAR(255),
	user_id VARCHAR(255), resp_type VARCHAR(255), bytes_up BIGINT NOT NULL, bytes_down BIGINT NOT NULL
)
CREATE INDEX IDX_gw_requests_1 ON gw_requests(api_org_id, api_id, api_version)
CREATE INDEX IDX_gw_requests_2 ON gw_requests(client_org_id, client_id, client_version)
CREATE INDEX IDX_gw_requests_3 ON gw_requests(resp_type)
=======================================
DataSource created and bound to JNDI: java:/comp/env/jdbc/ApiGatewayDS
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.994 sec - in io.apiman.gateway.engine.jdbc.JdbcMetricsTest

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-influxdb 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-influxdb ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-influxdb ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/influxdb/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-influxdb ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-influxdb ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-influxdb ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/influxdb/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-influxdb ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-influxdb ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-test-policies 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-test-policies ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-test-policies ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/test/policies/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-test-policies ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-test-policies ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-test-policies ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/test/policies/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-test-policies ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-test-policies ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-policies 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-policies ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-policies ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 26 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-policies ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-policies ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-policies ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-policies ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-policies ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/gateway/engine/policies/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.gateway.engine.policies.URLRewritingStreamTest
Tests run: 14, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0.066 sec - in io.apiman.gateway.engine.policies.URLRewritingStreamTest
Running io.apiman.gateway.engine.policies.AuthorizationPolicyTest
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.421 sec - in io.apiman.gateway.engine.policies.AuthorizationPolicyTest
Running io.apiman.gateway.engine.policies.TransferQuotaPolicyTest
=== Using apiman's PolicyTester on class io.apiman.gateway.engine.policies.TransferQuotaPolicyTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.557 sec - in io.apiman.gateway.engine.policies.TransferQuotaPolicyTest
Running io.apiman.gateway.engine.policies.TimeRestrictedAccessPolicyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 sec - in io.apiman.gateway.engine.policies.TimeRestrictedAccessPolicyTest
Running io.apiman.gateway.engine.policies.BasicAuthenticationPolicyTest
=== Using apiman's PolicyTester on class io.apiman.gateway.engine.policies.BasicAuthenticationPolicyTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.019 sec - in io.apiman.gateway.engine.policies.BasicAuthenticationPolicyTest
Running io.apiman.gateway.engine.policies.TransferQuotaPolicyConfigTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in io.apiman.gateway.engine.policies.TransferQuotaPolicyConfigTest
Running io.apiman.gateway.engine.policies.IPWhitelistPolicyTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec - in io.apiman.gateway.engine.policies.IPWhitelistPolicyTest
Running io.apiman.gateway.engine.policies.URLRewritingPolicyConfigTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in io.apiman.gateway.engine.policies.URLRewritingPolicyConfigTest
Running io.apiman.gateway.engine.policies.AuthorizationPolicyConfigTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.apiman.gateway.engine.policies.AuthorizationPolicyConfigTest
Running io.apiman.gateway.engine.policies.BasicAuthLDAPTest
19:23:23,536 ERROR ERR_04450 The value {0} is incorrect, it hasnt been added
Using partition factory JdbmPartitionFactory
19:23:23,934  WARN The RDN 'o=apiman' is not present in the entry
19:23:23,945  WARN No version information : assuming version: 1
19:23:24,361  WARN WARNING: the changelog is only partially operational and will revert
state without consideration of who made the original change.  All reverting changes are made by the admin user.
 Furthermore the used controls are not at all taken into account
Tests run: 2, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 3.131 sec - in io.apiman.gateway.engine.policies.BasicAuthLDAPTest
Running io.apiman.gateway.engine.policies.IPBlacklistPolicyTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in io.apiman.gateway.engine.policies.IPBlacklistPolicyTest
Running io.apiman.gateway.engine.policies.CachingPolicyTest
=== Using apiman's PolicyTester on class io.apiman.gateway.engine.policies.CachingPolicyTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.009 sec - in io.apiman.gateway.engine.policies.CachingPolicyTest
Running io.apiman.gateway.engine.policies.RateLimitingPolicyTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 sec - in io.apiman.gateway.engine.policies.RateLimitingPolicyTest
Running io.apiman.gateway.engine.policies.URLRewritingPolicyTest
=== Using apiman's PolicyTester on class io.apiman.gateway.engine.policies.URLRewritingPolicyTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.014 sec - in io.apiman.gateway.engine.policies.URLRewritingPolicyTest
Running io.apiman.gateway.engine.policies.BasicAuthenticationConfigTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in io.apiman.gateway.engine.policies.BasicAuthenticationConfigTest
Running io.apiman.gateway.engine.policies.IgnoredResourcesPolicyTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.016 sec - in io.apiman.gateway.engine.policies.IgnoredResourcesPolicyTest
Running io.apiman.gateway.engine.policies.CachingPolicyConfigTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in io.apiman.gateway.engine.policies.CachingPolicyConfigTest
Running io.apiman.gateway.engine.policies.BasicAuthJDBCTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.255 sec - in io.apiman.gateway.engine.policies.BasicAuthJDBCTest

Results :

Tests run: 57, Failures: 0, Errors: 0, Skipped: 2

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-servlet 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-servlet ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-platforms-servlet ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-platforms-servlet ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-servlet ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-platforms-servlet ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 37 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-platforms-servlet ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-platforms-servlet ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/gateway/platforms/servlet/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.gateway.platforms.servlet.auth.tls.CAMutualAuthTest
io.apiman.gateway.engine.beans.exceptions.ConnectorException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-3, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.X509Certificate - [Ljava.security.cert.X509Certificate;@709b1140
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b31251134Ad0c344b7f2e806fD29a2d2b6c55AeF67dA148834eF354B0C1255e
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.746 sec - in io.apiman.gateway.platforms.servlet.auth.tls.CAMutualAuthTest
Running io.apiman.gateway.platforms.servlet.auth.tls.CipherAndProtocolSelectionTest
io.apiman.gateway.engine.beans.exceptions.ConnectorException: Unable to find acceptable protocols. isFallback=false, modes=[ConnectionSpec(cipherSuites=[TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_3DES_EDE_CBC_SHA], tlsVersions=[TLS_1_2, TLS_1_1, TLS_1_0], supportsTlsExtensions=true), ConnectionSpec(cipherSuites=[TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_3DES_EDE_CBC_SHA], tlsVersions=[TLS_1_0], supportsTlsExtensions=true), ConnectionSpec()], supported protocols=[SSLv3]
io.apiman.gateway.engine.beans.exceptions.ConnectorException: Remote host closed connection during handshake
io.apiman.gateway.engine.beans.exceptions.ConnectorException: Unable to find acceptable protocols. isFallback=false, modes=[ConnectionSpec(cipherSuites=[TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_3DES_EDE_CBC_SHA], tlsVersions=[TLS_1_2, TLS_1_1, TLS_1_0], supportsTlsExtensions=true), ConnectionSpec(cipherSuites=[TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_3DES_EDE_CBC_SHA], tlsVersions=[TLS_1_0], supportsTlsExtensions=true), ConnectionSpec()], supported protocols=[SSLv3]
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-5, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b312511BbE35a337f6c3f9986Cb52124f40C79e6fCf6f2e763903Ee4854Ef62
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-7, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.cipher_suite - TLS_DHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b312512F9657aEb0e987460Fe4bA09a0282A5Ec154eA0BfB1AaC6E010369d99
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-9, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b312512935dB14129E5B54d33146360A5B435318dA2F723769d0536B09f4295
io.apiman.gateway.engine.beans.exceptions.ConnectorException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-12, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b312512B38892196c8b6cCb1095A2C2A54e82F910F3091728805557C93d6a68
io.apiman.gateway.engine.beans.exceptions.ConnectorException: Remote host closed connection during handshake
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.357 sec - in io.apiman.gateway.platforms.servlet.auth.tls.CipherAndProtocolSelectionTest
Running io.apiman.gateway.platforms.servlet.auth.tls.StandardTLSTest
io.apiman.gateway.engine.beans.exceptions.ConnectorException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
io.apiman.gateway.engine.beans.exceptions.ConnectorException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-19, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b312512DdEcE914776063833e70396d24E85b3dB8C427F276C908886b705564
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-21, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b312512F08aCa8736C9B37dF3F8Df6a10Df8898Aa41002f1c0a6330403fA14a
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.293 sec - in io.apiman.gateway.platforms.servlet.auth.tls.StandardTLSTest
Running io.apiman.gateway.platforms.servlet.auth.tls.BasicMutualAuthTest
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-23, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.X509Certificate - [Ljava.security.cert.X509Certificate;@2fcc470c
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b312512973a452bD6F72f1a98F7A744E7882c50E57a4d9d6aEa3c086d235146
io.apiman.gateway.engine.beans.exceptions.ConnectorException: Remote host closed connection during handshake
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-29, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.X509Certificate - [Ljava.security.cert.X509Certificate;@63d1e2a3
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b312512895b9b53800c8c3362005734C2A76fFc052e46Be801335Ab5c9f03Ad
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-35, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.X509Certificate - [Ljava.security.cert.X509Certificate;@65fe5867
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b3125122400850fFdE900202fAe89CaB7C618F1785fE52397C82aE7B864De79
io.apiman.gateway.engine.beans.exceptions.ConnectorException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
io.apiman.gateway.engine.beans.exceptions.ConnectorException: Remote host closed connection during handshake
javax.servlet.request.key_size - 128
org.eclipse.jetty.servlet.request.ssl_session - [Session-43, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256]
javax.servlet.request.X509Certificate - [Ljava.security.cert.X509Certificate;@425023b3
javax.servlet.request.cipher_suite - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256
javax.servlet.request.ssl_session_id - 5b312513Bb444a2eD215C2970fA1307e90Fc58D0BfE6D6D0D69e484a7bD72d10
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.501 sec - in io.apiman.gateway.platforms.servlet.auth.tls.BasicMutualAuthTest
Running io.apiman.gateway.platforms.servlet.auth.basic.BasicAuthTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.49 sec - in io.apiman.gateway.platforms.servlet.auth.basic.BasicAuthTest
Running io.apiman.gateway.platforms.servlet.GatewayServletTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in io.apiman.gateway.platforms.servlet.GatewayServletTest

Results :

Tests run: 27, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-api-rest-impl 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-api-rest-impl ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-api-rest-impl ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/api/rest-impl/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-api-rest-impl ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-api-rest-impl ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-api-rest-impl ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/api/rest-impl/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-api-rest-impl ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-api-rest-impl ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-war 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-war ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-platforms-war ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-platforms-war ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-war ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-platforms-war ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/platforms/war/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-platforms-war ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-platforms-war ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-war-wildfly8 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-war-wildfly8 ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-war-wildfly8 ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-war-wildfly8-api 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-war-wildfly8-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-platforms-war-wildfly8-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-platforms-war-wildfly8-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-war-wildfly8-api ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-platforms-war-wildfly8-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/platforms/war/wildfly8/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-platforms-war-wildfly8-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-platforms-war-wildfly8-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-war-wildfly8-gateway 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-war-wildfly8-gateway ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-platforms-war-wildfly8-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/platforms/war/wildfly8/gateway/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-platforms-war-wildfly8-gateway ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-war-wildfly8-gateway ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-platforms-war-wildfly8-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/platforms/war/wildfly8/gateway/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-platforms-war-wildfly8-gateway ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-platforms-war-wildfly8-gateway ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-distro-es 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-distro-es ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-distro-es ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/distro/es/src/main/resources
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-distro-es ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-dependency-plugin:2.10:copy (copy-dependency) @ apiman-distro-es ---
[INFO] Configured Artifact: org.elasticsearch.distribution.zip:elasticsearch:5.6.9:zip
[INFO] Copying elasticsearch-5.6.9.zip to /root/workspace/msavy/apiman/396466689/distro/es/target/apiman-es/WEB-INF/elasticsearch-5.6.9.zip
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-distro-es ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-distro-es ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/distro/es/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-distro-es ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-distro-es ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-distro-wildfly10 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-distro-wildfly10 ---
[INFO] 
[INFO] --- maven-dependency-plugin:2.10:unpack (unpack) @ apiman-distro-wildfly10 ---
[INFO] Configured Artifact: org.keycloak:keycloak-server-overlay:2.5.5.Final:zip
[INFO] Configured Artifact: org.keycloak:keycloak-wildfly-adapter-dist:2.5.5.Final:zip
[INFO] Unpacking /root/./workspace/msavy/apiman/396466689/.m2/org/keycloak/keycloak-server-overlay/2.5.5.Final/keycloak-server-overlay-2.5.5.Final.zip to /root/workspace/msavy/apiman/396466689/distro/wildfly10/target/keycloak with includes "" and excludes ""
[INFO] Unpacking /root/./workspace/msavy/apiman/396466689/.m2/org/keycloak/keycloak-wildfly-adapter-dist/2.5.5.Final/keycloak-wildfly-adapter-dist-2.5.5.Final.zip to /root/workspace/msavy/apiman/396466689/distro/wildfly10/target/keycloak with includes "" and excludes ""
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-distro-wildfly10 ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-distro-eap7 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-distro-eap7 ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-distro-eap7 ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-war-tomcat8 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-war-tomcat8 ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-war-tomcat8 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-war-tomcat8 ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-war-tomcat8 ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-war-tomcat8 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/war/tomcat8/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-war-tomcat8 ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-war-tomcat8 ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-ui-war-tomcat8 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-ui-war-tomcat8 ---
[INFO] 
[INFO] --- maven-antrun-plugin:1.7:run (transform-indexhtml) @ apiman-manager-ui-war-tomcat8 ---
[INFO] Executing tasks

main:
     [echo] Ant Version: 1.8.2
     [echo] 
     [echo] ********************************************************************
     [echo] Generating Tomcat API Manager index.html file
     [echo] ********************************************************************
     [echo] 
   [delete] Deleting: /root/workspace/msavy/apiman/396466689/manager/ui/war/tomcat8/src/main/webapp/index.html
     [copy] Copying 1 file to /root/workspace/msavy/apiman/396466689/manager/ui/war/tomcat8/src/main/webapp
     [echo] Successfully processed file /root/workspace/msavy/apiman/396466689/manager/ui/war/tomcat8/target/apiman-manager-ui-war-tomcat8-1.4.2-SNAPSHOT/index.html
[INFO] Executed tasks
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-ui-war-tomcat8 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-ui-war-tomcat8 ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-ui-war-tomcat8 ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-ui-war-tomcat8 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/ui/war/tomcat8/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-ui-war-tomcat8 ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-ui-war-tomcat8 ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-war-tomcat8 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-war-tomcat8 ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-war-tomcat8 ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-war-tomcat8-api 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-war-tomcat8-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-platforms-war-tomcat8-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-platforms-war-tomcat8-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-war-tomcat8-api ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-platforms-war-tomcat8-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/platforms/war/tomcat8/api/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-platforms-war-tomcat8-api ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-platforms-war-tomcat8-api ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-war-tomcat8-gateway 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-war-tomcat8-gateway ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-platforms-war-tomcat8-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-platforms-war-tomcat8-gateway ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-war-tomcat8-gateway ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-platforms-war-tomcat8-gateway ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/platforms/war/tomcat8/gateway/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-platforms-war-tomcat8-gateway ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-platforms-war-tomcat8-gateway ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-distro-tomcat8 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-distro-tomcat8 ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-distro-tomcat8 ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-distro-wildfly11 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-distro-wildfly11 ---
[INFO] 
[INFO] --- maven-dependency-plugin:2.10:unpack (unpack) @ apiman-distro-wildfly11 ---
[INFO] Configured Artifact: org.keycloak:keycloak-server-overlay:3.4.3.Final:zip
[INFO] Configured Artifact: org.keycloak:keycloak-wildfly-adapter-dist:3.4.3.Final:zip
[INFO] Unpacking /root/./workspace/msavy/apiman/396466689/.m2/org/keycloak/keycloak-server-overlay/3.4.3.Final/keycloak-server-overlay-3.4.3.Final.zip to /root/workspace/msavy/apiman/396466689/distro/wildfly11/target/keycloak with includes "" and excludes ""
[INFO] Unpacking /root/./workspace/msavy/apiman/396466689/.m2/org/keycloak/keycloak-wildfly-adapter-dist/3.4.3.Final/keycloak-wildfly-adapter-dist-3.4.3.Final.zip to /root/workspace/msavy/apiman/396466689/distro/wildfly11/target/keycloak with includes "" and excludes ""
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-distro-wildfly11 ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-vertx3-common 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-vertx3-common ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-platforms-vertx3-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/platforms/vertx3/vertx3-common/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-platforms-vertx3-common ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-vertx3-common ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-platforms-vertx3-common ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/platforms/vertx3/vertx3-common/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-platforms-vertx3-common ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-platforms-vertx3-common ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-vertx-eb-inmemory 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-vertx-eb-inmemory ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-vertx-eb-inmemory ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/vertx-eb-inmemory/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-vertx-eb-inmemory ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-vertx-eb-inmemory ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-vertx-eb-inmemory ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/vertx-eb-inmemory/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-vertx-eb-inmemory ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-vertx-eb-inmemory ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-vertx-polling 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-vertx-polling ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-vertx-polling ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/vertx-polling/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-vertx-polling ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-vertx-polling ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-vertx-polling ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/vertx-polling/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-vertx-polling ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-vertx-polling ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-3scale 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-3scale ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-3scale ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/3scale/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-3scale ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-3scale ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-3scale ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/3scale/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-3scale ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-3scale ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-engine-prometheus 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-engine-prometheus ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-engine-prometheus ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/gateway/engine/prometheus/src/main/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-engine-prometheus ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-engine-prometheus ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-engine-prometheus ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-engine-prometheus ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-engine-prometheus ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/gateway/engine/prometheus/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.gateway.engine.prometheus.BasicMetricsTest
19:23:49,738  WARN Failed to find a usable hardware address from the network interfaces; using random bytes: 4c:8e:13:81:64:ae:2b:f9
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.935 sec - in io.apiman.gateway.engine.prometheus.BasicMetricsTest

Results :

Tests run: 3, Failures: 0, Errors: 0, Skipped: 0

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-gateway-platforms-vertx3 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-gateway-platforms-vertx3 ---
[INFO] 
[INFO] --- build-helper-maven-plugin:1.9.1:add-source (add-source) @ apiman-gateway-platforms-vertx3 ---
[INFO] Source directory: /root/workspace/msavy/apiman/396466689/gateway/platforms/vertx3/vertx3/src/main/generated added.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-gateway-platforms-vertx3 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-gateway-platforms-vertx3 ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-gateway-platforms-vertx3 ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-gateway-platforms-vertx3 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-gateway-platforms-vertx3 ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-gateway-platforms-vertx3 ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/gateway/platforms/vertx3/vertx3/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.gateway.platforms.vertx3.components.jdbc.JdbcTestSuite
Successfully connected!
Successfully connected!
Successfully reset DB!
Successfully connected!
Successfully connected!
Successfully reset DB!
Successfully connected!
Successfully connected here!
Successfully connected!
Successfully reset DB!
Successfully connected!
Successfully connected here!
Successfully connected!
Successfully reset DB!
Successfully connected!
Successfully connected!
Successfully connected!
Successfully reset DB!
Successfully connected!
Successfully connected!
Successfully connected!
Successfully reset DB!
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.843 sec - in io.apiman.gateway.platforms.vertx3.components.jdbc.JdbcTestSuite
Running io.apiman.gateway.platforms.vertx3.components.ExecuteBlockingComponentTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.023 sec - in io.apiman.gateway.platforms.vertx3.components.ExecuteBlockingComponentTest
Running io.apiman.gateway.platforms.vertx3.common.config.JsonMapToPropertiesTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.057 sec - in io.apiman.gateway.platforms.vertx3.common.config.JsonMapToPropertiesTest
Running io.apiman.gateway.platforms.vertx3.common.config.ConfigTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.035 sec - in io.apiman.gateway.platforms.vertx3.common.config.ConfigTest
Running io.apiman.gateway.platforms.vertx3.connector.HttpConnectorDrainTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 1, Time elapsed: 0 sec - in io.apiman.gateway.platforms.vertx3.connector.HttpConnectorDrainTest

Results :

Tests run: 17, Failures: 0, Errors: 0, Skipped: 1

[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-distro-vertx 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-distro-vertx ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-distro-vertx ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-api-micro 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-api-micro ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-api-micro ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 6 resources
[INFO] Copying 2 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-api-micro ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-api-micro ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-api-micro ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /root/workspace/msavy/apiman/396466689/manager/api/micro/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-api-micro ---
[INFO] No sources to compile
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-api-micro ---
[INFO] No tests to run.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-test 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-test ---
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-test ---
[INFO] Skipping Rule Enforcement.
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building apiman-manager-test-api 1.4.2-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- git-commit-id-plugin:2.2.1:revision (get-the-git-infos) @ apiman-manager-test-api ---
[INFO] 
[INFO] --- maven-resources-plugin:2.7:resources (default-resources) @ apiman-manager-test-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:compile (default-compile) @ apiman-manager-test-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-enforcer-plugin:1.4:enforce (enforcer-transitives-check) @ apiman-manager-test-api ---
[INFO] Skipping Rule Enforcement.
[INFO] 
[INFO] --- maven-resources-plugin:2.7:testResources (default-testResources) @ apiman-manager-test-api ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 580 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.2:testCompile (default-testCompile) @ apiman-manager-test-api ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.17:test (default-test) @ apiman-manager-test-api ---
[INFO] Surefire report directory: /root/workspace/msavy/apiman/396466689/manager/test/api/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running io.apiman.manager.test.es.ESMetricsAccessorTest
19:23:57,251  INFO Downloading https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.9.zip to /root/.cache/apiman/elasticsearch/elasticsearch-5.6.9.zip ...
19:24:00,506  INFO Download complete
19:24:00,507  INFO Installing Elasticsearch into /root/workspace/msavy/apiman/396466689/manager/test/api/target/embedded-elasticsearch-temp-dir...
19:24:00,889  INFO Done
19:24:00,964  INFO Applying executable permissions on /root/workspace/msavy/apiman/396466689/manager/test/api/target/embedded-elasticsearch-temp-dir/elasticsearch-5.6.9/bin/elasticsearch-plugin
19:24:00,964  INFO Applying executable permissions on /root/workspace/msavy/apiman/396466689/manager/test/api/target/embedded-elasticsearch-temp-dir/elasticsearch-5.6.9/bin/elasticsearch
19:24:00,964  INFO Applying executable permissions on /root/workspace/msavy/apiman/396466689/manager/test/api/target/embedded-elasticsearch-temp-dir/elasticsearch-5.6.9/bin/elasticsearch.in.sh
19:24:00,968  INFO Waiting for ElasticSearch to start...
19:24:03,376  INFO [2018-06-25T19:24:03,375][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [] uncaught exception in thread [main]
19:24:03,376  INFO org.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root
19:24:03,376  INFO 	at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:136) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,376  INFO 	at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:123) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,376  INFO 	at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:70) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,376  INFO 	at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:134) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,376  INFO 	at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,377  INFO 	at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,377  INFO 	at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,377  INFO Caused by: java.lang.RuntimeException: can not run elasticsearch as root
19:24:03,377  INFO 	at org.elasticsearch.bootstrap.Bootstrap.initializeNatives(Bootstrap.java:106) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,377  INFO 	at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:195) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,377  INFO 	at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:342) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,377  INFO 	at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:132) ~[elasticsearch-5.6.9.jar:5.6.9]
19:24:03,377  INFO 	... 6 more
----------- All done.
Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 19.34 sec <<< FAILURE! - in io.apiman.manager.test.es.ESMetricsAccessorTest
io.apiman.manager.test.es.ESMetricsAccessorTest  Time elapsed: 19.34 sec  <<< ERROR!
pl.allegro.tech.embeddedelasticsearch.EmbeddedElasticsearchStartupException: Failed to start elasticsearch within time-out
	at pl.allegro.tech.embeddedelasticsearch.ElasticServer.waitForElasticToStart(ElasticServer.java:121)
	at pl.allegro.tech.embeddedelasticsearch.ElasticServer.start(ElasticServer.java:48)
	at pl.allegro.tech.embeddedelasticsearch.EmbeddedElastic.startElastic(EmbeddedElastic.java:73)
	at pl.allegro.tech.embeddedelasticsearch.EmbeddedElastic.start(EmbeddedElastic.java:55)
	at io.apiman.common.es.util.ApimanEmbeddedElastic.start(ApimanEmbeddedElastic.java:90)
	at io.apiman.manager.test.es.ESMetricsAccessorTest.setup(ESMetricsAccessorTest.java:90)

io.apiman.manager.test.es.ESMetricsAccessorTest  Time elapsed: 19.34 sec  <<< ERROR!
java.lang.NullPointerException: null
	at io.apiman.manager.test.es.ESMetricsAccessorTest.teardown(ESMetricsAccessorTest.java:138)

Running io.apiman.manager.test.OrganizationsTest
**** Starting Server (ManagerApiTestServer)
19:24:16,272  INFO Logging initialized @19889ms
DataSource created and bound to JNDI.
19:24:16,684  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-000900: 2.3.3 (Final)
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000412: Hibernate Core {5.0.9.Final}
INFO  [main]: HHH000206: hibernate.properties not found
INFO  [main]: HHH000021: Bytecode provider name : javassist
INFO  [main]: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:21,287  INFO Started o.e.j.s.ServletContextHandler@46b61c56{/apiman,null,AVAILABLE}
19:24:21,288  INFO Started o.e.j.s.ServletContextHandler@2e48362c{/mock-gateway,null,AVAILABLE}
19:24:21,301  INFO Started ServerConnector@22791b75{HTTP/1.1}{0.0.0.0:7070}
19:24:21,302  INFO Started @24919ms
******* Started in 5046ms
19:24:21,302  INFO     >> 
19:24:21,302  INFO     >> -------------------------------------------------------------------------------
19:24:21,302  INFO     >> Executing REST Test
19:24:21,302  INFO     >> -------------------------------------------------------------------------------
19:24:21,302  INFO     >> 
19:24:21,306  INFO     >> -----------------------------------------------------------
19:24:21,306  INFO     >> Starting Test [organizations-testPlan.xml / Create Organization]
19:24:21,306  INFO     >> -----------------------------------------------------------
19:24:21,308  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp1622458036-104]: HHH000397: Using ASTQueryTranslatorFactory
19:24:22,795  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 1s
19:24:22,832  INFO     >> -----------------------------------------------------------
19:24:22,832  INFO     >> Starting Test [organizations-testPlan.xml / Get Organization]
19:24:22,832  INFO     >> -----------------------------------------------------------
19:24:22,833  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1
19:24:22,856  INFO #fetch(GET localhost:7070 /apiman/organizations/TestOrganization1): [200 OK] in 22ms
19:24:22,856  INFO     >> -----------------------------------------------------------
19:24:22,856  INFO     >> Starting Test [organizations-testPlan.xml / Create Org (Duplicate)]
19:24:22,857  INFO     >> -----------------------------------------------------------
19:24:22,857  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:22,877  INFO #fetch(POST localhost:7070 /apiman/organizations): [409 Conflict] in 20ms
19:24:22,880  INFO     >> -----------------------------------------------------------
19:24:22,880  INFO     >> Starting Test [organizations-testPlan.xml / Search for all Orgs]
19:24:22,880  INFO     >> -----------------------------------------------------------
19:24:22,881  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:22,928  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [200 OK] in 46ms
19:24:22,931  INFO     >> -----------------------------------------------------------
19:24:22,931  INFO     >> Starting Test [organizations-testPlan.xml / Create Organization 2]
19:24:22,931  INFO     >> -----------------------------------------------------------
19:24:22,932  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:22,946  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 14ms
19:24:22,947  INFO     >> -----------------------------------------------------------
19:24:22,947  INFO     >> Starting Test [organizations-testPlan.xml / Search for all Orgs (2)]
19:24:22,947  INFO     >> -----------------------------------------------------------
19:24:22,947  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:22,961  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [200 OK] in 13ms
19:24:22,962  INFO     >> -----------------------------------------------------------
19:24:22,962  INFO     >> Starting Test [organizations-testPlan.xml / Update Organization]
19:24:22,962  INFO     >> -----------------------------------------------------------
19:24:22,963  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1
19:24:22,998  INFO #fetch(PUT localhost:7070 /apiman/organizations/TestOrganization1): [204 No Content] in 35ms
19:24:22,998  INFO     >> -----------------------------------------------------------
19:24:22,998  INFO     >> Starting Test [organizations-testPlan.xml / Get Organization (updated)]
19:24:22,998  INFO     >> -----------------------------------------------------------
19:24:22,999  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1
19:24:23,007  INFO #fetch(GET localhost:7070 /apiman/organizations/TestOrganization1): [200 OK] in 7ms
19:24:23,007  INFO     >> -----------------------------------------------------------
19:24:23,007  INFO     >> Starting Test [organizations-testPlan.xml / Create Organization (invalid)]
19:24:23,007  INFO     >> -----------------------------------------------------------
19:24:23,008  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:23,013  INFO #fetch(POST localhost:7070 /apiman/organizations): [400 Bad Request] in 5ms
19:24:23,015  INFO     >> -----------------------------------------------------------
19:24:23,015  INFO     >> Starting Test [organizations-testPlan.xml / Organization Activity]
19:24:23,015  INFO     >> -----------------------------------------------------------
19:24:23,015  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1/activity
19:24:23,042  INFO #fetch(GET localhost:7070 /apiman/organizations/TestOrganization1/activity): [200 OK] in 27ms
19:24:23,043  INFO     >> -----------------------------------------------------------
19:24:23,043  INFO     >> Starting Test [organizations-testPlan.xml / Create Spanish Org]
19:24:23,043  INFO     >> -----------------------------------------------------------
19:24:23,044  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:23,058  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 14ms
19:24:23,059  INFO     >> -----------------------------------------------------------
19:24:23,059  INFO     >> Starting Test [organizations-testPlan.xml / Create Russian Org]
19:24:23,059  INFO     >> -----------------------------------------------------------
19:24:23,059  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:23,079  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 19ms
19:24:23,087  INFO Stopped ServerConnector@22791b75{HTTP/1.1}{0.0.0.0:7070}
19:24:23,088  INFO Stopped o.e.j.s.ServletContextHandler@2e48362c{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:23,099  INFO Stopped o.e.j.s.ServletContextHandler@46b61c56{/apiman,null,UNAVAILABLE}
19:24:23,101  INFO     >> 
19:24:23,101  INFO     >> -------------------------------------------------------------------------------
19:24:23,101  INFO     >> REST Test complete
19:24:23,101  INFO     >> -------------------------------------------------------------------------------
19:24:23,101  INFO     >> 
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.103 sec - in io.apiman.manager.test.OrganizationsTest
Running io.apiman.manager.test.ContractsTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:23,116  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:23,710  INFO Started o.e.j.s.ServletContextHandler@5a4464c5{/apiman,null,AVAILABLE}
19:24:23,711  INFO Started o.e.j.s.ServletContextHandler@7ae590f6{/mock-gateway,null,AVAILABLE}
19:24:23,711  INFO Started ServerConnector@5350ab17{HTTP/1.1}{0.0.0.0:7070}
19:24:23,711  INFO Started @27329ms
******* Started in 597ms
19:24:23,712  INFO     >> 
19:24:23,712  INFO     >> -------------------------------------------------------------------------------
19:24:23,712  INFO     >> Executing REST Test
19:24:23,712  INFO     >> -------------------------------------------------------------------------------
19:24:23,712  INFO     >> 
19:24:23,712  INFO     >> -----------------------------------------------------------
19:24:23,712  INFO     >> Starting Test [contracts-testPlan.xml / Create Gateway]
19:24:23,712  INFO     >> -----------------------------------------------------------
19:24:23,713  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:23,767  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 54ms
19:24:23,768  INFO     >> -----------------------------------------------------------
19:24:23,768  INFO     >> Starting Test [contracts-testPlan.xml / Create Organization 1]
19:24:23,769  INFO     >> -----------------------------------------------------------
19:24:23,769  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp1568638055-184]: HHH000397: Using ASTQueryTranslatorFactory
19:24:23,791  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 22ms
19:24:23,792  INFO     >> -----------------------------------------------------------
19:24:23,792  INFO     >> Starting Test [contracts-testPlan.xml / Create Client 1]
19:24:23,792  INFO     >> -----------------------------------------------------------
19:24:23,792  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients
19:24:23,817  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients): [200 OK] in 25ms
19:24:23,818  INFO     >> -----------------------------------------------------------
19:24:23,818  INFO     >> Starting Test [contracts-testPlan.xml / Create Client Version 1.0]
19:24:23,818  INFO     >> -----------------------------------------------------------
19:24:23,818  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:23,843  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 25ms
19:24:23,844  INFO     >> -----------------------------------------------------------
19:24:23,844  INFO     >> Starting Test [contracts-testPlan.xml / Create Client Version 1.1 (Custom API Key)]
19:24:23,844  INFO     >> -----------------------------------------------------------
19:24:23,844  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:23,856  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 11ms
19:24:23,858  INFO     >> -----------------------------------------------------------
19:24:23,858  INFO     >> Starting Test [contracts-testPlan.xml / Create Plan 1]
19:24:23,858  INFO     >> -----------------------------------------------------------
19:24:23,858  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:23,874  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans): [200 OK] in 16ms
19:24:23,875  INFO     >> -----------------------------------------------------------
19:24:23,876  INFO     >> Starting Test [contracts-testPlan.xml / Create Plan Version 1.0]
19:24:23,876  INFO     >> -----------------------------------------------------------
19:24:23,876  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:23,897  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 20ms
19:24:23,898  INFO     >> -----------------------------------------------------------
19:24:23,898  INFO     >> Starting Test [contracts-testPlan.xml / Lock Plan Version 1.0]
19:24:23,898  INFO     >> -----------------------------------------------------------
19:24:23,899  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:23,923  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 24ms
19:24:23,923  INFO     >> -----------------------------------------------------------
19:24:23,923  INFO     >> Starting Test [contracts-testPlan.xml / Create API 1]
19:24:23,923  INFO     >> -----------------------------------------------------------
19:24:23,924  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:23,965  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 41ms
19:24:23,966  INFO     >> -----------------------------------------------------------
19:24:23,966  INFO     >> Starting Test [contracts-testPlan.xml / Create API Version 1.0]
19:24:23,966  INFO     >> -----------------------------------------------------------
19:24:23,966  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:24,005  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 39ms
19:24:24,006  INFO     >> -----------------------------------------------------------
19:24:24,006  INFO     >> Starting Test [contracts-testPlan.xml / Update API Version 1.0]
19:24:24,006  INFO     >> -----------------------------------------------------------
19:24:24,007  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:24,050  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 42ms
19:24:24,051  INFO     >> -----------------------------------------------------------
19:24:24,051  INFO     >> Starting Test [contracts-testPlan.xml / Create Org 2]
19:24:24,051  INFO     >> -----------------------------------------------------------
19:24:24,051  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:24,066  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 15ms
19:24:24,067  INFO     >> -----------------------------------------------------------
19:24:24,067  INFO     >> Starting Test [contracts-testPlan.xml / Create Org 2 / API 2]
19:24:24,067  INFO     >> -----------------------------------------------------------
19:24:24,067  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis
19:24:24,081  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/apis): [200 OK] in 14ms
19:24:24,082  INFO     >> -----------------------------------------------------------
19:24:24,082  INFO     >> Starting Test [contracts-testPlan.xml / Create API 2 / Version 1.0]
19:24:24,082  INFO     >> -----------------------------------------------------------
19:24:24,082  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis/API2/versions
19:24:24,096  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/apis/API2/versions): [200 OK] in 13ms
19:24:24,097  INFO     >> -----------------------------------------------------------
19:24:24,097  INFO     >> Starting Test [contracts-testPlan.xml / Create API 2 / Version 1.5]
19:24:24,097  INFO     >> -----------------------------------------------------------
19:24:24,098  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis/API2/versions
19:24:24,118  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/apis/API2/versions): [200 OK] in 19ms
19:24:24,119  INFO     >> -----------------------------------------------------------
19:24:24,119  INFO     >> Starting Test [contracts-testPlan.xml / Create Org 2 / Plan A]
19:24:24,119  INFO     >> -----------------------------------------------------------
19:24:24,120  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans
19:24:24,133  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans): [200 OK] in 13ms
19:24:24,134  INFO     >> -----------------------------------------------------------
19:24:24,134  INFO     >> Starting Test [contracts-testPlan.xml / Create Org 2 / Plan B]
19:24:24,134  INFO     >> -----------------------------------------------------------
19:24:24,135  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans
19:24:24,147  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans): [200 OK] in 12ms
19:24:24,148  INFO     >> -----------------------------------------------------------
19:24:24,148  INFO     >> Starting Test [contracts-testPlan.xml / Create Plan A / Version 1.0]
19:24:24,148  INFO     >> -----------------------------------------------------------
19:24:24,148  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans/PlanA/versions
19:24:24,159  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans/PlanA/versions): [200 OK] in 11ms
19:24:24,160  INFO     >> -----------------------------------------------------------
19:24:24,160  INFO     >> Starting Test [contracts-testPlan.xml / Create Plan A / Version 2.0]
19:24:24,160  INFO     >> -----------------------------------------------------------
19:24:24,160  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans/PlanA/versions
19:24:24,171  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans/PlanA/versions): [200 OK] in 11ms
19:24:24,172  INFO     >> -----------------------------------------------------------
19:24:24,172  INFO     >> Starting Test [contracts-testPlan.xml / Create Plan B / Version 1.0]
19:24:24,172  INFO     >> -----------------------------------------------------------
19:24:24,172  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans/PlanB/versions
19:24:24,185  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans/PlanB/versions): [200 OK] in 12ms
19:24:24,186  INFO     >> -----------------------------------------------------------
19:24:24,186  INFO     >> Starting Test [contracts-testPlan.xml / Lock Plan A / Version 1.0]
19:24:24,186  INFO     >> -----------------------------------------------------------
19:24:24,186  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:24,200  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 14ms
19:24:24,200  INFO     >> -----------------------------------------------------------
19:24:24,200  INFO     >> Starting Test [contracts-testPlan.xml / Lock Plan A / Version 2.0]
19:24:24,200  INFO     >> -----------------------------------------------------------
19:24:24,201  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:24,213  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 12ms
19:24:24,213  INFO     >> -----------------------------------------------------------
19:24:24,213  INFO     >> Starting Test [contracts-testPlan.xml / Lock Plan B / Version 1.0]
19:24:24,213  INFO     >> -----------------------------------------------------------
19:24:24,214  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:24,225  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 10ms
19:24:24,225  INFO     >> -----------------------------------------------------------
19:24:24,225  INFO     >> Starting Test [contracts-testPlan.xml / Update API 2 Plans]
19:24:24,225  INFO     >> -----------------------------------------------------------
19:24:24,225  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis/API2/versions/1.5
19:24:24,247  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization2/apis/API2/versions/1.5): [200 OK] in 21ms
19:24:24,248  INFO     >> -----------------------------------------------------------
19:24:24,248  INFO     >> Starting Test [contracts-testPlan.xml / Create API 2 / Version 2.0]
19:24:24,248  INFO     >> -----------------------------------------------------------
19:24:24,248  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis/API2/versions
19:24:24,293  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/apis/API2/versions): [200 OK] in 45ms
19:24:24,294  INFO     >> -----------------------------------------------------------
19:24:24,294  INFO     >> Starting Test [contracts-testPlan.xml / Publish API 1]
19:24:24,294  INFO     >> -----------------------------------------------------------
19:24:24,295  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:24,371  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 76ms
19:24:24,371  INFO     >> -----------------------------------------------------------
19:24:24,371  INFO     >> Starting Test [contracts-testPlan.xml / Publish API 2]
19:24:24,371  INFO     >> -----------------------------------------------------------
19:24:24,371  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:24,391  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 19ms
19:24:24,391  INFO     >> -----------------------------------------------------------
19:24:24,391  INFO     >> Starting Test [contracts-testPlan.xml / Create Contract to API 1]
19:24:24,391  INFO     >> -----------------------------------------------------------
19:24:24,392  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:24,427  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [200 OK] in 35ms
19:24:24,481  INFO     >> -- Binding value in response --
19:24:24,481  INFO     >> 	Expression: id
19:24:24,481  INFO     >> 	    To Var: contractId
19:24:24,481  INFO     >> 	 New Value: 38
19:24:24,483  INFO     >> -----------------------------------------------------------
19:24:24,483  INFO     >> Starting Test [contracts-testPlan.xml / List Contracts for Client 1 [1]]
19:24:24,483  INFO     >> -----------------------------------------------------------
19:24:24,483  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:24,501  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [200 OK] in 17ms
19:24:24,502  INFO     >> -----------------------------------------------------------
19:24:24,502  INFO     >> Starting Test [contracts-testPlan.xml / Create Contract to API 2]
19:24:24,502  INFO     >> -----------------------------------------------------------
19:24:24,502  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:24,524  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [200 OK] in 21ms
19:24:24,525  INFO     >> -- Binding value in response --
19:24:24,525  INFO     >> 	Expression: id
19:24:24,525  INFO     >> 	    To Var: contract2Id
19:24:24,525  INFO     >> 	 New Value: 41
19:24:24,526  INFO     >> -----------------------------------------------------------
19:24:24,526  INFO     >> Starting Test [contracts-testPlan.xml / List Contracts for Client 1 [2]]
19:24:24,526  INFO     >> -----------------------------------------------------------
19:24:24,534  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:24,556  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [200 OK] in 21ms
19:24:24,557  INFO     >> -----------------------------------------------------------
19:24:24,557  INFO     >> Starting Test [contracts-testPlan.xml / List ApiRegistry for Client 1 (JSON)]
19:24:24,557  INFO     >> -----------------------------------------------------------
19:24:24,557  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/apiregistry/json
19:24:24,591  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/apiregistry/json): [200 OK] in 33ms
19:24:24,592  INFO     >> -----------------------------------------------------------
19:24:24,592  INFO     >> Starting Test [contracts-testPlan.xml / List ApiRegistry for Client 1 (XML)]
19:24:24,592  INFO     >> -----------------------------------------------------------
19:24:24,593  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/apiregistry/xml
19:24:24,675  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/apiregistry/xml): [200 OK] in 81ms
19:24:24,838  INFO     >> -----------------------------------------------------------
19:24:24,838  INFO     >> Starting Test [contracts-testPlan.xml / Download ApiRegistry for Client 1 (JSON) (prep)]
19:24:24,838  INFO     >> -----------------------------------------------------------
19:24:24,839  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/apiregistry/json?download=true
19:24:24,850  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/apiregistry/json): [200 OK] in 11ms
19:24:24,851  INFO     >> -- Binding value in response --
19:24:24,851  INFO     >> 	Expression: id
19:24:24,851  INFO     >> 	    To Var: download-id
19:24:24,851  INFO     >> 	 New Value: 2588fe71-72f4-40d4-84ec-90cc5f4721b9
19:24:24,851  INFO     >> -----------------------------------------------------------
19:24:24,851  INFO     >> Starting Test [contracts-testPlan.xml / Download ApiRegistry for Client 1 (JSON) (download)]
19:24:24,851  INFO     >> -----------------------------------------------------------
19:24:24,852  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/downloads/2588fe71-72f4-40d4-84ec-90cc5f4721b9
19:24:24,885  INFO #fetch(GET localhost:7070 /apiman/downloads/2588fe71-72f4-40d4-84ec-90cc5f4721b9): [200 OK] in 32ms
19:24:24,886  INFO     >> -----------------------------------------------------------
19:24:24,886  INFO     >> Starting Test [contracts-testPlan.xml / Download ApiRegistry for Client 1 (XML) (prep)]
19:24:24,886  INFO     >> -----------------------------------------------------------
19:24:24,886  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/apiregistry/xml?download=true
19:24:24,892  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/apiregistry/xml): [200 OK] in 5ms
19:24:24,892  INFO     >> -- Binding value in response --
19:24:24,892  INFO     >> 	Expression: id
19:24:24,892  INFO     >> 	    To Var: download-id
19:24:24,892  INFO     >> 	 New Value: 50f301f9-40d4-4560-8f9b-1485701ba797
19:24:24,892  INFO     >> -----------------------------------------------------------
19:24:24,892  INFO     >> Starting Test [contracts-testPlan.xml / Download ApiRegistry for Client 1 (XML) (download)]
19:24:24,893  INFO     >> -----------------------------------------------------------
19:24:24,893  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/downloads/50f301f9-40d4-4560-8f9b-1485701ba797
19:24:24,920  INFO #fetch(GET localhost:7070 /apiman/downloads/50f301f9-40d4-4560-8f9b-1485701ba797): [200 OK] in 26ms
19:24:24,947  INFO     >> -----------------------------------------------------------
19:24:24,947  INFO     >> Starting Test [contracts-testPlan.xml / Create Duplicate Contract (failure)]
19:24:24,947  INFO     >> -----------------------------------------------------------
19:24:24,947  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:24,972  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [409 Conflict] in 25ms
19:24:24,974  INFO     >> -----------------------------------------------------------
19:24:24,974  INFO     >> Starting Test [contracts-testPlan.xml / Break Contract 1]
19:24:24,974  INFO     >> -----------------------------------------------------------
19:24:24,974  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts/38
19:24:24,994  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts/38): [204 No Content] in 19ms
19:24:24,994  INFO     >> -----------------------------------------------------------
19:24:24,994  INFO     >> Starting Test [contracts-testPlan.xml / List Contracts for Client 1 (after delete)]
19:24:24,994  INFO     >> -----------------------------------------------------------
19:24:24,994  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:25,006  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [200 OK] in 12ms
19:24:25,007  INFO     >> -----------------------------------------------------------
19:24:25,007  INFO     >> Starting Test [contracts-testPlan.xml / Create Contract to Unknown API]
19:24:25,007  INFO     >> -----------------------------------------------------------
19:24:25,007  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:25,017  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [404 Not Found] in 9ms
19:24:25,018  INFO     >> -----------------------------------------------------------
19:24:25,018  INFO     >> Starting Test [contracts-testPlan.xml / Create Contract to Unpublished API]
19:24:25,018  INFO     >> -----------------------------------------------------------
19:24:25,018  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:25,031  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [409 Conflict] in 13ms
19:24:25,032  INFO     >> -----------------------------------------------------------
19:24:25,032  INFO     >> Starting Test [contracts-testPlan.xml / Register Client 1]
19:24:25,032  INFO     >> -----------------------------------------------------------
19:24:25,033  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:25,064  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 31ms
19:24:25,064  INFO     >> -----------------------------------------------------------
19:24:25,064  INFO     >> Starting Test [contracts-testPlan.xml / Re-Register Client 1 (fail)]
19:24:25,065  INFO     >> -----------------------------------------------------------
19:24:25,065  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:25,076  INFO #fetch(POST localhost:7070 /apiman/actions): [500 Server Error] in 11ms
19:24:25,077  INFO     >> -----------------------------------------------------------
19:24:25,077  INFO     >> Starting Test [contracts-testPlan.xml / Break Contract 2]
19:24:25,077  INFO     >> -----------------------------------------------------------
19:24:25,078  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts/41
19:24:25,094  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts/41): [204 No Content] in 16ms
19:24:25,095  INFO     >> -----------------------------------------------------------
19:24:25,095  INFO     >> Starting Test [contracts-testPlan.xml / Create Contract]
19:24:25,095  INFO     >> -----------------------------------------------------------
19:24:25,096  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:25,120  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [404 Not Found] in 24ms
19:24:25,121  INFO     >> -----------------------------------------------------------
19:24:25,121  INFO     >> Starting Test [contracts-testPlan.xml / Re-Register Client 1 (success)]
19:24:25,121  INFO     >> -----------------------------------------------------------
19:24:25,122  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:25,150  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 28ms
19:24:25,150  INFO     >> -----------------------------------------------------------
19:24:25,150  INFO     >> Starting Test [contracts-testPlan.xml / Client Activity]
19:24:25,150  INFO     >> -----------------------------------------------------------
19:24:25,151  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/activity
19:24:25,168  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/activity): [200 OK] in 17ms
19:24:25,171  INFO     >> -----------------------------------------------------------
19:24:25,171  INFO     >> Starting Test [contracts-testPlan.xml / API Activity]
19:24:25,171  INFO     >> -----------------------------------------------------------
19:24:25,172  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis/API2/activity
19:24:25,184  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization2/apis/API2/activity): [200 OK] in 11ms
19:24:25,187  INFO     >> -----------------------------------------------------------
19:24:25,187  INFO     >> Starting Test [contracts-testPlan.xml / Create Client 1 Version 2.0]
19:24:25,187  INFO     >> -----------------------------------------------------------
19:24:25,187  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:25,200  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 13ms
19:24:25,201  INFO     >> -----------------------------------------------------------
19:24:25,201  INFO     >> Starting Test [contracts-testPlan.xml / Create Contract - Plan A]
19:24:25,201  INFO     >> -----------------------------------------------------------
19:24:25,201  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/2.0/contracts
19:24:25,224  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/2.0/contracts): [200 OK] in 22ms
19:24:25,225  INFO     >> -----------------------------------------------------------
19:24:25,225  INFO     >> Starting Test [contracts-testPlan.xml / Create Contract - Plan B (error)]
19:24:25,225  INFO     >> -----------------------------------------------------------
19:24:25,225  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/2.0/contracts
19:24:25,245  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/2.0/contracts): [500 Server Error] in 20ms
19:24:25,246  INFO     >> -----------------------------------------------------------
19:24:25,246  INFO     >> Starting Test [contracts-testPlan.xml / Request Non-existant Contract]
19:24:25,246  INFO     >> -----------------------------------------------------------
19:24:25,247  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts/666
19:24:25,255  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts/666): [404 Not Found] in 8ms
19:24:25,256  INFO     >> -----------------------------------------------------------
19:24:25,256  INFO     >> Starting Test [contracts-testPlan.xml / Create Contract For Non-Existant Client]
19:24:25,256  INFO     >> -----------------------------------------------------------
19:24:25,256  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:25,267  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [404 Not Found] in 10ms
19:24:25,272  INFO Stopped ServerConnector@5350ab17{HTTP/1.1}{0.0.0.0:7070}
19:24:25,272  INFO Stopped o.e.j.s.ServletContextHandler@7ae590f6{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:25,282  INFO Stopped o.e.j.s.ServletContextHandler@5a4464c5{/apiman,null,UNAVAILABLE}
19:24:25,283  INFO     >> 
19:24:25,283  INFO     >> -------------------------------------------------------------------------------
19:24:25,283  INFO     >> REST Test complete
19:24:25,283  INFO     >> -------------------------------------------------------------------------------
19:24:25,283  INFO     >> 
Tests run: 54, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.181 sec - in io.apiman.manager.test.ContractsTest
Running io.apiman.manager.test.PolicyDefinitionsTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:25,297  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:25,789  INFO Started o.e.j.s.ServletContextHandler@5fbae40{/apiman,null,AVAILABLE}
19:24:25,790  INFO Started o.e.j.s.ServletContextHandler@2c08c787{/mock-gateway,null,AVAILABLE}
19:24:25,791  INFO Started ServerConnector@1e482ecd{HTTP/1.1}{0.0.0.0:7070}
19:24:25,791  INFO Started @29408ms
******* Started in 497ms
19:24:25,791  INFO     >> 
19:24:25,791  INFO     >> -------------------------------------------------------------------------------
19:24:25,791  INFO     >> Executing REST Test
19:24:25,792  INFO     >> -------------------------------------------------------------------------------
19:24:25,792  INFO     >> 
19:24:25,792  INFO     >> -----------------------------------------------------------
19:24:25,792  INFO     >> Starting Test [policyDefs-testPlan.xml / Create Policy Def 1]
19:24:25,792  INFO     >> -----------------------------------------------------------
19:24:25,792  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:25,818  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 25ms
19:24:25,820  INFO     >> -----------------------------------------------------------
19:24:25,820  INFO     >> Starting Test [policyDefs-testPlan.xml / Create Policy Def 2]
19:24:25,820  INFO     >> -----------------------------------------------------------
19:24:25,821  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:25,829  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 8ms
19:24:25,830  INFO     >> -----------------------------------------------------------
19:24:25,830  INFO     >> Starting Test [policyDefs-testPlan.xml / Create Policy Def 3]
19:24:25,830  INFO     >> -----------------------------------------------------------
19:24:25,831  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:25,838  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 7ms
19:24:25,838  INFO     >> -----------------------------------------------------------
19:24:25,838  INFO     >> Starting Test [policyDefs-testPlan.xml / Get Policy Def 2]
19:24:25,838  INFO     >> -----------------------------------------------------------
19:24:25,839  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs/PolicyDefTwo
19:24:25,844  INFO #fetch(GET localhost:7070 /apiman/policyDefs/PolicyDefTwo): [200 OK] in 5ms
19:24:25,845  INFO     >> -----------------------------------------------------------
19:24:25,845  INFO     >> Starting Test [policyDefs-testPlan.xml / List All Defs [1]]
19:24:25,845  INFO     >> -----------------------------------------------------------
19:24:25,846  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:25,857  INFO #fetch(GET localhost:7070 /apiman/policyDefs): [200 OK] in 11ms
19:24:25,858  INFO     >> -----------------------------------------------------------
19:24:25,858  INFO     >> Starting Test [policyDefs-testPlan.xml / Update Policy Def 1]
19:24:25,858  INFO     >> -----------------------------------------------------------
19:24:25,858  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs/PolicyDefOne
19:24:25,870  INFO #fetch(PUT localhost:7070 /apiman/policyDefs/PolicyDefOne): [204 No Content] in 11ms
19:24:25,870  INFO     >> -----------------------------------------------------------
19:24:25,870  INFO     >> Starting Test [policyDefs-testPlan.xml / Delete Policy Def 3]
19:24:25,871  INFO     >> -----------------------------------------------------------
19:24:25,871  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs/PolicyDefThree
19:24:25,880  INFO #fetch(DELETE localhost:7070 /apiman/policyDefs/PolicyDefThree): [204 No Content] in 8ms
19:24:25,880  INFO     >> -----------------------------------------------------------
19:24:25,880  INFO     >> Starting Test [policyDefs-testPlan.xml / List All Defs [2]]
19:24:25,880  INFO     >> -----------------------------------------------------------
19:24:25,881  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:25,889  INFO #fetch(GET localhost:7070 /apiman/policyDefs): [200 OK] in 7ms
19:24:25,890  INFO     >> -----------------------------------------------------------
19:24:25,890  INFO     >> Starting Test [policyDefs-testPlan.xml / Get Policy Def 1]
19:24:25,890  INFO     >> -----------------------------------------------------------
19:24:25,890  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs/PolicyDefOne
19:24:25,898  INFO #fetch(GET localhost:7070 /apiman/policyDefs/PolicyDefOne): [200 OK] in 7ms
19:24:25,903  INFO Stopped ServerConnector@1e482ecd{HTTP/1.1}{0.0.0.0:7070}
19:24:25,903  INFO Stopped o.e.j.s.ServletContextHandler@2c08c787{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:25,910  INFO Stopped o.e.j.s.ServletContextHandler@5fbae40{/apiman,null,UNAVAILABLE}
19:24:25,911  INFO     >> 
19:24:25,911  INFO     >> -------------------------------------------------------------------------------
19:24:25,911  INFO     >> REST Test complete
19:24:25,911  INFO     >> -------------------------------------------------------------------------------
19:24:25,911  INFO     >> 
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.626 sec - in io.apiman.manager.test.PolicyDefinitionsTest
Running io.apiman.manager.test.CurrentUserTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:25,930  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:26,424  INFO Started o.e.j.s.ServletContextHandler@4d4c4b14{/apiman,null,AVAILABLE}
19:24:26,425  INFO Started o.e.j.s.ServletContextHandler@49925d21{/mock-gateway,null,AVAILABLE}
19:24:26,426  INFO Started ServerConnector@1c43e84e{HTTP/1.1}{0.0.0.0:7070}
19:24:26,427  INFO Started @30044ms
******* Started in 501ms
19:24:26,427  INFO     >> 
19:24:26,427  INFO     >> -------------------------------------------------------------------------------
19:24:26,427  INFO     >> Executing REST Test
19:24:26,427  INFO     >> -------------------------------------------------------------------------------
19:24:26,427  INFO     >> 
19:24:26,427  INFO     >> -----------------------------------------------------------
19:24:26,427  INFO     >> Starting Test [currentuser-testPlan.xml / Create Org 1]
19:24:26,427  INFO     >> -----------------------------------------------------------
19:24:26,428  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp237789822-351]: HHH000397: Using ASTQueryTranslatorFactory
19:24:26,466  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 37ms
19:24:26,466  INFO     >> -----------------------------------------------------------
19:24:26,466  INFO     >> Starting Test [currentuser-testPlan.xml / Create Org 2]
19:24:26,467  INFO     >> -----------------------------------------------------------
19:24:26,467  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:26,479  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 12ms
19:24:26,480  INFO     >> -----------------------------------------------------------
19:24:26,480  INFO     >> Starting Test [currentuser-testPlan.xml / Create Org 3]
19:24:26,480  INFO     >> -----------------------------------------------------------
19:24:26,480  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:26,493  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 11ms
19:24:26,493  INFO     >> -----------------------------------------------------------
19:24:26,493  INFO     >> Starting Test [currentuser-testPlan.xml / Create Role 1]
19:24:26,493  INFO     >> -----------------------------------------------------------
19:24:26,494  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:26,508  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 13ms
19:24:26,509  INFO     >> -----------------------------------------------------------
19:24:26,509  INFO     >> Starting Test [currentuser-testPlan.xml / Create Role 2]
19:24:26,509  INFO     >> -----------------------------------------------------------
19:24:26,509  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:26,517  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 7ms
19:24:26,517  INFO     >> -----------------------------------------------------------
19:24:26,517  INFO     >> Starting Test [currentuser-testPlan.xml / Create Role 3]
19:24:26,517  INFO     >> -----------------------------------------------------------
19:24:26,518  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:26,524  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 6ms
19:24:26,524  INFO     >> -----------------------------------------------------------
19:24:26,524  INFO     >> Starting Test [currentuser-testPlan.xml / Grant Access to Org1 (user1)]
19:24:26,524  INFO     >> -----------------------------------------------------------
19:24:26,525  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1/roles
19:24:26,543  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization1/roles): [204 No Content] in 18ms
19:24:26,543  INFO     >> -----------------------------------------------------------
19:24:26,543  INFO     >> Starting Test [currentuser-testPlan.xml / My Orgs (user1)]
19:24:26,543  INFO     >> -----------------------------------------------------------
19:24:26,544  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/currentuser/clientorgs
19:24:26,579  INFO #fetch(GET localhost:7070 /apiman/currentuser/clientorgs): [200 OK] in 35ms
19:24:26,580  INFO     >> -----------------------------------------------------------
19:24:26,580  INFO     >> Starting Test [currentuser-testPlan.xml / My Orgs (user2)]
19:24:26,580  INFO     >> -----------------------------------------------------------
19:24:26,580  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/currentuser/clientorgs
19:24:26,585  INFO #fetch(GET localhost:7070 /apiman/currentuser/clientorgs): [200 OK] in 5ms
19:24:26,586  INFO     >> -----------------------------------------------------------
19:24:26,586  INFO     >> Starting Test [currentuser-testPlan.xml / Grant Access to Org2 (user1)]
19:24:26,586  INFO     >> -----------------------------------------------------------
19:24:26,586  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization2/roles
19:24:26,594  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization2/roles): [204 No Content] in 8ms
19:24:26,594  INFO     >> -----------------------------------------------------------
19:24:26,594  INFO     >> Starting Test [currentuser-testPlan.xml / My Orgs (user1) Repeat]
19:24:26,594  INFO     >> -----------------------------------------------------------
19:24:26,595  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/currentuser/clientorgs
19:24:26,604  INFO #fetch(GET localhost:7070 /apiman/currentuser/clientorgs): [200 OK] in 9ms
19:24:26,605  INFO     >> -----------------------------------------------------------
19:24:26,605  INFO     >> Starting Test [currentuser-testPlan.xml / Someone Else's Orgs (user1)]
19:24:26,605  INFO     >> -----------------------------------------------------------
19:24:26,605  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/users/user1/organizations
19:24:26,610  INFO #fetch(GET localhost:7070 /apiman/users/user1/organizations): [200 OK] in 4ms
19:24:26,613  INFO Stopped ServerConnector@1c43e84e{HTTP/1.1}{0.0.0.0:7070}
19:24:26,613  INFO Stopped o.e.j.s.ServletContextHandler@49925d21{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:26,620  INFO Stopped o.e.j.s.ServletContextHandler@4d4c4b14{/apiman,null,UNAVAILABLE}
19:24:26,621  INFO     >> 
19:24:26,621  INFO     >> -------------------------------------------------------------------------------
19:24:26,621  INFO     >> REST Test complete
19:24:26,621  INFO     >> -------------------------------------------------------------------------------
19:24:26,621  INFO     >> 
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.709 sec - in io.apiman.manager.test.CurrentUserTest
Running io.apiman.manager.test.MigrateTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:26,635  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:26,999  INFO Started o.e.j.s.ServletContextHandler@7378c4a4{/apiman,null,AVAILABLE}
19:24:26,999  INFO Started o.e.j.s.ServletContextHandler@6694fb1b{/mock-gateway,null,AVAILABLE}
19:24:27,000  INFO Started ServerConnector@58679ff{HTTP/1.1}{0.0.0.0:7070}
19:24:27,000  INFO Started @30617ms
******* Started in 367ms
19:24:27,000  INFO     >> 
19:24:27,000  INFO     >> -------------------------------------------------------------------------------
19:24:27,000  INFO     >> Executing REST Test
19:24:27,000  INFO     >> -------------------------------------------------------------------------------
19:24:27,000  INFO     >> 
19:24:27,000  INFO     >> -----------------------------------------------------------
19:24:27,000  INFO     >> Starting Test [migrate-testPlan.xml / Import Data]
19:24:27,000  INFO     >> -----------------------------------------------------------
19:24:27,002  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/system/import
INFO  [qtp398675554-434]: HHH000397: Using ASTQueryTranslatorFactory
19:24:27,328  INFO #fetch(POST localhost:7070 /apiman/system/import): [200 OK] in 325ms
19:24:27,328  INFO     >> -----------------------------------------------------------
19:24:27,328  INFO     >> Starting Test [migrate-testPlan.xml / Export Data]
19:24:27,328  INFO     >> -----------------------------------------------------------
19:24:27,330  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/system/export
INFO  [qtp398675554-437]: ----------------------------
INFO  [qtp398675554-437]: Starting apiman data export.
INFO  [qtp398675554-437]: Exporting meta-data.
INFO  [qtp398675554-437]: POJO: Metadata
INFO  [qtp398675554-437]: Start array: Users
INFO  [qtp398675554-437]: Exporting user: UserBean [username=admin, fullName=Admin, email=admin@example.org, joinedOn=2018-06-25 19:24:26.965, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: Exporting user: UserBean [username=admin2, fullName=Admin 2, email=admin2@example.org, joinedOn=2018-06-25 19:24:26.965, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: Exporting user: UserBean [username=bwayne, fullName=Bruce Wayne, email=bwayne@wayne-enterprises.com, joinedOn=2018-06-25 19:24:26.966, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: Exporting user: UserBean [username=ckent, fullName=Clark Kent, email=ckent@dailyplanet.com, joinedOn=2018-06-25 19:24:26.966, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: Exporting user: UserBean [username=dprince, fullName=Diana Prince, email=dprince@themyscira.gov, joinedOn=2018-06-25 19:24:26.966, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: Exporting user: UserBean [username=user1, fullName=User 1, email=user1@example.org, joinedOn=2018-06-25 19:24:26.965, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: Exporting user: UserBean [username=user2, fullName=User 2, email=user2@example.org, joinedOn=2018-06-25 19:24:26.965, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: Exporting user: UserBean [username=user3, fullName=User 3, email=user3@example.org, joinedOn=2018-06-25 19:24:26.965, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: Exporting user: UserBean [username=user4, fullName=User 4, email=user4@example.org, joinedOn=2018-06-25 19:24:26.965, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: Exporting user: UserBean [username=user5, fullName=User 5, email=user5@example.org, joinedOn=2018-06-25 19:24:26.966, admin=false]
INFO  [qtp398675554-437]:   POJO: UserBean
INFO  [qtp398675554-437]: End array: Users
INFO  [qtp398675554-437]: Start array: Gateways
INFO  [qtp398675554-437]: Exporting gateway: GatewayBean [id=TheGateway, name=The Gateway, description=This is the gateway., createdBy=admin, createdOn=2015-10-27 20:13:25.874, modifiedBy=admin, modifiedOn=2015-10-27 20:13:25.874, type=REST, configuration=***]
INFO  [qtp398675554-437]:   POJO: GatewayBean
INFO  [qtp398675554-437]: End array: Gateways
INFO  [qtp398675554-437]: Start array: Plugins
INFO  [qtp398675554-437]: Exporting plugin: PluginBean [id=1, groupId=io.apiman.plugins, artifactId=apiman-plugins-log-policy, version=1.2.2.Final, classifier=null, type=null, name=Log Policy Plugin, description=This plugin has policies for logging to std out., createdBy=admin, createdOn=2016-03-17 11:49:39.0]
INFO  [qtp398675554-437]:   POJO: PluginBean
INFO  [qtp398675554-437]: Exporting plugin: PluginBean [id=2, groupId=io.apiman.plugins, artifactId=apiman-plugins-jsonp-policy, version=1.2.2.Final, classifier=null, type=null, name=JSONP Policy Plugin, description=A plugin that contributes a policy that turns a standard RESTful endpoint into a JSONP compatible endpoint., createdBy=admin, createdOn=2016-03-17 11:49:49.0]
INFO  [qtp398675554-437]:   POJO: PluginBean
INFO  [qtp398675554-437]: End array: Plugins
INFO  [qtp398675554-437]: Start array: Roles
INFO  [qtp398675554-437]: Exporting role: RoleBean [id=APIDeveloper, name=API Developer, description=Users responsible for creating and managing APIs should be granted this role within an Organization., createdBy=admin, createdOn=2016-02-29 14:43:24.0, autoGrant=false, permissions=[planAdmin, planEdit, planView, apiAdmin, apiEdit, apiView]]
INFO  [qtp398675554-437]:   POJO: RoleBean
INFO  [qtp398675554-437]: Exporting role: RoleBean [id=ClientAppDeveloper, name=Client App Developer, description=Users responsible for creating and managing client apps should be granted this role within an Organization., createdBy=admin, createdOn=2016-02-29 14:43:24.0, autoGrant=false, permissions=[clientAdmin, clientView, clientEdit]]
INFO  [qtp398675554-437]:   POJO: RoleBean
INFO  [qtp398675554-437]: Exporting role: RoleBean [id=OrganizationOwner, name=Organization Owner, description=Automatically granted to the user who creates an Organization.  Grants all privileges., createdBy=admin, createdOn=2016-02-29 14:43:23.0, autoGrant=true, permissions=[planAdmin, planEdit, planView, clientAdmin, clientView, orgAdmin, clientEdit, orgView, apiAdmin, orgEdit, apiEdit, apiView]]
INFO  [qtp398675554-437]:   POJO: RoleBean
INFO  [qtp398675554-437]: Exporting role: RoleBean [id=PlanMaster, name=Plan Master, description=The master of all plans!, createdBy=admin, createdOn=2016-03-17 11:49:20.0, autoGrant=false, permissions=[planAdmin, planEdit, planView]]
INFO  [qtp398675554-437]:   POJO: RoleBean
INFO  [qtp398675554-437]: End array: Roles
INFO  [qtp398675554-437]: Start array: PolicyDefinitions
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=AuthorizationPolicy, policyImpl=class:io.apiman.gateway.engine.policies.AuthorizationPolicy, name=Authorization Policy, description=Enables fine grained authorization to API resources based on authenticated user roles., icon=users, templates=[PolicyDefinitionTemplateBean [language=null, template=Appropriate authorization roles are required.  There are  authorization rules defined.]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=BASICAuthenticationPolicy, policyImpl=class:io.apiman.gateway.engine.policies.BasicAuthenticationPolicy, name=BASIC Authentication Policy, description=Enables HTTP BASIC Authentication on an API.  Some configuration required., icon=lock, templates=[PolicyDefinitionTemplateBean [language=null, template=Access to the API is protected by BASIC Authentication through the '' authentication realm.  @if{forwardIdentityHttpHeader != null}Successfully authenticated requests will forward the authenticated identity to the back end API via the '' custom HTTP header.@end{}]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=CachingPolicy, policyImpl=class:io.apiman.gateway.engine.policies.CachingPolicy, name=Caching Policy, description=Allows caching of API responses in the Gateway to reduce overall traffic to the back-end API., icon=hdd-o, templates=[PolicyDefinitionTemplateBean [language=null, template=API responses will be cached for  seconds.]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=IgnoredResourcesPolicy, policyImpl=class:io.apiman.gateway.engine.policies.IgnoredResourcesPolicy, name=Ignored Resources Policy, description=Requests satisfying the provided regular expression will be ignored., icon=eye-slash, templates=[PolicyDefinitionTemplateBean [language=null, template=Requests matching any of the  regular expressions provided will receive a 404 error code.]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=IpBlacklistPolicy, policyImpl=class:io.apiman.gateway.engine.policies.IPBlacklistPolicy, name=IP Blacklist Policy, description=Requests that originate from a specified set of valid IP addresses will be denied access., icon=thumbs-down, templates=[PolicyDefinitionTemplateBean [language=null, template=Requests that originate from the set of  configured IP address(es) will be denied access to the managed API.]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=IpWhitelistPolicy, policyImpl=class:io.apiman.gateway.engine.policies.IPWhitelistPolicy, name=IP Whitelist Policy, description=Only requests that originate from a specified set of valid IP addresses will be allowed through., icon=filter, templates=[PolicyDefinitionTemplateBean [language=null, template=Only requests that originate from the set of  configured IP address(es) will be allowed to invoke the managed API.]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=Jsonp-policy, policyImpl=plugin:io.apiman.plugins:apiman-plugins-jsonp-policy:1.2.2.Final:war/io.apiman.plugins.jsonp_policy.JsonpPolicy, name=JSONP Policy, description=Turns an endpoint into a JSONP compatible endpoint., icon=bars, templates=[], pluginId=2, formType=JsonSchema, form=schemas/jsonp-policyDef.schema]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=Log-headers-policy, policyImpl=plugin:io.apiman.plugins:apiman-plugins-log-policy:1.2.2.Final:war/io.apiman.plugins.log_policy.LogHeadersPolicy, name=Log Headers Policy, description=A policy that logs the headers to std out.  Useful to analyse inbound HTTP traffic to the gateway when added as the first policy in the chain or to analyse outbound HTTP traffic from the gateway when added as the last policy in the chain., icon=fire, templates=[], pluginId=1, formType=JsonSchema, form=schemas/log-policyDef.schema]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=QuotaPolicy, policyImpl=class:io.apiman.gateway.engine.policies.QuotaPolicy, name=Quota Policy, description=Provides a way to limit the total number of requests that can be sent to an API., icon=exchange, templates=[PolicyDefinitionTemplateBean [language=null, template=Consumers cannot exceed their quota of  requests per  per .]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=RateLimitingPolicy, policyImpl=class:io.apiman.gateway.engine.policies.RateLimitingPolicy, name=Rate Limiting Policy, description=Enforces rate configurable request rate limits on an API.  This ensures that consumers can't overload an API with too many requests., icon=sliders, templates=[PolicyDefinitionTemplateBean [language=null, template=Consumers are limited to  requests per  per .]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=TimeRestrictedAccessPolicy, policyImpl=class:io.apiman.gateway.engine.policies.TimeRestrictedAccessPolicy, name=Time Restricted Access Policy, description=Requests matching the specified regular expression and made within the specified time period will be ignored., icon=clock-o, templates=[PolicyDefinitionTemplateBean [language=null, template=Requests matching the regular expression and made outside the specified time period will receive a 423 error code.]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=TransferQuotaPolicy, policyImpl=class:io.apiman.gateway.engine.policies.TransferQuotaPolicy, name=Transfer Quota Policy, description=Provides a way to limit the total number of bytes that can be transferred from (or to) an API., icon=download, templates=[PolicyDefinitionTemplateBean [language=null, template=Consumers are limited to transferring  bytes per  per .]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: Exporting policy definition: PolicyDefinitionBean [id=URLRewritingPolicy, policyImpl=class:io.apiman.gateway.engine.policies.URLRewritingPolicy, name=URL Rewriting Policy, description=Responses from the back-end API will be modified by fixing up any incorrect URLs found with modified ones.  This is useful because apiman works through an API Gateway., icon=pencil-square, templates=[PolicyDefinitionTemplateBean [language=null, template=Requests and/or responses will be modified by finding all text matching regular expression '' with ''.]], pluginId=null, formType=Default, form=null]
INFO  [qtp398675554-437]:   POJO: PolicyDefinitionBean
INFO  [qtp398675554-437]: End array: PolicyDefinitions
INFO  [qtp398675554-437]: Start array: Orgs
INFO  [qtp398675554-437]:   Start object.
INFO  [qtp398675554-437]: Exporting organization: OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0]
INFO  [qtp398675554-437]:     Start array: Memberships
INFO  [qtp398675554-437]:   Exporting membership: RoleMembershipBean [id=47, userId=admin, roleId=OrganizationOwner, organizationId=Foo, createdOn=2016-03-17 10:54:54.0]
INFO  [qtp398675554-437]:       POJO: RoleMembershipBean
INFO  [qtp398675554-437]:     End array: Memberships
INFO  [qtp398675554-437]:     Start array: Plans
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting plan version: PlanVersionBean [id=48, plan=PlanBean [organization=OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0], id=Good, name=Good, description=A pretty good plan., createdBy=admin, createdOn=2016-03-17 10:55:06.0], status=Locked, version=1.0, createdBy=admin, createdOn=2016-03-17 10:55:06.0, modifiedBy=admin, modifiedOn=2016-03-17 10:55:14.0, lockedOn=2016-03-17 10:55:15.0]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:       Exporting plan policy: PolicyBean [id=49, type=Plan, organizationId=Foo, entityId=Good, entityVersion=1.0, name=Caching Policy, description=null, configuration=***, createdBy=admin, createdOn=2016-03-17 10:55:14.0, modifiedBy=admin, modifiedOn=2016-03-17 10:55:14.0, definition=PolicyDefinitionBean [id=CachingPolicy, policyImpl=class:io.apiman.gateway.engine.policies.CachingPolicy, name=Caching Policy, description=Allows caching of API responses in the Gateway to reduce overall traffic to the back-end API., icon=hdd-o, templates=[PolicyDefinitionTemplateBean [language=null, template=API responses will be cached for  seconds.]], pluginId=null, formType=Default, form=null], orderIndex=1]
INFO  [qtp398675554-437]:               POJO: PolicyBean
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting plan version: PlanVersionBean [id=50, plan=PlanBean [organization=OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0], id=Great, name=Great, description=A really great plan., createdBy=admin, createdOn=2016-03-17 10:55:20.0], status=Locked, version=1.0, createdBy=admin, createdOn=2016-03-17 10:55:20.0, modifiedBy=admin, modifiedOn=2016-03-17 10:56:15.0, lockedOn=2016-03-17 10:56:26.0]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:       Exporting plan policy: PolicyBean [id=51, type=Plan, organizationId=Foo, entityId=Great, entityVersion=1.0, name=Time Restricted Access Policy, description=null, configuration=***, createdBy=admin, createdOn=2016-03-17 10:56:15.0, modifiedBy=admin, modifiedOn=2016-03-17 10:56:15.0, definition=PolicyDefinitionBean [id=TimeRestrictedAccessPolicy, policyImpl=class:io.apiman.gateway.engine.policies.TimeRestrictedAccessPolicy, name=Time Restricted Access Policy, description=Requests matching the specified regular expression and made within the specified time period will be ignored., icon=clock-o, templates=[PolicyDefinitionTemplateBean [language=null, template=Requests matching the regular expression and made outside the specified time period will receive a 423 error code.]], pluginId=null, formType=Default, form=null], orderIndex=1]
INFO  [qtp398675554-437]:               POJO: PolicyBean
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:     End array: Plans
INFO  [qtp398675554-437]:     Start array: Apis
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting API version: APIVersionBean [id=55, api=APIBean [organization=OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0], id=FacebookAPI, name=Facebook API, description=The Facebook API is a platform for building applications that are available to the members of the social network of Facebook., createdBy=admin, createdOn=2016-03-17 11:05:54.0], status=Published, endpoint=http://api.facebook.com/restserver.php, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=false, plans=[Great(1.0), Good(1.0)], version=1.0, createdBy=admin, createdOn=2016-03-17 11:05:54.0, modifiedBy=admin, modifiedOn=2016-03-17 11:05:54.0, publishedOn=2016-03-17 11:06:11.0, retiredOn=null, definitionType=External]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting API version: APIVersionBean [id=56, api=APIBean [organization=OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0], id=FlickrAPI, name=Flickr API, description=The Flickr API can be used to retrieve photos from the Flickr photo sharing service using a variety of feeds., createdBy=admin, createdOn=2016-03-17 11:05:55.0], status=Published, endpoint=http://api.flickr.com/services/rest/, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=false, plans=[Great(1.0), Good(1.0)], version=1.0, createdBy=admin, createdOn=2016-03-17 11:05:55.0, modifiedBy=admin, modifiedOn=2016-03-17 11:05:55.0, publishedOn=2016-03-17 11:06:15.0, retiredOn=null, definitionType=External]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting API version: APIVersionBean [id=52, api=APIBean [organization=OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0], id=Foo-echo, name=Foo-echo, description=An echo service inside the Foo organization., createdBy=admin, createdOn=2016-03-17 10:56:33.0], status=Published, endpoint=http://localhost:8080/services/echo, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=false, plans=[Great(1.0), Good(1.0)], version=1.0, createdBy=admin, createdOn=2016-03-17 10:56:33.0, modifiedBy=admin, modifiedOn=2016-03-17 10:59:25.0, publishedOn=2016-03-17 11:03:01.0, retiredOn=null, definitionType=SwaggerJSON]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:       Exporting API policy: PolicyBean [id=53, type=Api, organizationId=Foo, entityId=Foo-echo, entityVersion=1.0, name=BASIC Authentication Policy, description=null, configuration=***, createdBy=admin, createdOn=2016-03-17 10:58:46.0, modifiedBy=admin, modifiedOn=2016-03-17 10:58:46.0, definition=PolicyDefinitionBean [id=BASICAuthenticationPolicy, policyImpl=class:io.apiman.gateway.engine.policies.BasicAuthenticationPolicy, name=BASIC Authentication Policy, description=Enables HTTP BASIC Authentication on an API.  Some configuration required., icon=lock, templates=[PolicyDefinitionTemplateBean [language=null, template=Access to the API is protected by BASIC Authentication through the '' authentication realm.  @if{forwardIdentityHttpHeader != null}Successfully authenticated requests will forward the authenticated identity to the back end API via the '' custom HTTP header.@end{}]], pluginId=null, formType=Default, form=null], orderIndex=1]
INFO  [qtp398675554-437]:               POJO: PolicyBean
INFO  [qtp398675554-437]:       Exporting API policy: PolicyBean [id=54, type=Api, organizationId=Foo, entityId=Foo-echo, entityVersion=1.0, name=Ignored Resources Policy, description=null, configuration=***, createdBy=admin, createdOn=2016-03-17 10:59:25.0, modifiedBy=admin, modifiedOn=2016-03-17 10:59:25.0, definition=PolicyDefinitionBean [id=IgnoredResourcesPolicy, policyImpl=class:io.apiman.gateway.engine.policies.IgnoredResourcesPolicy, name=Ignored Resources Policy, description=Requests satisfying the provided regular expression will be ignored., icon=eye-slash, templates=[PolicyDefinitionTemplateBean [language=null, template=Requests matching any of the  regular expressions provided will receive a 404 error code.]], pluginId=null, formType=Default, form=null], orderIndex=2]
INFO  [qtp398675554-437]:               POJO: PolicyBean
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting API version: APIVersionBean [id=57, api=APIBean [organization=OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0], id=TwitterAPI, name=Twitter API, description=The Twitter micro-blogging service includes two RESTful APIs., createdBy=admin, createdOn=2016-03-17 11:06:56.0], status=Ready, endpoint=http://twitter.com/statuses/, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=true, plans=[], version=1.0, createdBy=admin, createdOn=2016-03-17 11:06:56.0, modifiedBy=admin, modifiedOn=2016-03-17 11:06:56.0, publishedOn=null, retiredOn=null, definitionType=External]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting API version: APIVersionBean [id=58, api=APIBean [organization=OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0], id=YouTubeAPI, name=YouTube API, description=The Data API allows users to integrate their program with YouTube and allow it to perform many of the operations available on the website., createdBy=admin, createdOn=2016-03-17 11:06:57.0], status=Ready, endpoint=http://gdata.youtube.com/feeds/, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=true, plans=[], version=1.0, createdBy=admin, createdOn=2016-03-17 11:06:57.0, modifiedBy=admin, modifiedOn=2016-03-17 11:06:57.0, publishedOn=null, retiredOn=null, definitionType=External]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:     End array: Apis
INFO  [qtp398675554-437]:     Start array: Clients
INFO  [qtp398675554-437]:   Exporting client: ClientBean [organization=OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0], id=Foo-app, name=Foo-app, description=The Foo app!  It probably uses the Foo-echo API., createdBy=admin, createdOn=2016-03-17 11:05:26.0]
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting client version: ClientVersionBean [id=59, client=ClientBean [organization=OrganizationBean [id=Foo, name=Foo, description=An amazing organization so that we have two for testing., createdBy=admin, createdOn=2016-03-17 10:54:54.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:54.0], id=Foo-app, name=Foo-app, description=The Foo app!  It probably uses the Foo-echo API., createdBy=admin, createdOn=2016-03-17 11:05:26.0], status=Registered, version=1.0, createdBy=admin, createdOn=2016-03-17 11:05:26.0, modifiedBy=admin, modifiedOn=2016-03-17 14:26:51.0, publishedOn=2016-03-17 14:26:57.0, retiredOn=null, apikey=1cb78701-cf12-46c3-aaec-5e1274f0e290]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:             Start array: Contracts
INFO  [qtp398675554-437]:       Exporting client contract: ContractBean [id=101, client=null, api=APIVersionBean [id=null, api=APIBean [organization=OrganizationBean [id=Foo, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Foo-echo, name=null, description=null, createdBy=null, createdOn=null], status=null, endpoint=null, endpointType=null, gateways=null, publicAPI=false, plans=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, publishedOn=null, retiredOn=null, definitionType=null], plan=PlanVersionBean [id=null, plan=PlanBean [organization=OrganizationBean [id=Foo, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Good, name=null, description=null, createdBy=null, createdOn=null], status=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, lockedOn=null], createdBy=admin, createdOn=2016-03-17 14:26:43.0]
INFO  [qtp398675554-437]:               POJO: ContractBean
INFO  [qtp398675554-437]:       Exporting client contract: ContractBean [id=102, client=null, api=APIVersionBean [id=null, api=APIBean [organization=OrganizationBean [id=Test, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=echo, name=null, description=null, createdBy=null, createdOn=null], status=null, endpoint=null, endpointType=null, gateways=null, publicAPI=false, plans=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, publishedOn=null, retiredOn=null, definitionType=null], plan=PlanVersionBean [id=null, plan=PlanBean [organization=OrganizationBean [id=Test, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Silver, name=null, description=null, createdBy=null, createdOn=null], status=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, lockedOn=null], createdBy=admin, createdOn=2016-03-17 14:26:51.0]
INFO  [qtp398675554-437]:               POJO: ContractBean
INFO  [qtp398675554-437]:             End array.
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:     End array: Clients
INFO  [qtp398675554-437]:     Start array: Audits
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=60, who=admin, organizationId=Foo, entityType=Organization, entityId=null, entityVersion=null, createdOn=2016-03-17 10:54:54.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=61, who=admin, organizationId=Foo, entityType=Plan, entityId=Good, entityVersion=null, createdOn=2016-03-17 10:55:06.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=62, who=admin, organizationId=Foo, entityType=Plan, entityId=Good, entityVersion=1.0, createdOn=2016-03-17 10:55:06.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=63, who=admin, organizationId=Foo, entityType=Plan, entityId=Good, entityVersion=1.0, createdOn=2016-03-17 10:55:14.0, what=AddPolicy, data={"policyDefId":"CachingPolicy"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=64, who=admin, organizationId=Foo, entityType=Plan, entityId=Good, entityVersion=1.0, createdOn=2016-03-17 10:55:15.0, what=Lock, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=65, who=admin, organizationId=Foo, entityType=Plan, entityId=Great, entityVersion=null, createdOn=2016-03-17 10:55:20.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=66, who=admin, organizationId=Foo, entityType=Plan, entityId=Great, entityVersion=1.0, createdOn=2016-03-17 10:55:20.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=67, who=admin, organizationId=Foo, entityType=Plan, entityId=Great, entityVersion=1.0, createdOn=2016-03-17 10:56:15.0, what=AddPolicy, data={"policyDefId":"TimeRestrictedAccessPolicy"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=68, who=admin, organizationId=Foo, entityType=Plan, entityId=Great, entityVersion=1.0, createdOn=2016-03-17 10:56:26.0, what=Lock, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=69, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=null, createdOn=2016-03-17 10:56:33.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=70, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=1.0, createdOn=2016-03-17 10:56:33.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=71, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=1.0, createdOn=2016-03-17 10:57:29.0, what=Update, data={"changes":[{"name":"endpoint","before":null,"after":"http://localhost:8080/services/echo"},{"name":"endpointType","before":null,"after":"rest"},{"name":"endpointContentType","before":null,"after":"json"}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=72, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=1.0, createdOn=2016-03-17 10:58:06.0, what=UpdateDefinition, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=73, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=1.0, createdOn=2016-03-17 10:58:16.0, what=Update, data={"changes":[{"name":"plans","before":"","after":"Good:1.0, Great:1.0"}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=74, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=1.0, createdOn=2016-03-17 10:58:46.0, what=AddPolicy, data={"policyDefId":"BASICAuthenticationPolicy"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=75, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=1.0, createdOn=2016-03-17 10:59:25.0, what=AddPolicy, data={"policyDefId":"IgnoredResourcesPolicy"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=76, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=1.0, createdOn=2016-03-17 11:03:01.0, what=Publish, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=77, who=admin, organizationId=Foo, entityType=Organization, entityId=null, entityVersion=null, createdOn=2016-03-17 11:04:33.0, what=Update, data={"changes":[{"name":"description","before":null,"after":"An amazing organization so that we have two for testing."}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=78, who=admin, organizationId=Foo, entityType=Plan, entityId=Good, entityVersion=null, createdOn=2016-03-17 11:04:42.0, what=Update, data={"changes":[{"name":"description","before":null,"after":"A pretty good plan."}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=79, who=admin, organizationId=Foo, entityType=Plan, entityId=Great, entityVersion=null, createdOn=2016-03-17 11:04:49.0, what=Update, data={"changes":[{"name":"description","before":null,"after":"A really great plan."}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=80, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=null, createdOn=2016-03-17 11:05:00.0, what=Update, data={"changes":[{"name":"description","before":null,"after":"An echo service inside the Foo organization."}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=81, who=admin, organizationId=Foo, entityType=Client, entityId=Foo-app, entityVersion=null, createdOn=2016-03-17 11:05:26.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=82, who=admin, organizationId=Foo, entityType=Client, entityId=Foo-app, entityVersion=1.0, createdOn=2016-03-17 11:05:26.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=83, who=admin, organizationId=Foo, entityType=Api, entityId=FacebookAPI, entityVersion=null, createdOn=2016-03-17 11:05:54.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=84, who=admin, organizationId=Foo, entityType=Api, entityId=FacebookAPI, entityVersion=1.0, createdOn=2016-03-17 11:05:54.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=85, who=admin, organizationId=Foo, entityType=Api, entityId=FlickrAPI, entityVersion=null, createdOn=2016-03-17 11:05:55.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=86, who=admin, organizationId=Foo, entityType=Api, entityId=FlickrAPI, entityVersion=1.0, createdOn=2016-03-17 11:05:55.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=87, who=admin, organizationId=Foo, entityType=Api, entityId=FacebookAPI, entityVersion=1.0, createdOn=2016-03-17 11:06:11.0, what=Publish, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=88, who=admin, organizationId=Foo, entityType=Api, entityId=FlickrAPI, entityVersion=1.0, createdOn=2016-03-17 11:06:15.0, what=Publish, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=89, who=admin, organizationId=Foo, entityType=Api, entityId=TwitterAPI, entityVersion=null, createdOn=2016-03-17 11:06:56.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=90, who=admin, organizationId=Foo, entityType=Api, entityId=TwitterAPI, entityVersion=1.0, createdOn=2016-03-17 11:06:56.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=91, who=admin, organizationId=Foo, entityType=Api, entityId=YouTubeAPI, entityVersion=null, createdOn=2016-03-17 11:06:57.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=92, who=admin, organizationId=Foo, entityType=Api, entityId=YouTubeAPI, entityVersion=1.0, createdOn=2016-03-17 11:06:57.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=93, who=admin, organizationId=Foo, entityType=Client, entityId=Foo-app, entityVersion=1.0, createdOn=2016-03-17 14:26:43.0, what=CreateContract, data={"clientOrgId":"Foo","clientId":"Foo-app","clientVersion":"1.0","apiOrgId":"Foo","apiId":"Foo-echo","apiVersion":"1.0","planId":"Good","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=94, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=1.0, createdOn=2016-03-17 14:26:43.0, what=CreateContract, data={"clientOrgId":"Foo","clientId":"Foo-app","clientVersion":"1.0","apiOrgId":"Foo","apiId":"Foo-echo","apiVersion":"1.0","planId":"Good","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=95, who=admin, organizationId=Foo, entityType=Client, entityId=Foo-app, entityVersion=1.0, createdOn=2016-03-17 14:26:51.0, what=CreateContract, data={"clientOrgId":"Foo","clientId":"Foo-app","clientVersion":"1.0","apiOrgId":"Test","apiId":"echo","apiVersion":"1.0","planId":"Silver","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=96, who=admin, organizationId=Foo, entityType=Client, entityId=Foo-app, entityVersion=1.0, createdOn=2016-03-17 14:26:57.0, what=Register, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=97, who=admin, organizationId=Foo, entityType=Api, entityId=Foo-echo, entityVersion=1.0, createdOn=2016-03-17 14:28:22.0, what=CreateContract, data={"clientOrgId":"Test","clientId":"client1","clientVersion":"1.1","apiOrgId":"Foo","apiId":"Foo-echo","apiVersion":"1.0","planId":"Great","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:     End array: Audits
INFO  [qtp398675554-437]:   End object.
INFO  [qtp398675554-437]:   Start object.
INFO  [qtp398675554-437]: Exporting organization: OrganizationBean [id=Test, name=Test, description=A test organization used by the full apiman smoke test suite., createdBy=admin, createdOn=2016-03-17 10:47:51.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:51.0]
INFO  [qtp398675554-437]:     Start array: Memberships
INFO  [qtp398675554-437]:   Exporting membership: RoleMembershipBean [id=3, userId=admin, roleId=OrganizationOwner, organizationId=Test, createdOn=2016-03-17 10:47:51.0]
INFO  [qtp398675554-437]:       POJO: RoleMembershipBean
INFO  [qtp398675554-437]:     End array: Memberships
INFO  [qtp398675554-437]:     Start array: Plans
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting plan version: PlanVersionBean [id=4, plan=PlanBean [organization=OrganizationBean [id=Test, name=Test, description=A test organization used by the full apiman smoke test suite., createdBy=admin, createdOn=2016-03-17 10:47:51.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:51.0], id=Gold, name=Gold, description=The Gold plan allows users the highest level of API., createdBy=admin, createdOn=2016-03-17 10:47:52.0], status=Locked, version=1.0, createdBy=admin, createdOn=2016-03-17 10:47:52.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:52.0, lockedOn=2016-03-17 10:47:52.0]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:       Exporting plan policy: PolicyBean [id=5, type=Plan, organizationId=Test, entityId=Gold, entityVersion=1.0, name=Rate Limiting Policy, description=null, configuration=***, createdBy=admin, createdOn=2016-03-17 10:47:52.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:52.0, definition=PolicyDefinitionBean [id=RateLimitingPolicy, policyImpl=class:io.apiman.gateway.engine.policies.RateLimitingPolicy, name=Rate Limiting Policy, description=Enforces rate configurable request rate limits on an API.  This ensures that consumers can't overload an API with too many requests., icon=sliders, templates=[PolicyDefinitionTemplateBean [language=null, template=Consumers are limited to  requests per  per .]], pluginId=null, formType=Default, form=null], orderIndex=1]
INFO  [qtp398675554-437]:               POJO: PolicyBean
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting plan version: PlanVersionBean [id=6, plan=PlanBean [organization=OrganizationBean [id=Test, name=Test, description=A test organization used by the full apiman smoke test suite., createdBy=admin, createdOn=2016-03-17 10:47:51.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:51.0], id=Silver, name=Silver, description=The Silver plan allows users a lower level of API., createdBy=admin, createdOn=2016-03-17 10:47:52.0], status=Locked, version=1.0, createdBy=admin, createdOn=2016-03-17 10:47:52.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:52.0, lockedOn=2016-03-17 10:47:52.0]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:       Exporting plan policy: PolicyBean [id=7, type=Plan, organizationId=Test, entityId=Silver, entityVersion=1.0, name=Rate Limiting Policy, description=null, configuration=***, createdBy=admin, createdOn=2016-03-17 10:47:52.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:52.0, definition=PolicyDefinitionBean [id=RateLimitingPolicy, policyImpl=class:io.apiman.gateway.engine.policies.RateLimitingPolicy, name=Rate Limiting Policy, description=Enforces rate configurable request rate limits on an API.  This ensures that consumers can't overload an API with too many requests., icon=sliders, templates=[PolicyDefinitionTemplateBean [language=null, template=Consumers are limited to  requests per  per .]], pluginId=null, formType=Default, form=null], orderIndex=1]
INFO  [qtp398675554-437]:               POJO: PolicyBean
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:     End array: Plans
INFO  [qtp398675554-437]:     Start array: Apis
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting API version: APIVersionBean [id=8, api=APIBean [organization=OrganizationBean [id=Test, name=Test, description=A test organization used by the full apiman smoke test suite., createdBy=admin, createdOn=2016-03-17 10:47:51.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:51.0], id=echo, name=echo, description=A simple echo REST API., createdBy=admin, createdOn=2016-03-17 10:47:52.0], status=Published, endpoint=http://localhost:8080/services/echo/echo, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=false, plans=[Gold(1.0), Silver(1.0)], version=1.0, createdBy=admin, createdOn=2016-03-17 10:47:52.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:52.0, publishedOn=2016-03-17 10:47:53.0, retiredOn=null, definitionType=null]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting API version: APIVersionBean [id=9, api=APIBean [organization=OrganizationBean [id=Test, name=Test, description=A test organization used by the full apiman smoke test suite., createdBy=admin, createdOn=2016-03-17 10:47:51.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:51.0], id=public-echo, name=public-echo, description=A public echo REST API., createdBy=admin, createdOn=2016-03-17 10:47:53.0], status=Published, endpoint=http://localhost:8080/services/echo/public-echo, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=true, plans=[], version=1.0, createdBy=admin, createdOn=2016-03-17 10:47:53.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:53.0, publishedOn=2016-03-17 10:47:53.0, retiredOn=null, definitionType=null]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting API version: APIVersionBean [id=10, api=APIBean [organization=OrganizationBean [id=Test, name=Test, description=A test organization used by the full apiman smoke test suite., createdBy=admin, createdOn=2016-03-17 10:47:51.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:51.0], id=public-echo-two, name=public-echo-two, description=A second public echo API.  Tests some plugin policies., createdBy=admin, createdOn=2016-03-17 11:50:35.0], status=Published, endpoint=http://localhost:8080/services/echo, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=true, plans=[], version=1.0, createdBy=admin, createdOn=2016-03-17 11:50:35.0, modifiedBy=admin, modifiedOn=2016-03-17 11:51:01.0, publishedOn=2016-03-17 11:51:29.0, retiredOn=null, definitionType=null]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:       Exporting API policy: PolicyBean [id=11, type=Api, organizationId=Test, entityId=public-echo-two, entityVersion=1.0, name=Log Headers Policy, description=null, configuration=***, createdBy=admin, createdOn=2016-03-17 11:51:01.0, modifiedBy=admin, modifiedOn=2016-03-17 11:51:01.0, definition=PolicyDefinitionBean [id=Log-headers-policy, policyImpl=plugin:io.apiman.plugins:apiman-plugins-log-policy:1.2.2.Final:war/io.apiman.plugins.log_policy.LogHeadersPolicy, name=Log Headers Policy, description=A policy that logs the headers to std out.  Useful to analyse inbound HTTP traffic to the gateway when added as the first policy in the chain or to analyse outbound HTTP traffic from the gateway when added as the last policy in the chain., icon=fire, templates=[], pluginId=1, formType=JsonSchema, form=schemas/log-policyDef.schema], orderIndex=1]
INFO  [qtp398675554-437]:               POJO: PolicyBean
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:     End array: Apis
INFO  [qtp398675554-437]:     Start array: Clients
INFO  [qtp398675554-437]:   Exporting client: ClientBean [organization=OrganizationBean [id=Test, name=Test, description=A test organization used by the full apiman smoke test suite., createdBy=admin, createdOn=2016-03-17 10:47:51.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:51.0], id=client1, name=client1, description=A simple test client., createdBy=admin, createdOn=2016-03-17 10:47:53.0]
INFO  [qtp398675554-437]:       Start object.
INFO  [qtp398675554-437]:         Start array: Versions
INFO  [qtp398675554-437]:     Exporting client version: ClientVersionBean [id=12, client=ClientBean [organization=OrganizationBean [id=Test, name=Test, description=A test organization used by the full apiman smoke test suite., createdBy=admin, createdOn=2016-03-17 10:47:51.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:51.0], id=client1, name=client1, description=A simple test client., createdBy=admin, createdOn=2016-03-17 10:47:53.0], status=Registered, version=1.0, createdBy=admin, createdOn=2016-03-17 10:47:53.0, modifiedBy=admin, modifiedOn=2016-03-17 10:54:34.0, publishedOn=2016-03-17 10:54:40.0, retiredOn=null, apikey=bfe8ef27-8823-4888-9d37-75b54bd89326]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:             Start array: Contracts
INFO  [qtp398675554-437]:       Exporting client contract: ContractBean [id=98, client=null, api=APIVersionBean [id=null, api=APIBean [organization=OrganizationBean [id=Test, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=echo, name=null, description=null, createdBy=null, createdOn=null], status=null, endpoint=null, endpointType=null, gateways=null, publicAPI=false, plans=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, publishedOn=null, retiredOn=null, definitionType=null], plan=PlanVersionBean [id=null, plan=PlanBean [organization=OrganizationBean [id=Test, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Gold, name=null, description=null, createdBy=null, createdOn=null], status=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, lockedOn=null], createdBy=admin, createdOn=2016-03-17 10:54:34.0]
INFO  [qtp398675554-437]:               POJO: ContractBean
INFO  [qtp398675554-437]:             End array.
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:     Exporting client version: ClientVersionBean [id=13, client=ClientBean [organization=OrganizationBean [id=Test, name=Test, description=A test organization used by the full apiman smoke test suite., createdBy=admin, createdOn=2016-03-17 10:47:51.0, modifiedBy=admin, modifiedOn=2016-03-17 10:47:51.0], id=client1, name=client1, description=A simple test client., createdBy=admin, createdOn=2016-03-17 10:47:53.0], status=Ready, version=1.1, createdBy=admin, createdOn=2016-03-17 14:28:05.0, modifiedBy=admin, modifiedOn=2016-03-17 14:28:22.0, publishedOn=null, retiredOn=null, apikey=1f89b444-a6ae-4955-97a6-dd6fc732d31f]
INFO  [qtp398675554-437]:           Start object.
INFO  [qtp398675554-437]:             Start array: Policies
INFO  [qtp398675554-437]:             End array: Policies
INFO  [qtp398675554-437]:             Start array: Contracts
INFO  [qtp398675554-437]:       Exporting client contract: ContractBean [id=99, client=null, api=APIVersionBean [id=null, api=APIBean [organization=OrganizationBean [id=Foo, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Foo-echo, name=null, description=null, createdBy=null, createdOn=null], status=null, endpoint=null, endpointType=null, gateways=null, publicAPI=false, plans=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, publishedOn=null, retiredOn=null, definitionType=null], plan=PlanVersionBean [id=null, plan=PlanBean [organization=OrganizationBean [id=Foo, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Great, name=null, description=null, createdBy=null, createdOn=null], status=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, lockedOn=null], createdBy=admin, createdOn=2016-03-17 14:28:22.0]
INFO  [qtp398675554-437]:               POJO: ContractBean
INFO  [qtp398675554-437]:       Exporting client contract: ContractBean [id=100, client=null, api=APIVersionBean [id=null, api=APIBean [organization=OrganizationBean [id=Test, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=echo, name=null, description=null, createdBy=null, createdOn=null], status=null, endpoint=null, endpointType=null, gateways=null, publicAPI=false, plans=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, publishedOn=null, retiredOn=null, definitionType=null], plan=PlanVersionBean [id=null, plan=PlanBean [organization=OrganizationBean [id=Test, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Gold, name=null, description=null, createdBy=null, createdOn=null], status=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, lockedOn=null], createdBy=admin, createdOn=2016-03-17 14:28:05.0]
INFO  [qtp398675554-437]:               POJO: ContractBean
INFO  [qtp398675554-437]:             End array.
INFO  [qtp398675554-437]:           End object.
INFO  [qtp398675554-437]:         End array.
INFO  [qtp398675554-437]:       End object.
INFO  [qtp398675554-437]:     End array: Clients
INFO  [qtp398675554-437]:     Start array: Audits
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=14, who=admin, organizationId=Test, entityType=Organization, entityId=null, entityVersion=null, createdOn=2016-03-17 10:47:51.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=15, who=admin, organizationId=Test, entityType=Plan, entityId=Gold, entityVersion=null, createdOn=2016-03-17 10:47:52.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=16, who=admin, organizationId=Test, entityType=Plan, entityId=Silver, entityVersion=null, createdOn=2016-03-17 10:47:52.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=17, who=admin, organizationId=Test, entityType=Plan, entityId=Gold, entityVersion=1.0, createdOn=2016-03-17 10:47:52.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=18, who=admin, organizationId=Test, entityType=Plan, entityId=Silver, entityVersion=1.0, createdOn=2016-03-17 10:47:52.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=19, who=admin, organizationId=Test, entityType=Plan, entityId=Gold, entityVersion=1.0, createdOn=2016-03-17 10:47:52.0, what=AddPolicy, data={"policyDefId":"RateLimitingPolicy"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=20, who=admin, organizationId=Test, entityType=Plan, entityId=Silver, entityVersion=1.0, createdOn=2016-03-17 10:47:52.0, what=AddPolicy, data={"policyDefId":"RateLimitingPolicy"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=21, who=admin, organizationId=Test, entityType=Plan, entityId=Gold, entityVersion=1.0, createdOn=2016-03-17 10:47:52.0, what=Lock, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=22, who=admin, organizationId=Test, entityType=Plan, entityId=Silver, entityVersion=1.0, createdOn=2016-03-17 10:47:52.0, what=Lock, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=23, who=admin, organizationId=Test, entityType=Api, entityId=echo, entityVersion=null, createdOn=2016-03-17 10:47:52.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=24, who=admin, organizationId=Test, entityType=Api, entityId=echo, entityVersion=1.0, createdOn=2016-03-17 10:47:52.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=25, who=admin, organizationId=Test, entityType=Api, entityId=echo, entityVersion=1.0, createdOn=2016-03-17 10:47:52.0, what=Update, data={"changes":[{"name":"plans","before":"","after":"Gold:1.0, Silver:1.0"},{"name":"endpoint","before":null,"after":"http://localhost:8080/services/echo/echo"},{"name":"endpointType","before":null,"after":"rest"}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=26, who=admin, organizationId=Test, entityType=Api, entityId=echo, entityVersion=1.0, createdOn=2016-03-17 10:47:53.0, what=Publish, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=27, who=admin, organizationId=Test, entityType=Api, entityId=public-echo, entityVersion=null, createdOn=2016-03-17 10:47:53.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=28, who=admin, organizationId=Test, entityType=Api, entityId=public-echo, entityVersion=1.0, createdOn=2016-03-17 10:47:53.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=29, who=admin, organizationId=Test, entityType=Api, entityId=public-echo, entityVersion=1.0, createdOn=2016-03-17 10:47:53.0, what=Update, data={"changes":[{"name":"endpoint","before":null,"after":"http://localhost:8080/services/echo/public-echo"},{"name":"endpointType","before":null,"after":"rest"},{"name":"publicAPI","before":"false","after":"true"}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=30, who=admin, organizationId=Test, entityType=Api, entityId=public-echo, entityVersion=1.0, createdOn=2016-03-17 10:47:53.0, what=Publish, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=31, who=admin, organizationId=Test, entityType=Client, entityId=client1, entityVersion=null, createdOn=2016-03-17 10:47:53.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=32, who=admin, organizationId=Test, entityType=Client, entityId=client1, entityVersion=1.0, createdOn=2016-03-17 10:47:53.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=33, who=admin, organizationId=Test, entityType=Client, entityId=client1, entityVersion=1.0, createdOn=2016-03-17 10:54:34.0, what=CreateContract, data={"clientOrgId":"Test","clientId":"client1","clientVersion":"1.0","apiOrgId":"Test","apiId":"echo","apiVersion":"1.0","planId":"Gold","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=34, who=admin, organizationId=Test, entityType=Api, entityId=echo, entityVersion=1.0, createdOn=2016-03-17 10:54:34.0, what=CreateContract, data={"clientOrgId":"Test","clientId":"client1","clientVersion":"1.0","apiOrgId":"Test","apiId":"echo","apiVersion":"1.0","planId":"Gold","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=35, who=admin, organizationId=Test, entityType=Client, entityId=client1, entityVersion=1.0, createdOn=2016-03-17 10:54:40.0, what=Register, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=36, who=admin, organizationId=Test, entityType=Api, entityId=public-echo-two, entityVersion=null, createdOn=2016-03-17 11:50:35.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=37, who=admin, organizationId=Test, entityType=Api, entityId=public-echo-two, entityVersion=1.0, createdOn=2016-03-17 11:50:35.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=38, who=admin, organizationId=Test, entityType=Api, entityId=public-echo-two, entityVersion=1.0, createdOn=2016-03-17 11:50:40.0, what=Update, data={"changes":[{"name":"endpoint","before":null,"after":"http://localhost:8080/services/echo"},{"name":"endpointType","before":null,"after":"rest"},{"name":"endpointContentType","before":null,"after":"json"}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=39, who=admin, organizationId=Test, entityType=Api, entityId=public-echo-two, entityVersion=1.0, createdOn=2016-03-17 11:50:44.0, what=Update, data={"changes":[{"name":"publicAPI","before":"false","after":"true"}]}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=40, who=admin, organizationId=Test, entityType=Api, entityId=public-echo-two, entityVersion=1.0, createdOn=2016-03-17 11:51:01.0, what=AddPolicy, data={"policyDefId":"Log-headers-policy"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=41, who=admin, organizationId=Test, entityType=Api, entityId=public-echo-two, entityVersion=1.0, createdOn=2016-03-17 11:51:29.0, what=Publish, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=42, who=admin, organizationId=Test, entityType=Api, entityId=echo, entityVersion=1.0, createdOn=2016-03-17 14:26:51.0, what=CreateContract, data={"clientOrgId":"Foo","clientId":"Foo-app","clientVersion":"1.0","apiOrgId":"Test","apiId":"echo","apiVersion":"1.0","planId":"Silver","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=43, who=admin, organizationId=Test, entityType=Client, entityId=client1, entityVersion=1.1, createdOn=2016-03-17 14:28:05.0, what=Create, data=null]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=44, who=admin, organizationId=Test, entityType=Client, entityId=client1, entityVersion=1.1, createdOn=2016-03-17 14:28:05.0, what=CreateContract, data={"clientOrgId":"Test","clientId":"client1","clientVersion":"1.1","apiOrgId":"Test","apiId":"echo","apiVersion":"1.0","planId":"Gold","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=45, who=admin, organizationId=Test, entityType=Api, entityId=echo, entityVersion=1.0, createdOn=2016-03-17 14:28:05.0, what=CreateContract, data={"clientOrgId":"Test","clientId":"client1","clientVersion":"1.1","apiOrgId":"Test","apiId":"echo","apiVersion":"1.0","planId":"Gold","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:   Exporting audit entry: AuditEntryBean [id=46, who=admin, organizationId=Test, entityType=Client, entityId=client1, entityVersion=1.1, createdOn=2016-03-17 14:28:22.0, what=CreateContract, data={"clientOrgId":"Test","clientId":"client1","clientVersion":"1.1","apiOrgId":"Foo","apiId":"Foo-echo","apiVersion":"1.0","planId":"Great","planVersion":"1.0"}]
INFO  [qtp398675554-437]:       POJO: AuditEntryBean
INFO  [qtp398675554-437]:     End array: Audits
INFO  [qtp398675554-437]:   End object.
INFO  [qtp398675554-437]: End array.
INFO  [qtp398675554-437]: End object.
INFO  [qtp398675554-437]: Apiman data export completed successfully.
INFO  [qtp398675554-437]: ------------------------------------------
19:24:27,572  INFO #fetch(GET localhost:7070 /apiman/system/export): [200 OK] in 242ms
Set correlationIndex:value 2:2
Set correlationIndex:value 1:1
19:24:27,597  INFO Stopped ServerConnector@58679ff{HTTP/1.1}{0.0.0.0:7070}
19:24:27,598  INFO Stopped o.e.j.s.ServletContextHandler@6694fb1b{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:27,605  INFO Stopped o.e.j.s.ServletContextHandler@7378c4a4{/apiman,null,UNAVAILABLE}
19:24:27,606  INFO     >> 
19:24:27,606  INFO     >> -------------------------------------------------------------------------------
19:24:27,606  INFO     >> REST Test complete
19:24:27,606  INFO     >> -------------------------------------------------------------------------------
19:24:27,606  INFO     >> 
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.984 sec - in io.apiman.manager.test.MigrateTest
Running io.apiman.manager.test.MembersTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:27,623  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:28,003  INFO Started o.e.j.s.ServletContextHandler@113a6636{/apiman,null,AVAILABLE}
19:24:28,004  INFO Started o.e.j.s.ServletContextHandler@63062eea{/mock-gateway,null,AVAILABLE}
19:24:28,004  INFO Started ServerConnector@24bba1b7{HTTP/1.1}{0.0.0.0:7070}
19:24:28,004  INFO Started @31622ms
******* Started in 383ms
19:24:28,005  INFO     >> 
19:24:28,005  INFO     >> -------------------------------------------------------------------------------
19:24:28,005  INFO     >> Executing REST Test
19:24:28,005  INFO     >> -------------------------------------------------------------------------------
19:24:28,005  INFO     >> 
19:24:28,005  INFO     >> -----------------------------------------------------------
19:24:28,005  INFO     >> Starting Test [members-testPlan.xml / Create Org Owner Role]
19:24:28,005  INFO     >> -----------------------------------------------------------
19:24:28,005  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:28,022  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 17ms
19:24:28,023  INFO     >> -----------------------------------------------------------
19:24:28,023  INFO     >> Starting Test [members-testPlan.xml / Create Client Dev Role]
19:24:28,023  INFO     >> -----------------------------------------------------------
19:24:28,024  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:28,032  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 8ms
19:24:28,033  INFO     >> -----------------------------------------------------------
19:24:28,033  INFO     >> Starting Test [members-testPlan.xml / Create API Dev Role]
19:24:28,033  INFO     >> -----------------------------------------------------------
19:24:28,033  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:28,042  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 9ms
19:24:28,042  INFO     >> -----------------------------------------------------------
19:24:28,042  INFO     >> Starting Test [members-testPlan.xml / Create Organization 1]
19:24:28,042  INFO     >> -----------------------------------------------------------
19:24:28,043  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp1660093884-519]: HHH000397: Using ASTQueryTranslatorFactory
19:24:28,075  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 31ms
19:24:28,075  INFO     >> -----------------------------------------------------------
19:24:28,075  INFO     >> Starting Test [members-testPlan.xml / Create Organization 2]
19:24:28,075  INFO     >> -----------------------------------------------------------
19:24:28,076  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:28,089  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 13ms
19:24:28,090  INFO     >> -----------------------------------------------------------
19:24:28,090  INFO     >> Starting Test [members-testPlan.xml / Get Org 1 Members [1]]
19:24:28,090  INFO     >> -----------------------------------------------------------
19:24:28,091  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/members
19:24:28,107  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/members): [200 OK] in 16ms
19:24:28,107  INFO     >> -----------------------------------------------------------
19:24:28,107  INFO     >> Starting Test [members-testPlan.xml / Grant user1 app dev role]
19:24:28,107  INFO     >> -----------------------------------------------------------
19:24:28,108  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/roles
19:24:28,127  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/roles): [204 No Content] in 18ms
19:24:28,127  INFO     >> -----------------------------------------------------------
19:24:28,127  INFO     >> Starting Test [members-testPlan.xml / Get Org 1 Members [2]]
19:24:28,127  INFO     >> -----------------------------------------------------------
19:24:28,127  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/members
19:24:28,135  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/members): [200 OK] in 8ms
19:24:28,135  INFO     >> -----------------------------------------------------------
19:24:28,135  INFO     >> Starting Test [members-testPlan.xml / Grant user1 api dev role]
19:24:28,135  INFO     >> -----------------------------------------------------------
19:24:28,136  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/roles
19:24:28,144  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/roles): [204 No Content] in 8ms
19:24:28,144  INFO     >> -----------------------------------------------------------
19:24:28,144  INFO     >> Starting Test [members-testPlan.xml / Grant user2 api dev role]
19:24:28,144  INFO     >> -----------------------------------------------------------
19:24:28,145  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/roles
19:24:28,153  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/roles): [204 No Content] in 8ms
19:24:28,153  INFO     >> -----------------------------------------------------------
19:24:28,153  INFO     >> Starting Test [members-testPlan.xml / Get Org 1 Members [3]]
19:24:28,153  INFO     >> -----------------------------------------------------------
19:24:28,154  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/members
19:24:28,162  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/members): [200 OK] in 7ms
19:24:28,162  INFO     >> -----------------------------------------------------------
19:24:28,162  INFO     >> Starting Test [members-testPlan.xml / Revoke user2 role]
19:24:28,162  INFO     >> -----------------------------------------------------------
19:24:28,163  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/roles/APIDeveloper/user2
19:24:28,183  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/roles/APIDeveloper/user2): [204 No Content] in 19ms
19:24:28,183  INFO     >> -----------------------------------------------------------
19:24:28,183  INFO     >> Starting Test [members-testPlan.xml / Get Org 1 Members [4]]
19:24:28,183  INFO     >> -----------------------------------------------------------
19:24:28,183  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/members
19:24:28,192  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/members): [200 OK] in 8ms
19:24:28,192  INFO     >> -----------------------------------------------------------
19:24:28,192  INFO     >> Starting Test [members-testPlan.xml / Revoke all user1 roles]
19:24:28,192  INFO     >> -----------------------------------------------------------
19:24:28,193  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/members/user1
19:24:28,204  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/members/user1): [204 No Content] in 11ms
19:24:28,204  INFO     >> -----------------------------------------------------------
19:24:28,204  INFO     >> Starting Test [members-testPlan.xml / Get Org 1 Members [5]]
19:24:28,204  INFO     >> -----------------------------------------------------------
19:24:28,204  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/members
19:24:28,213  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/members): [200 OK] in 8ms
19:24:28,214  INFO     >> -----------------------------------------------------------
19:24:28,214  INFO     >> Starting Test [members-testPlan.xml / Organization Activity]
19:24:28,214  INFO     >> -----------------------------------------------------------
19:24:28,214  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/activity
19:24:28,225  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/activity): [200 OK] in 11ms
19:24:28,230  INFO Stopped ServerConnector@24bba1b7{HTTP/1.1}{0.0.0.0:7070}
19:24:28,230  INFO Stopped o.e.j.s.ServletContextHandler@63062eea{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:28,237  INFO Stopped o.e.j.s.ServletContextHandler@113a6636{/apiman,null,UNAVAILABLE}
19:24:28,238  INFO     >> 
19:24:28,238  INFO     >> -------------------------------------------------------------------------------
19:24:28,238  INFO     >> REST Test complete
19:24:28,238  INFO     >> -------------------------------------------------------------------------------
19:24:28,238  INFO     >> 
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.63 sec - in io.apiman.manager.test.MembersTest
Running io.apiman.manager.test.PolicyChainTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:28,252  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:28,606  INFO Started o.e.j.s.ServletContextHandler@7bb3294c{/apiman,null,AVAILABLE}
19:24:28,607  INFO Started o.e.j.s.ServletContextHandler@f391e52{/mock-gateway,null,AVAILABLE}
19:24:28,608  INFO Started ServerConnector@12f12744{HTTP/1.1}{0.0.0.0:7070}
19:24:28,608  INFO Started @32225ms
******* Started in 358ms
19:24:28,608  INFO     >> 
19:24:28,608  INFO     >> -------------------------------------------------------------------------------
19:24:28,608  INFO     >> Executing REST Test
19:24:28,608  INFO     >> -------------------------------------------------------------------------------
19:24:28,608  INFO     >> 
19:24:28,610  INFO     >> -----------------------------------------------------------
19:24:28,610  INFO     >> Starting Test [policychain-testPlan.xml / Create Organization 1]
19:24:28,610  INFO     >> -----------------------------------------------------------
19:24:28,611  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp596278845-601]: HHH000397: Using ASTQueryTranslatorFactory
19:24:28,637  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 26ms
19:24:28,638  INFO     >> -----------------------------------------------------------
19:24:28,638  INFO     >> Starting Test [policychain-testPlan.xml / Create Policy Def 1]
19:24:28,638  INFO     >> -----------------------------------------------------------
19:24:28,638  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:28,653  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 14ms
19:24:28,654  INFO     >> -----------------------------------------------------------
19:24:28,654  INFO     >> Starting Test [policychain-testPlan.xml / Create Policy Def 2]
19:24:28,654  INFO     >> -----------------------------------------------------------
19:24:28,654  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:28,662  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 7ms
19:24:28,662  INFO     >> -----------------------------------------------------------
19:24:28,662  INFO     >> Starting Test [policychain-testPlan.xml / Create Policy Def 3]
19:24:28,663  INFO     >> -----------------------------------------------------------
19:24:28,663  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:28,669  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 6ms
19:24:28,670  INFO     >> -----------------------------------------------------------
19:24:28,670  INFO     >> Starting Test [policychain-testPlan.xml / Create Gold Plan]
19:24:28,670  INFO     >> -----------------------------------------------------------
19:24:28,670  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/plans
19:24:28,682  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization/plans): [200 OK] in 11ms
19:24:28,683  INFO     >> -----------------------------------------------------------
19:24:28,683  INFO     >> Starting Test [policychain-testPlan.xml / Create Gold Plan 1.0]
19:24:28,683  INFO     >> -----------------------------------------------------------
19:24:28,683  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/plans/Gold/versions
19:24:28,697  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization/plans/Gold/versions): [200 OK] in 13ms
19:24:28,697  INFO     >> -----------------------------------------------------------
19:24:28,697  INFO     >> Starting Test [policychain-testPlan.xml / Create plan policy 1]
19:24:28,697  INFO     >> -----------------------------------------------------------
19:24:28,698  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/plans/Gold/versions/1.0/policies
19:24:28,797  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization/plans/Gold/versions/1.0/policies): [200 OK] in 99ms
19:24:28,798  INFO     >> -- Binding value in response --
19:24:28,798  INFO     >> 	Expression: id
19:24:28,798  INFO     >> 	    To Var: planpolicy1-id
19:24:28,798  INFO     >> 	 New Value: 5
19:24:28,799  INFO     >> -----------------------------------------------------------
19:24:28,799  INFO     >> Starting Test [policychain-testPlan.xml / Create plan policy 2]
19:24:28,799  INFO     >> -----------------------------------------------------------
19:24:28,799  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/plans/Gold/versions/1.0/policies
19:24:28,814  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization/plans/Gold/versions/1.0/policies): [200 OK] in 15ms
19:24:28,815  INFO     >> -- Binding value in response --
19:24:28,815  INFO     >> 	Expression: id
19:24:28,815  INFO     >> 	    To Var: planpolicy2-id
19:24:28,815  INFO     >> 	 New Value: 7
19:24:28,815  INFO     >> -----------------------------------------------------------
19:24:28,815  INFO     >> Starting Test [policychain-testPlan.xml / Lock Gold Plan 1.0]
19:24:28,815  INFO     >> -----------------------------------------------------------
19:24:28,816  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:28,827  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 11ms
19:24:28,827  INFO     >> -----------------------------------------------------------
19:24:28,828  INFO     >> Starting Test [policychain-testPlan.xml / Create foo API]
19:24:28,828  INFO     >> -----------------------------------------------------------
19:24:28,828  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/apis
19:24:28,842  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization/apis): [200 OK] in 13ms
19:24:28,842  INFO     >> -----------------------------------------------------------
19:24:28,842  INFO     >> Starting Test [policychain-testPlan.xml / Create foo API 1.0]
19:24:28,842  INFO     >> -----------------------------------------------------------
19:24:28,843  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/apis/foo/versions
19:24:28,861  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization/apis/foo/versions): [200 OK] in 18ms
19:24:28,862  INFO     >> -----------------------------------------------------------
19:24:28,862  INFO     >> Starting Test [policychain-testPlan.xml / Update foo API 1.0]
19:24:28,862  INFO     >> -----------------------------------------------------------
19:24:28,862  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/apis/foo/versions/1.0
19:24:28,886  INFO #fetch(PUT localhost:7070 /apiman/organizations/TestOrganization/apis/foo/versions/1.0): [200 OK] in 24ms
19:24:28,886  INFO     >> -----------------------------------------------------------
19:24:28,886  INFO     >> Starting Test [policychain-testPlan.xml / Create API policy 1]
19:24:28,886  INFO     >> -----------------------------------------------------------
19:24:28,887  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/apis/foo/versions/1.0/policies
19:24:28,903  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization/apis/foo/versions/1.0/policies): [200 OK] in 16ms
19:24:28,904  INFO     >> -- Binding value in response --
19:24:28,904  INFO     >> 	Expression: id
19:24:28,904  INFO     >> 	    To Var: apipolicy1-id
19:24:28,904  INFO     >> 	 New Value: 14
19:24:28,904  INFO     >> -----------------------------------------------------------
19:24:28,904  INFO     >> Starting Test [policychain-testPlan.xml / Gold Policy Chain]
19:24:28,904  INFO     >> -----------------------------------------------------------
19:24:28,904  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/apis/foo/versions/1.0/plans/Gold/policyChain
19:24:28,927  INFO #fetch(GET localhost:7070 /apiman/organizations/TestOrganization/apis/foo/versions/1.0/plans/Gold/policyChain): [200 OK] in 23ms
19:24:28,933  INFO     >> -- Binding value in response --
19:24:28,934  INFO     >> 	Expression: policies[2].id
19:24:28,934  INFO     >> 	    To Var: policy-3-id
19:24:28,934  INFO     >> 	 New Value: 14
19:24:28,934  INFO     >> -- Binding value in response --
19:24:28,934  INFO     >> 	Expression: policies[0].id
19:24:28,934  INFO     >> 	    To Var: policy-1-id
19:24:28,934  INFO     >> 	 New Value: 5
19:24:28,934  INFO     >> -- Binding value in response --
19:24:28,934  INFO     >> 	Expression: policies[1].id
19:24:28,934  INFO     >> 	    To Var: policy-2-id
19:24:28,934  INFO     >> 	 New Value: 7
19:24:28,934  INFO     >> -----------------------------------------------------------
19:24:28,934  INFO     >> Starting Test [policychain-testPlan.xml / Reorder Plan Policies]
19:24:28,934  INFO     >> -----------------------------------------------------------
19:24:28,935  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/plans/Gold/versions/1.0/reorderPolicies
19:24:28,948  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization/plans/Gold/versions/1.0/reorderPolicies): [204 No Content] in 13ms
19:24:28,948  INFO     >> -----------------------------------------------------------
19:24:28,948  INFO     >> Starting Test [policychain-testPlan.xml / Gold Policy Chain (reordered)]
19:24:28,948  INFO     >> -----------------------------------------------------------
19:24:28,949  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization/apis/foo/versions/1.0/plans/Gold/policyChain
19:24:28,957  INFO #fetch(GET localhost:7070 /apiman/organizations/TestOrganization/apis/foo/versions/1.0/plans/Gold/policyChain): [200 OK] in 8ms
19:24:28,960  INFO Stopped ServerConnector@12f12744{HTTP/1.1}{0.0.0.0:7070}
19:24:28,961  INFO Stopped o.e.j.s.ServletContextHandler@f391e52{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:28,967  INFO Stopped o.e.j.s.ServletContextHandler@7bb3294c{/apiman,null,UNAVAILABLE}
19:24:28,968  INFO     >> 
19:24:28,968  INFO     >> -------------------------------------------------------------------------------
19:24:28,968  INFO     >> REST Test complete
19:24:28,968  INFO     >> -------------------------------------------------------------------------------
19:24:28,968  INFO     >> 
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.729 sec - in io.apiman.manager.test.PolicyChainTest
Running io.apiman.manager.test.SearchingTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:28,983  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:29,347  INFO Started o.e.j.s.ServletContextHandler@2835b3d1{/apiman,null,AVAILABLE}
19:24:29,348  INFO Started o.e.j.s.ServletContextHandler@20e9b10b{/mock-gateway,null,AVAILABLE}
19:24:29,349  INFO Started ServerConnector@599fab92{HTTP/1.1}{0.0.0.0:7070}
19:24:29,349  INFO Started @32966ms
******* Started in 369ms
19:24:29,350  INFO     >> 
19:24:29,350  INFO     >> -------------------------------------------------------------------------------
19:24:29,350  INFO     >> Executing REST Test
19:24:29,350  INFO     >> -------------------------------------------------------------------------------
19:24:29,350  INFO     >> 
19:24:29,351  INFO     >> -----------------------------------------------------------
19:24:29,351  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 1]
19:24:29,351  INFO     >> -----------------------------------------------------------
19:24:29,352  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp1323418266-687]: HHH000397: Using ASTQueryTranslatorFactory
19:24:29,376  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 24ms
19:24:29,377  INFO     >> -----------------------------------------------------------
19:24:29,377  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 2]
19:24:29,377  INFO     >> -----------------------------------------------------------
19:24:29,378  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:29,390  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 12ms
19:24:29,391  INFO     >> -----------------------------------------------------------
19:24:29,391  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 3]
19:24:29,391  INFO     >> -----------------------------------------------------------
19:24:29,391  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:29,399  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 8ms
19:24:29,399  INFO     >> -----------------------------------------------------------
19:24:29,399  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 4]
19:24:29,399  INFO     >> -----------------------------------------------------------
19:24:29,400  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:29,409  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 9ms
19:24:29,410  INFO     >> -----------------------------------------------------------
19:24:29,410  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 5]
19:24:29,410  INFO     >> -----------------------------------------------------------
19:24:29,411  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:29,420  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 9ms
19:24:29,421  INFO     >> -----------------------------------------------------------
19:24:29,421  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 6]
19:24:29,421  INFO     >> -----------------------------------------------------------
19:24:29,422  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:29,432  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 10ms
19:24:29,433  INFO     >> -----------------------------------------------------------
19:24:29,433  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 7]
19:24:29,433  INFO     >> -----------------------------------------------------------
19:24:29,434  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:29,446  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 11ms
19:24:29,448  INFO     >> -----------------------------------------------------------
19:24:29,448  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 8]
19:24:29,448  INFO     >> -----------------------------------------------------------
19:24:29,448  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:29,457  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 8ms
19:24:29,457  INFO     >> -----------------------------------------------------------
19:24:29,457  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 9]
19:24:29,457  INFO     >> -----------------------------------------------------------
19:24:29,458  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:29,465  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 7ms
19:24:29,465  INFO     >> -----------------------------------------------------------
19:24:29,465  INFO     >> Starting Test [searching-testPlan.xml / Create Organization 10]
19:24:29,465  INFO     >> -----------------------------------------------------------
19:24:29,466  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:29,473  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 6ms
19:24:29,473  INFO     >> -----------------------------------------------------------
19:24:29,473  INFO     >> Starting Test [searching-testPlan.xml / Query All]
19:24:29,473  INFO     >> -----------------------------------------------------------
19:24:29,474  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,498  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [200 OK] in 24ms
19:24:29,499  INFO     >> -----------------------------------------------------------
19:24:29,499  INFO     >> Starting Test [searching-testPlan.xml / Query First Page]
19:24:29,499  INFO     >> -----------------------------------------------------------
19:24:29,499  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,512  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [200 OK] in 13ms
19:24:29,513  INFO     >> -----------------------------------------------------------
19:24:29,513  INFO     >> Starting Test [searching-testPlan.xml / Query Second Page]
19:24:29,513  INFO     >> -----------------------------------------------------------
19:24:29,513  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,518  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [200 OK] in 4ms
19:24:29,518  INFO     >> -----------------------------------------------------------
19:24:29,518  INFO     >> Starting Test [searching-testPlan.xml / Query By ID]
19:24:29,518  INFO     >> -----------------------------------------------------------
19:24:29,519  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,525  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [200 OK] in 6ms
19:24:29,526  INFO     >> -----------------------------------------------------------
19:24:29,526  INFO     >> Starting Test [searching-testPlan.xml / Descending Order]
19:24:29,526  INFO     >> -----------------------------------------------------------
19:24:29,526  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,533  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [200 OK] in 6ms
19:24:29,533  INFO     >> -----------------------------------------------------------
19:24:29,533  INFO     >> Starting Test [searching-testPlan.xml / Query By Name]
19:24:29,534  INFO     >> -----------------------------------------------------------
19:24:29,534  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,546  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [200 OK] in 12ms
19:24:29,547  INFO     >> -----------------------------------------------------------
19:24:29,547  INFO     >> Starting Test [searching-testPlan.xml / Query API Catalogs]
19:24:29,547  INFO     >> -----------------------------------------------------------
19:24:29,547  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/apiCatalog/entries
19:24:29,556  INFO #fetch(POST localhost:7070 /apiman/search/apiCatalog/entries): [200 OK] in 9ms
19:24:29,556  INFO     >> -----------------------------------------------------------
19:24:29,556  INFO     >> Starting Test [searching-testPlan.xml / List API Catalog Namespaces]
19:24:29,556  INFO     >> -----------------------------------------------------------
19:24:29,556  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/apiCatalog/namespaces
19:24:29,559  INFO #fetch(GET localhost:7070 /apiman/search/apiCatalog/namespaces): [200 OK] in 3ms
19:24:29,560  INFO     >> -----------------------------------------------------------
19:24:29,560  INFO     >> Starting Test [searching-testPlan.xml / Query By Name (Caps)]
19:24:29,560  INFO     >> -----------------------------------------------------------
19:24:29,560  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,566  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [200 OK] in 6ms
19:24:29,567  INFO     >> -----------------------------------------------------------
19:24:29,567  INFO     >> Starting Test [searching-testPlan.xml / Missing Order-By Name]
19:24:29,567  INFO     >> -----------------------------------------------------------
19:24:29,567  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,571  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [400 Bad Request] in 4ms
19:24:29,571  INFO     >> -----------------------------------------------------------
19:24:29,571  INFO     >> Starting Test [searching-testPlan.xml / Invalid Page Size]
19:24:29,571  INFO     >> -----------------------------------------------------------
19:24:29,572  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,574  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [400 Bad Request] in 2ms
19:24:29,575  INFO     >> -----------------------------------------------------------
19:24:29,575  INFO     >> Starting Test [searching-testPlan.xml / Invalid Page]
19:24:29,575  INFO     >> -----------------------------------------------------------
19:24:29,575  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,578  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [400 Bad Request] in 3ms
19:24:29,578  INFO     >> -----------------------------------------------------------
19:24:29,578  INFO     >> Starting Test [searching-testPlan.xml / Invalid Filter Name]
19:24:29,578  INFO     >> -----------------------------------------------------------
19:24:29,578  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,581  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [400 Bad Request] in 3ms
19:24:29,582  INFO     >> -----------------------------------------------------------
19:24:29,582  INFO     >> Starting Test [searching-testPlan.xml / Invalid Filter Value]
19:24:29,582  INFO     >> -----------------------------------------------------------
19:24:29,582  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,584  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [400 Bad Request] in 2ms
19:24:29,585  INFO     >> -----------------------------------------------------------
19:24:29,585  INFO     >> Starting Test [searching-testPlan.xml / Invalid Filter Operator]
19:24:29,585  INFO     >> -----------------------------------------------------------
19:24:29,585  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/organizations
19:24:29,588  INFO #fetch(POST localhost:7070 /apiman/search/organizations): [400 Bad Request] in 3ms
19:24:29,592  INFO Stopped ServerConnector@599fab92{HTTP/1.1}{0.0.0.0:7070}
19:24:29,592  INFO Stopped o.e.j.s.ServletContextHandler@20e9b10b{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:29,596  INFO Stopped o.e.j.s.ServletContextHandler@2835b3d1{/apiman,null,UNAVAILABLE}
19:24:29,597  INFO     >> 
19:24:29,597  INFO     >> -------------------------------------------------------------------------------
19:24:29,597  INFO     >> REST Test complete
19:24:29,597  INFO     >> -------------------------------------------------------------------------------
19:24:29,597  INFO     >> 
Tests run: 25, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.628 sec - in io.apiman.manager.test.SearchingTest
Running io.apiman.manager.test.ReregisterClientTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:29,608  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:29,915  INFO Started o.e.j.s.ServletContextHandler@4f1ea463{/apiman,null,AVAILABLE}
19:24:29,915  INFO Started o.e.j.s.ServletContextHandler@3a641f6{/mock-gateway,null,AVAILABLE}
19:24:29,916  INFO Started ServerConnector@533165e7{HTTP/1.1}{0.0.0.0:7070}
19:24:29,916  INFO Started @33533ms
******* Started in 310ms
19:24:29,916  INFO     >> 
19:24:29,916  INFO     >> -------------------------------------------------------------------------------
19:24:29,916  INFO     >> Executing REST Test
19:24:29,916  INFO     >> -------------------------------------------------------------------------------
19:24:29,916  INFO     >> 
19:24:29,916  INFO     >> -----------------------------------------------------------
19:24:29,916  INFO     >> Starting Test [reregister-client-testPlan.xml / Create Org]
19:24:29,916  INFO     >> -----------------------------------------------------------
19:24:29,917  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp1287207381-772]: HHH000397: Using ASTQueryTranslatorFactory
19:24:29,942  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 25ms
19:24:29,942  INFO     >> -----------------------------------------------------------
19:24:29,942  INFO     >> Starting Test [reregister-client-testPlan.xml / Create Policy Def]
19:24:29,942  INFO     >> -----------------------------------------------------------
19:24:29,943  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:29,969  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 25ms
19:24:29,970  INFO     >> -----------------------------------------------------------
19:24:29,970  INFO     >> Starting Test [reregister-client-testPlan.xml / Create Gateway]
19:24:29,970  INFO     >> -----------------------------------------------------------
19:24:29,970  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:29,984  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 13ms
19:24:29,985  INFO     >> -----------------------------------------------------------
19:24:29,985  INFO     >> Starting Test [reregister-client-testPlan.xml / Create Plan]
19:24:29,985  INFO     >> -----------------------------------------------------------
19:24:29,985  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization/plans
19:24:29,998  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization/plans): [200 OK] in 13ms
19:24:29,999  INFO     >> -----------------------------------------------------------
19:24:29,999  INFO     >> Starting Test [reregister-client-testPlan.xml / Create Plan Version]
19:24:29,999  INFO     >> -----------------------------------------------------------
19:24:29,999  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization/plans/Plan/versions
19:24:30,012  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization/plans/Plan/versions): [200 OK] in 13ms
19:24:30,012  INFO     >> -----------------------------------------------------------
19:24:30,012  INFO     >> Starting Test [reregister-client-testPlan.xml / Lock Plan]
19:24:30,012  INFO     >> -----------------------------------------------------------
19:24:30,013  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:30,022  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 9ms
19:24:30,022  INFO     >> -----------------------------------------------------------
19:24:30,022  INFO     >> Starting Test [reregister-client-testPlan.xml / Create API]
19:24:30,022  INFO     >> -----------------------------------------------------------
19:24:30,023  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization/apis
19:24:30,034  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization/apis): [200 OK] in 11ms
19:24:30,035  INFO     >> -----------------------------------------------------------
19:24:30,035  INFO     >> Starting Test [reregister-client-testPlan.xml / Create API Version]
19:24:30,035  INFO     >> -----------------------------------------------------------
19:24:30,035  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization/apis/API/versions
19:24:30,053  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization/apis/API/versions): [200 OK] in 18ms
19:24:30,054  INFO     >> -----------------------------------------------------------
19:24:30,054  INFO     >> Starting Test [reregister-client-testPlan.xml / Publish API]
19:24:30,054  INFO     >> -----------------------------------------------------------
19:24:30,054  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:30,073  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 19ms
19:24:30,073  INFO     >> -----------------------------------------------------------
19:24:30,073  INFO     >> Starting Test [reregister-client-testPlan.xml / Create Client]
19:24:30,073  INFO     >> -----------------------------------------------------------
19:24:30,073  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization/clients
19:24:30,082  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization/clients): [200 OK] in 9ms
19:24:30,083  INFO     >> -----------------------------------------------------------
19:24:30,083  INFO     >> Starting Test [reregister-client-testPlan.xml / Create Client Version]
19:24:30,083  INFO     >> -----------------------------------------------------------
19:24:30,083  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization/clients/Client/versions
19:24:30,094  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization/clients/Client/versions): [200 OK] in 11ms
19:24:30,095  INFO     >> -----------------------------------------------------------
19:24:30,095  INFO     >> Starting Test [reregister-client-testPlan.xml / Create Contract]
19:24:30,095  INFO     >> -----------------------------------------------------------
19:24:30,095  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization/clients/Client/versions/1.0/contracts
19:24:30,117  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization/clients/Client/versions/1.0/contracts): [200 OK] in 21ms
19:24:30,117  INFO     >> -----------------------------------------------------------
19:24:30,117  INFO     >> Starting Test [reregister-client-testPlan.xml / Register Client]
19:24:30,117  INFO     >> -----------------------------------------------------------
19:24:30,117  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:30,140  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 23ms
19:24:30,140  INFO     >> -----------------------------------------------------------
19:24:30,140  INFO     >> Starting Test [reregister-client-testPlan.xml / Create Client Policy]
19:24:30,140  INFO     >> -----------------------------------------------------------
19:24:30,140  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization/clients/Client/versions/1.0/policies
19:24:30,159  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization/clients/Client/versions/1.0/policies): [200 OK] in 19ms
19:24:30,159  INFO     >> -----------------------------------------------------------
19:24:30,159  INFO     >> Starting Test [reregister-client-testPlan.xml / Re-Register Client]
19:24:30,160  INFO     >> -----------------------------------------------------------
19:24:30,160  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:30,182  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 22ms
19:24:30,182  INFO     >> -----------------------------------------------------------
19:24:30,182  INFO     >> Starting Test [reregister-client-testPlan.xml / Retire Client]
19:24:30,182  INFO     >> -----------------------------------------------------------
19:24:30,182  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:30,200  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 18ms
19:24:30,200  INFO     >> -----------------------------------------------------------
19:24:30,200  INFO     >> Starting Test [reregister-client-testPlan.xml / Re-Register Client [2]]
19:24:30,200  INFO     >> -----------------------------------------------------------
19:24:30,201  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:30,219  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 18ms
19:24:30,220  INFO     >> -----------------------------------------------------------
19:24:30,220  INFO     >> Starting Test [reregister-client-testPlan.xml / Assert Gateway Log]
19:24:30,220  INFO     >> -----------------------------------------------------------
19:24:30,220  INFO     >> -----------------------------------------------------------
19:24:30,220  INFO     >> Starting Test [reregister-client-testPlan.xml / Assert Publishing Payloads]
19:24:30,220  INFO     >> -----------------------------------------------------------
19:24:30,223  INFO Stopped ServerConnector@533165e7{HTTP/1.1}{0.0.0.0:7070}
19:24:30,223  INFO Stopped o.e.j.s.ServletContextHandler@3a641f6{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:30,227  INFO Stopped o.e.j.s.ServletContextHandler@4f1ea463{/apiman,null,UNAVAILABLE}
19:24:30,228  INFO     >> 
19:24:30,228  INFO     >> -------------------------------------------------------------------------------
19:24:30,228  INFO     >> REST Test complete
19:24:30,228  INFO     >> -------------------------------------------------------------------------------
19:24:30,228  INFO     >> 
Tests run: 19, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.63 sec - in io.apiman.manager.test.ReregisterClientTest
Running io.apiman.manager.test.ExportTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:30,243  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:30,593  INFO Started o.e.j.s.ServletContextHandler@38a3c078{/apiman,null,AVAILABLE}
19:24:30,593  INFO Started o.e.j.s.ServletContextHandler@4d6fa22c{/mock-gateway,null,AVAILABLE}
19:24:30,594  INFO Started ServerConnector@718198db{HTTP/1.1}{0.0.0.0:7070}
19:24:30,594  INFO Started @34211ms
******* Started in 353ms
19:24:30,594  INFO     >> 
19:24:30,594  INFO     >> -------------------------------------------------------------------------------
19:24:30,594  INFO     >> Executing REST Test
19:24:30,594  INFO     >> -------------------------------------------------------------------------------
19:24:30,594  INFO     >> 
19:24:30,594  INFO     >> -----------------------------------------------------------
19:24:30,594  INFO     >> Starting Test [export-testPlan.xml / Create Gateway]
19:24:30,594  INFO     >> -----------------------------------------------------------
19:24:30,595  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:30,611  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 16ms
19:24:30,612  INFO     >> -----------------------------------------------------------
19:24:30,612  INFO     >> Starting Test [export-testPlan.xml / Create Organization]
19:24:30,612  INFO     >> -----------------------------------------------------------
19:24:30,612  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp435857884-857]: HHH000397: Using ASTQueryTranslatorFactory
19:24:30,627  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 15ms
19:24:30,628  INFO     >> -----------------------------------------------------------
19:24:30,628  INFO     >> Starting Test [export-testPlan.xml / Create Plan]
19:24:30,628  INFO     >> -----------------------------------------------------------
19:24:30,628  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:30,638  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans): [200 OK] in 9ms
19:24:30,638  INFO     >> -----------------------------------------------------------
19:24:30,638  INFO     >> Starting Test [export-testPlan.xml / Create Plan Version]
19:24:30,638  INFO     >> -----------------------------------------------------------
19:24:30,639  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:30,653  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 14ms
19:24:30,654  INFO     >> -----------------------------------------------------------
19:24:30,654  INFO     >> Starting Test [export-testPlan.xml / Lock Plan]
19:24:30,654  INFO     >> -----------------------------------------------------------
19:24:30,654  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:30,665  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 11ms
19:24:30,665  INFO     >> -----------------------------------------------------------
19:24:30,665  INFO     >> Starting Test [export-testPlan.xml / Create Client]
19:24:30,665  INFO     >> -----------------------------------------------------------
19:24:30,665  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients
19:24:30,676  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients): [200 OK] in 10ms
19:24:30,676  INFO     >> -----------------------------------------------------------
19:24:30,677  INFO     >> Starting Test [export-testPlan.xml / Create Client Version]
19:24:30,677  INFO     >> -----------------------------------------------------------
19:24:30,677  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:30,695  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 18ms
19:24:30,695  INFO     >> -----------------------------------------------------------
19:24:30,695  INFO     >> Starting Test [export-testPlan.xml / Create API]
19:24:30,695  INFO     >> -----------------------------------------------------------
19:24:30,696  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:30,709  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 12ms
19:24:30,709  INFO     >> -----------------------------------------------------------
19:24:30,709  INFO     >> Starting Test [export-testPlan.xml / Create API Version]
19:24:30,709  INFO     >> -----------------------------------------------------------
19:24:30,709  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:30,729  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 19ms
19:24:30,729  INFO     >> -----------------------------------------------------------
19:24:30,729  INFO     >> Starting Test [export-testPlan.xml / Update API Version]
19:24:30,729  INFO     >> -----------------------------------------------------------
19:24:30,730  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:30,746  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 16ms
19:24:30,746  INFO     >> -----------------------------------------------------------
19:24:30,746  INFO     >> Starting Test [export-testPlan.xml / Publish API]
19:24:30,747  INFO     >> -----------------------------------------------------------
19:24:30,747  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:30,765  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 17ms
19:24:30,765  INFO     >> -----------------------------------------------------------
19:24:30,765  INFO     >> Starting Test [export-testPlan.xml / Create Contract]
19:24:30,765  INFO     >> -----------------------------------------------------------
19:24:30,765  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:30,787  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [200 OK] in 22ms
19:24:30,788  INFO     >> -----------------------------------------------------------
19:24:30,788  INFO     >> Starting Test [export-testPlan.xml / Register Client]
19:24:30,788  INFO     >> -----------------------------------------------------------
19:24:30,789  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:30,814  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 25ms
19:24:30,814  INFO     >> -----------------------------------------------------------
19:24:30,814  INFO     >> Starting Test [export-testPlan.xml / Wait]
19:24:30,814  INFO     >> -----------------------------------------------------------
19:24:31,815  INFO     >> -----------------------------------------------------------
19:24:31,815  INFO     >> Starting Test [export-testPlan.xml / Wait]
19:24:31,815  INFO     >> -----------------------------------------------------------
19:24:33,816  INFO     >> -----------------------------------------------------------
19:24:33,816  INFO     >> Starting Test [export-testPlan.xml / Export ]
19:24:33,816  INFO     >> -----------------------------------------------------------
19:24:33,817  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/system/export
INFO  [qtp435857884-858]: ----------------------------
INFO  [qtp435857884-858]: Starting apiman data export.
INFO  [qtp435857884-858]: Exporting meta-data.
INFO  [qtp435857884-858]: POJO: Metadata
INFO  [qtp435857884-858]: Start array: Users
INFO  [qtp435857884-858]: Exporting user: UserBean [username=admin, fullName=Admin, email=admin@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: Exporting user: UserBean [username=admin2, fullName=Admin 2, email=admin2@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: Exporting user: UserBean [username=bwayne, fullName=Bruce Wayne, email=bwayne@wayne-enterprises.com, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: Exporting user: UserBean [username=ckent, fullName=Clark Kent, email=ckent@dailyplanet.com, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: Exporting user: UserBean [username=dprince, fullName=Diana Prince, email=dprince@themyscira.gov, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: Exporting user: UserBean [username=user1, fullName=User 1, email=user1@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: Exporting user: UserBean [username=user2, fullName=User 2, email=user2@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: Exporting user: UserBean [username=user3, fullName=User 3, email=user3@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: Exporting user: UserBean [username=user4, fullName=User 4, email=user4@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: Exporting user: UserBean [username=user5, fullName=User 5, email=user5@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-858]:   POJO: UserBean
INFO  [qtp435857884-858]: End array: Users
INFO  [qtp435857884-858]: Start array: Gateways
INFO  [qtp435857884-858]: Exporting gateway: GatewayBean [id=TheGateway, name=The Gateway, description=This is the gateway., createdBy=admin, createdOn=2018-06-25 19:24:30.604, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.604, type=REST, configuration=***]
INFO  [qtp435857884-858]:   POJO: GatewayBean
INFO  [qtp435857884-858]: End array: Gateways
INFO  [qtp435857884-858]: Start array: Plugins
INFO  [qtp435857884-858]: End array: Plugins
INFO  [qtp435857884-858]: Start array: Roles
INFO  [qtp435857884-858]: End array: Roles
INFO  [qtp435857884-858]: Start array: PolicyDefinitions
INFO  [qtp435857884-858]: End array: PolicyDefinitions
INFO  [qtp435857884-858]: Start array: Orgs
INFO  [qtp435857884-858]:   Start object.
INFO  [qtp435857884-858]: Exporting organization: OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623]
INFO  [qtp435857884-858]:     Start array: Memberships
INFO  [qtp435857884-858]:     End array: Memberships
INFO  [qtp435857884-858]:     Start array: Plans
INFO  [qtp435857884-858]:       Start object.
INFO  [qtp435857884-858]:         Start array: Versions
INFO  [qtp435857884-858]:     Exporting plan version: PlanVersionBean [id=3, plan=PlanBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=Plan1, name=Plan 1, description=This is the description of Plan 1., createdBy=admin, createdOn=2018-06-25 19:24:30.633], status=Locked, version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:30.649, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.649, lockedOn=2018-06-25 19:24:30.661]
INFO  [qtp435857884-858]:           Start object.
INFO  [qtp435857884-858]:             Start array: Policies
INFO  [qtp435857884-858]:             End array: Policies
INFO  [qtp435857884-858]:           End object.
INFO  [qtp435857884-858]:         End array.
INFO  [qtp435857884-858]:       End object.
INFO  [qtp435857884-858]:     End array: Plans
INFO  [qtp435857884-858]:     Start array: Apis
INFO  [qtp435857884-858]:       Start object.
INFO  [qtp435857884-858]:         Start array: Versions
INFO  [qtp435857884-858]:     Exporting API version: APIVersionBean [id=10, api=APIBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=API1, name=API 1, description=This is the description of API 1., createdBy=admin, createdOn=2018-06-25 19:24:30.703], status=Published, endpoint=http://localhost:8080/ping, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=false, plans=[Plan1(1.0)], version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:30.722, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.738, publishedOn=2018-06-25 19:24:30.759, retiredOn=null, definitionType=null]
INFO  [qtp435857884-858]:           Start object.
INFO  [qtp435857884-858]:             Start array: Policies
INFO  [qtp435857884-858]:             End array: Policies
INFO  [qtp435857884-858]:           End object.
INFO  [qtp435857884-858]:         End array.
INFO  [qtp435857884-858]:       End object.
INFO  [qtp435857884-858]:     End array: Apis
INFO  [qtp435857884-858]:     Start array: Clients
INFO  [qtp435857884-858]:   Exporting client: ClientBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=Client1, name=Client 1, description=This is the description of Client 1., createdBy=admin, createdOn=2018-06-25 19:24:30.671]
INFO  [qtp435857884-858]:       Start object.
INFO  [qtp435857884-858]:         Start array: Versions
INFO  [qtp435857884-858]:     Exporting client version: ClientVersionBean [id=7, client=ClientBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=Client1, name=Client 1, description=This is the description of Client 1., createdBy=admin, createdOn=2018-06-25 19:24:30.671], status=Registered, version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:30.69, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.784, publishedOn=2018-06-25 19:24:30.81, retiredOn=null, apikey=bc6fa004-cc13-4d1b-8f89-80f5da38fe63]
INFO  [qtp435857884-858]:           Start object.
INFO  [qtp435857884-858]:             Start array: Policies
INFO  [qtp435857884-858]:             End array: Policies
INFO  [qtp435857884-858]:             Start array: Contracts
INFO  [qtp435857884-858]:       Exporting client contract: ContractBean [id=14, client=null, api=APIVersionBean [id=null, api=APIBean [organization=OrganizationBean [id=Organization1, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=API1, name=null, description=null, createdBy=null, createdOn=null], status=null, endpoint=null, endpointType=null, gateways=null, publicAPI=false, plans=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, publishedOn=null, retiredOn=null, definitionType=null], plan=PlanVersionBean [id=null, plan=PlanBean [organization=OrganizationBean [id=Organization1, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Plan1, name=null, description=null, createdBy=null, createdOn=null], status=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, lockedOn=null], createdBy=admin, createdOn=2018-06-25 19:24:30.773]
INFO  [qtp435857884-858]:               POJO: ContractBean
INFO  [qtp435857884-858]:             End array.
INFO  [qtp435857884-858]:           End object.
INFO  [qtp435857884-858]:         End array.
INFO  [qtp435857884-858]:       End object.
INFO  [qtp435857884-858]:     End array: Clients
INFO  [qtp435857884-858]:     Start array: Audits
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=1, who=admin, organizationId=Organization1, entityType=Organization, entityId=null, entityVersion=null, createdOn=2018-06-25 19:24:30.625, what=Create, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=2, who=admin, organizationId=Organization1, entityType=Plan, entityId=Plan1, entityVersion=null, createdOn=2018-06-25 19:24:30.635, what=Create, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=4, who=admin, organizationId=Organization1, entityType=Plan, entityId=Plan1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.65, what=Create, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=5, who=admin, organizationId=Organization1, entityType=Plan, entityId=Plan1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.663, what=Lock, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=6, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=null, createdOn=2018-06-25 19:24:30.674, what=Create, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=8, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.691, what=Create, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=9, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=null, createdOn=2018-06-25 19:24:30.706, what=Create, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=11, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.723, what=Create, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=12, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.742, what=Update, data={"changes":[{"name":"plans","before":"","after":"Plan1:1.0"},{"name":"endpoint","before":null,"after":"http://localhost:8080/ping"},{"name":"endpointType","before":null,"after":"rest"}]}]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=13, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.762, what=Publish, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=15, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.782, what=CreateContract, data={"clientOrgId":"Organization1","clientId":"Client1","clientVersion":"1.0","apiOrgId":"Organization1","apiId":"API1","apiVersion":"1.0","planId":"Plan1","planVersion":"1.0"}]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=16, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.785, what=CreateContract, data={"clientOrgId":"Organization1","clientId":"Client1","clientVersion":"1.0","apiOrgId":"Organization1","apiId":"API1","apiVersion":"1.0","planId":"Plan1","planVersion":"1.0"}]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:   Exporting audit entry: AuditEntryBean [id=17, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.813, what=Register, data=null]
INFO  [qtp435857884-858]:       POJO: AuditEntryBean
INFO  [qtp435857884-858]:     End array: Audits
INFO  [qtp435857884-858]:   End object.
INFO  [qtp435857884-858]: End array.
INFO  [qtp435857884-858]: End object.
INFO  [qtp435857884-858]: Apiman data export completed successfully.
INFO  [qtp435857884-858]: ------------------------------------------
19:24:33,923  INFO #fetch(GET localhost:7070 /apiman/system/export): [200 OK] in 106ms
19:24:33,925  INFO     >> -----------------------------------------------------------
19:24:33,925  INFO     >> Starting Test [export-testPlan.xml / Export (2) Prep]
19:24:33,925  INFO     >> -----------------------------------------------------------
19:24:33,926  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/system/export?download=true
19:24:33,934  INFO #fetch(GET localhost:7070 /apiman/system/export): [200 OK] in 8ms
19:24:33,935  INFO     >> -- Binding value in response --
19:24:33,935  INFO     >> 	Expression: id
19:24:33,935  INFO     >> 	    To Var: download-id
19:24:33,935  INFO     >> 	 New Value: 48fdd44c-615b-4646-a69c-512c42170e01
19:24:33,935  INFO     >> -----------------------------------------------------------
19:24:33,935  INFO     >> Starting Test [export-testPlan.xml / Export (2) Download]
19:24:33,935  INFO     >> -----------------------------------------------------------
19:24:33,936  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/downloads/48fdd44c-615b-4646-a69c-512c42170e01
INFO  [qtp435857884-857]: ----------------------------
INFO  [qtp435857884-857]: Starting apiman data export.
INFO  [qtp435857884-857]: Exporting meta-data.
INFO  [qtp435857884-857]: POJO: Metadata
INFO  [qtp435857884-857]: Start array: Users
INFO  [qtp435857884-857]: Exporting user: UserBean [username=admin, fullName=Admin, email=admin@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: Exporting user: UserBean [username=admin2, fullName=Admin 2, email=admin2@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: Exporting user: UserBean [username=bwayne, fullName=Bruce Wayne, email=bwayne@wayne-enterprises.com, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: Exporting user: UserBean [username=ckent, fullName=Clark Kent, email=ckent@dailyplanet.com, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: Exporting user: UserBean [username=dprince, fullName=Diana Prince, email=dprince@themyscira.gov, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: Exporting user: UserBean [username=user1, fullName=User 1, email=user1@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: Exporting user: UserBean [username=user2, fullName=User 2, email=user2@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: Exporting user: UserBean [username=user3, fullName=User 3, email=user3@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: Exporting user: UserBean [username=user4, fullName=User 4, email=user4@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: Exporting user: UserBean [username=user5, fullName=User 5, email=user5@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-857]:   POJO: UserBean
INFO  [qtp435857884-857]: End array: Users
INFO  [qtp435857884-857]: Start array: Gateways
INFO  [qtp435857884-857]: Exporting gateway: GatewayBean [id=TheGateway, name=The Gateway, description=This is the gateway., createdBy=admin, createdOn=2018-06-25 19:24:30.604, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.604, type=REST, configuration=***]
INFO  [qtp435857884-857]:   POJO: GatewayBean
INFO  [qtp435857884-857]: End array: Gateways
INFO  [qtp435857884-857]: Start array: Plugins
INFO  [qtp435857884-857]: End array: Plugins
INFO  [qtp435857884-857]: Start array: Roles
INFO  [qtp435857884-857]: End array: Roles
INFO  [qtp435857884-857]: Start array: PolicyDefinitions
INFO  [qtp435857884-857]: End array: PolicyDefinitions
INFO  [qtp435857884-857]: Start array: Orgs
INFO  [qtp435857884-857]:   Start object.
INFO  [qtp435857884-857]: Exporting organization: OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623]
INFO  [qtp435857884-857]:     Start array: Memberships
INFO  [qtp435857884-857]:     End array: Memberships
INFO  [qtp435857884-857]:     Start array: Plans
INFO  [qtp435857884-857]:       Start object.
INFO  [qtp435857884-857]:         Start array: Versions
INFO  [qtp435857884-857]:     Exporting plan version: PlanVersionBean [id=3, plan=PlanBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=Plan1, name=Plan 1, description=This is the description of Plan 1., createdBy=admin, createdOn=2018-06-25 19:24:30.633], status=Locked, version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:30.649, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.649, lockedOn=2018-06-25 19:24:30.661]
INFO  [qtp435857884-857]:           Start object.
INFO  [qtp435857884-857]:             Start array: Policies
INFO  [qtp435857884-857]:             End array: Policies
INFO  [qtp435857884-857]:           End object.
INFO  [qtp435857884-857]:         End array.
INFO  [qtp435857884-857]:       End object.
INFO  [qtp435857884-857]:     End array: Plans
INFO  [qtp435857884-857]:     Start array: Apis
INFO  [qtp435857884-857]:       Start object.
INFO  [qtp435857884-857]:         Start array: Versions
INFO  [qtp435857884-857]:     Exporting API version: APIVersionBean [id=10, api=APIBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=API1, name=API 1, description=This is the description of API 1., createdBy=admin, createdOn=2018-06-25 19:24:30.703], status=Published, endpoint=http://localhost:8080/ping, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=false, plans=[Plan1(1.0)], version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:30.722, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.738, publishedOn=2018-06-25 19:24:30.759, retiredOn=null, definitionType=null]
INFO  [qtp435857884-857]:           Start object.
INFO  [qtp435857884-857]:             Start array: Policies
INFO  [qtp435857884-857]:             End array: Policies
INFO  [qtp435857884-857]:           End object.
INFO  [qtp435857884-857]:         End array.
INFO  [qtp435857884-857]:       End object.
INFO  [qtp435857884-857]:     End array: Apis
INFO  [qtp435857884-857]:     Start array: Clients
INFO  [qtp435857884-857]:   Exporting client: ClientBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=Client1, name=Client 1, description=This is the description of Client 1., createdBy=admin, createdOn=2018-06-25 19:24:30.671]
INFO  [qtp435857884-857]:       Start object.
INFO  [qtp435857884-857]:         Start array: Versions
INFO  [qtp435857884-857]:     Exporting client version: ClientVersionBean [id=7, client=ClientBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=Client1, name=Client 1, description=This is the description of Client 1., createdBy=admin, createdOn=2018-06-25 19:24:30.671], status=Registered, version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:30.69, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.784, publishedOn=2018-06-25 19:24:30.81, retiredOn=null, apikey=bc6fa004-cc13-4d1b-8f89-80f5da38fe63]
INFO  [qtp435857884-857]:           Start object.
INFO  [qtp435857884-857]:             Start array: Policies
INFO  [qtp435857884-857]:             End array: Policies
INFO  [qtp435857884-857]:             Start array: Contracts
INFO  [qtp435857884-857]:       Exporting client contract: ContractBean [id=14, client=null, api=APIVersionBean [id=null, api=APIBean [organization=OrganizationBean [id=Organization1, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=API1, name=null, description=null, createdBy=null, createdOn=null], status=null, endpoint=null, endpointType=null, gateways=null, publicAPI=false, plans=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, publishedOn=null, retiredOn=null, definitionType=null], plan=PlanVersionBean [id=null, plan=PlanBean [organization=OrganizationBean [id=Organization1, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Plan1, name=null, description=null, createdBy=null, createdOn=null], status=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, lockedOn=null], createdBy=admin, createdOn=2018-06-25 19:24:30.773]
INFO  [qtp435857884-857]:               POJO: ContractBean
INFO  [qtp435857884-857]:             End array.
INFO  [qtp435857884-857]:           End object.
INFO  [qtp435857884-857]:         End array.
INFO  [qtp435857884-857]:       End object.
INFO  [qtp435857884-857]:     End array: Clients
INFO  [qtp435857884-857]:     Start array: Audits
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=1, who=admin, organizationId=Organization1, entityType=Organization, entityId=null, entityVersion=null, createdOn=2018-06-25 19:24:30.625, what=Create, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=2, who=admin, organizationId=Organization1, entityType=Plan, entityId=Plan1, entityVersion=null, createdOn=2018-06-25 19:24:30.635, what=Create, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=4, who=admin, organizationId=Organization1, entityType=Plan, entityId=Plan1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.65, what=Create, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=5, who=admin, organizationId=Organization1, entityType=Plan, entityId=Plan1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.663, what=Lock, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=6, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=null, createdOn=2018-06-25 19:24:30.674, what=Create, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=8, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.691, what=Create, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=9, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=null, createdOn=2018-06-25 19:24:30.706, what=Create, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=11, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.723, what=Create, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=12, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.742, what=Update, data={"changes":[{"name":"plans","before":"","after":"Plan1:1.0"},{"name":"endpoint","before":null,"after":"http://localhost:8080/ping"},{"name":"endpointType","before":null,"after":"rest"}]}]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=13, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.762, what=Publish, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=15, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.782, what=CreateContract, data={"clientOrgId":"Organization1","clientId":"Client1","clientVersion":"1.0","apiOrgId":"Organization1","apiId":"API1","apiVersion":"1.0","planId":"Plan1","planVersion":"1.0"}]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=16, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.785, what=CreateContract, data={"clientOrgId":"Organization1","clientId":"Client1","clientVersion":"1.0","apiOrgId":"Organization1","apiId":"API1","apiVersion":"1.0","planId":"Plan1","planVersion":"1.0"}]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:   Exporting audit entry: AuditEntryBean [id=17, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.813, what=Register, data=null]
INFO  [qtp435857884-857]:       POJO: AuditEntryBean
INFO  [qtp435857884-857]:     End array: Audits
INFO  [qtp435857884-857]:   End object.
INFO  [qtp435857884-857]: End array.
INFO  [qtp435857884-857]: End object.
INFO  [qtp435857884-857]: Apiman data export completed successfully.
INFO  [qtp435857884-857]: ------------------------------------------
19:24:33,976  INFO #fetch(GET localhost:7070 /apiman/downloads/48fdd44c-615b-4646-a69c-512c42170e01): [200 OK] in 40ms
19:24:33,978  INFO     >> -----------------------------------------------------------
19:24:33,978  INFO     >> Starting Test [export-testPlan.xml / Create Organization (2)]
19:24:33,978  INFO     >> -----------------------------------------------------------
19:24:33,978  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:33,987  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 9ms
19:24:33,988  INFO     >> -----------------------------------------------------------
19:24:33,988  INFO     >> Starting Test [export-testPlan.xml / Create Plan (2)]
19:24:33,988  INFO     >> -----------------------------------------------------------
19:24:33,988  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans
19:24:33,997  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans): [200 OK] in 8ms
19:24:33,997  INFO     >> -----------------------------------------------------------
19:24:33,997  INFO     >> Starting Test [export-testPlan.xml / Create Plan Version (2)]
19:24:33,997  INFO     >> -----------------------------------------------------------
19:24:33,998  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans/Plan1/versions
19:24:34,005  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans/Plan1/versions): [200 OK] in 7ms
19:24:34,005  INFO     >> -----------------------------------------------------------
19:24:34,005  INFO     >> Starting Test [export-testPlan.xml / Lock Plan (2)]
19:24:34,005  INFO     >> -----------------------------------------------------------
19:24:34,006  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:34,012  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 6ms
19:24:34,012  INFO     >> -----------------------------------------------------------
19:24:34,012  INFO     >> Starting Test [export-testPlan.xml / Create Client (2)]
19:24:34,012  INFO     >> -----------------------------------------------------------
19:24:34,013  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/clients
19:24:34,022  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/clients): [200 OK] in 9ms
19:24:34,023  INFO     >> -----------------------------------------------------------
19:24:34,023  INFO     >> Starting Test [export-testPlan.xml / Create Client Version (2)]
19:24:34,023  INFO     >> -----------------------------------------------------------
19:24:34,023  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/clients/Client1/versions
19:24:34,034  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/clients/Client1/versions): [200 OK] in 11ms
19:24:34,035  INFO     >> -----------------------------------------------------------
19:24:34,035  INFO     >> Starting Test [export-testPlan.xml / Create API (2)]
19:24:34,035  INFO     >> -----------------------------------------------------------
19:24:34,035  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis
19:24:34,043  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/apis): [200 OK] in 8ms
19:24:34,044  INFO     >> -----------------------------------------------------------
19:24:34,044  INFO     >> Starting Test [export-testPlan.xml / Create API Version (2)]
19:24:34,044  INFO     >> -----------------------------------------------------------
19:24:34,044  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis/API1/versions
19:24:34,053  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/apis/API1/versions): [200 OK] in 9ms
19:24:34,053  INFO     >> -----------------------------------------------------------
19:24:34,053  INFO     >> Starting Test [export-testPlan.xml / Update API Version (2)]
19:24:34,053  INFO     >> -----------------------------------------------------------
19:24:34,053  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis/API1/versions/1.0
19:24:34,064  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization2/apis/API1/versions/1.0): [200 OK] in 10ms
19:24:34,065  INFO     >> -----------------------------------------------------------
19:24:34,065  INFO     >> Starting Test [export-testPlan.xml / Publish API (2)]
19:24:34,065  INFO     >> -----------------------------------------------------------
19:24:34,065  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:34,080  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 15ms
19:24:34,080  INFO     >> -----------------------------------------------------------
19:24:34,080  INFO     >> Starting Test [export-testPlan.xml / Create Contract (2)]
19:24:34,080  INFO     >> -----------------------------------------------------------
19:24:34,080  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/clients/Client1/versions/1.0/contracts
19:24:34,094  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/clients/Client1/versions/1.0/contracts): [200 OK] in 13ms
19:24:34,095  INFO     >> -----------------------------------------------------------
19:24:34,095  INFO     >> Starting Test [export-testPlan.xml / Register Client (2)]
19:24:34,095  INFO     >> -----------------------------------------------------------
19:24:34,095  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:34,117  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 22ms
19:24:34,117  INFO     >> -----------------------------------------------------------
19:24:34,117  INFO     >> Starting Test [export-testPlan.xml / Create Plan Version 1.1 (2)]
19:24:34,117  INFO     >> -----------------------------------------------------------
19:24:34,117  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans/Plan1/versions
19:24:34,126  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans/Plan1/versions): [200 OK] in 8ms
19:24:34,127  INFO     >> -----------------------------------------------------------
19:24:34,127  INFO     >> Starting Test [export-testPlan.xml / Create Plan Version 1.2 (2)]
19:24:34,127  INFO     >> -----------------------------------------------------------
19:24:34,127  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans/Plan1/versions
19:24:34,135  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans/Plan1/versions): [200 OK] in 8ms
19:24:34,135  INFO     >> -----------------------------------------------------------
19:24:34,135  INFO     >> Starting Test [export-testPlan.xml / Wait (2)]
19:24:34,135  INFO     >> -----------------------------------------------------------
19:24:35,136  INFO     >> -----------------------------------------------------------
19:24:35,136  INFO     >> Starting Test [export-testPlan.xml / Wait (2)]
19:24:35,136  INFO     >> -----------------------------------------------------------
19:24:37,136  INFO     >> -----------------------------------------------------------
19:24:37,136  INFO     >> Starting Test [export-testPlan.xml / Export (3)]
19:24:37,136  INFO     >> -----------------------------------------------------------
19:24:37,137  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/system/export
INFO  [qtp435857884-855]: ----------------------------
INFO  [qtp435857884-855]: Starting apiman data export.
INFO  [qtp435857884-855]: Exporting meta-data.
INFO  [qtp435857884-855]: POJO: Metadata
INFO  [qtp435857884-855]: Start array: Users
INFO  [qtp435857884-855]: Exporting user: UserBean [username=admin, fullName=Admin, email=admin@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: Exporting user: UserBean [username=admin2, fullName=Admin 2, email=admin2@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: Exporting user: UserBean [username=bwayne, fullName=Bruce Wayne, email=bwayne@wayne-enterprises.com, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: Exporting user: UserBean [username=ckent, fullName=Clark Kent, email=ckent@dailyplanet.com, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: Exporting user: UserBean [username=dprince, fullName=Diana Prince, email=dprince@themyscira.gov, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: Exporting user: UserBean [username=user1, fullName=User 1, email=user1@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: Exporting user: UserBean [username=user2, fullName=User 2, email=user2@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: Exporting user: UserBean [username=user3, fullName=User 3, email=user3@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: Exporting user: UserBean [username=user4, fullName=User 4, email=user4@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: Exporting user: UserBean [username=user5, fullName=User 5, email=user5@example.org, joinedOn=2018-06-25 19:24:30.539, admin=false]
INFO  [qtp435857884-855]:   POJO: UserBean
INFO  [qtp435857884-855]: End array: Users
INFO  [qtp435857884-855]: Start array: Gateways
INFO  [qtp435857884-855]: Exporting gateway: GatewayBean [id=TheGateway, name=The Gateway, description=This is the gateway., createdBy=admin, createdOn=2018-06-25 19:24:30.604, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.604, type=REST, configuration=***]
INFO  [qtp435857884-855]:   POJO: GatewayBean
INFO  [qtp435857884-855]: End array: Gateways
INFO  [qtp435857884-855]: Start array: Plugins
INFO  [qtp435857884-855]: End array: Plugins
INFO  [qtp435857884-855]: Start array: Roles
INFO  [qtp435857884-855]: End array: Roles
INFO  [qtp435857884-855]: Start array: PolicyDefinitions
INFO  [qtp435857884-855]: End array: PolicyDefinitions
INFO  [qtp435857884-855]: Start array: Orgs
INFO  [qtp435857884-855]:   Start object.
INFO  [qtp435857884-855]: Exporting organization: OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623]
INFO  [qtp435857884-855]:     Start array: Memberships
INFO  [qtp435857884-855]:     End array: Memberships
INFO  [qtp435857884-855]:     Start array: Plans
INFO  [qtp435857884-855]:       Start object.
INFO  [qtp435857884-855]:         Start array: Versions
INFO  [qtp435857884-855]:     Exporting plan version: PlanVersionBean [id=3, plan=PlanBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=Plan1, name=Plan 1, description=This is the description of Plan 1., createdBy=admin, createdOn=2018-06-25 19:24:30.633], status=Locked, version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:30.649, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.649, lockedOn=2018-06-25 19:24:30.661]
INFO  [qtp435857884-855]:           Start object.
INFO  [qtp435857884-855]:             Start array: Policies
INFO  [qtp435857884-855]:             End array: Policies
INFO  [qtp435857884-855]:           End object.
INFO  [qtp435857884-855]:         End array.
INFO  [qtp435857884-855]:       End object.
INFO  [qtp435857884-855]:     End array: Plans
INFO  [qtp435857884-855]:     Start array: Apis
INFO  [qtp435857884-855]:       Start object.
INFO  [qtp435857884-855]:         Start array: Versions
INFO  [qtp435857884-855]:     Exporting API version: APIVersionBean [id=10, api=APIBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=API1, name=API 1, description=This is the description of API 1., createdBy=admin, createdOn=2018-06-25 19:24:30.703], status=Published, endpoint=http://localhost:8080/ping, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=false, plans=[Plan1(1.0)], version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:30.722, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.738, publishedOn=2018-06-25 19:24:30.759, retiredOn=null, definitionType=null]
INFO  [qtp435857884-855]:           Start object.
INFO  [qtp435857884-855]:             Start array: Policies
INFO  [qtp435857884-855]:             End array: Policies
INFO  [qtp435857884-855]:           End object.
INFO  [qtp435857884-855]:         End array.
INFO  [qtp435857884-855]:       End object.
INFO  [qtp435857884-855]:     End array: Apis
INFO  [qtp435857884-855]:     Start array: Clients
INFO  [qtp435857884-855]:   Exporting client: ClientBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=Client1, name=Client 1, description=This is the description of Client 1., createdBy=admin, createdOn=2018-06-25 19:24:30.671]
INFO  [qtp435857884-855]:       Start object.
INFO  [qtp435857884-855]:         Start array: Versions
INFO  [qtp435857884-855]:     Exporting client version: ClientVersionBean [id=7, client=ClientBean [organization=OrganizationBean [id=Organization1, name=Organization 1, description=null, createdBy=admin, createdOn=2018-06-25 19:24:30.623, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.623], id=Client1, name=Client 1, description=This is the description of Client 1., createdBy=admin, createdOn=2018-06-25 19:24:30.671], status=Registered, version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:30.69, modifiedBy=admin, modifiedOn=2018-06-25 19:24:30.784, publishedOn=2018-06-25 19:24:30.81, retiredOn=null, apikey=bc6fa004-cc13-4d1b-8f89-80f5da38fe63]
INFO  [qtp435857884-855]:           Start object.
INFO  [qtp435857884-855]:             Start array: Policies
INFO  [qtp435857884-855]:             End array: Policies
INFO  [qtp435857884-855]:             Start array: Contracts
INFO  [qtp435857884-855]:       Exporting client contract: ContractBean [id=14, client=null, api=APIVersionBean [id=null, api=APIBean [organization=OrganizationBean [id=Organization1, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=API1, name=null, description=null, createdBy=null, createdOn=null], status=null, endpoint=null, endpointType=null, gateways=null, publicAPI=false, plans=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, publishedOn=null, retiredOn=null, definitionType=null], plan=PlanVersionBean [id=null, plan=PlanBean [organization=OrganizationBean [id=Organization1, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Plan1, name=null, description=null, createdBy=null, createdOn=null], status=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, lockedOn=null], createdBy=admin, createdOn=2018-06-25 19:24:30.773]
INFO  [qtp435857884-855]:               POJO: ContractBean
INFO  [qtp435857884-855]:             End array.
INFO  [qtp435857884-855]:           End object.
INFO  [qtp435857884-855]:         End array.
INFO  [qtp435857884-855]:       End object.
INFO  [qtp435857884-855]:     End array: Clients
INFO  [qtp435857884-855]:     Start array: Audits
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=1, who=admin, organizationId=Organization1, entityType=Organization, entityId=null, entityVersion=null, createdOn=2018-06-25 19:24:30.625, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=2, who=admin, organizationId=Organization1, entityType=Plan, entityId=Plan1, entityVersion=null, createdOn=2018-06-25 19:24:30.635, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=4, who=admin, organizationId=Organization1, entityType=Plan, entityId=Plan1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.65, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=5, who=admin, organizationId=Organization1, entityType=Plan, entityId=Plan1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.663, what=Lock, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=6, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=null, createdOn=2018-06-25 19:24:30.674, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=8, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.691, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=9, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=null, createdOn=2018-06-25 19:24:30.706, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=11, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.723, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=12, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.742, what=Update, data={"changes":[{"name":"plans","before":"","after":"Plan1:1.0"},{"name":"endpoint","before":null,"after":"http://localhost:8080/ping"},{"name":"endpointType","before":null,"after":"rest"}]}]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=13, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.762, what=Publish, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=15, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.782, what=CreateContract, data={"clientOrgId":"Organization1","clientId":"Client1","clientVersion":"1.0","apiOrgId":"Organization1","apiId":"API1","apiVersion":"1.0","planId":"Plan1","planVersion":"1.0"}]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=16, who=admin, organizationId=Organization1, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.785, what=CreateContract, data={"clientOrgId":"Organization1","clientId":"Client1","clientVersion":"1.0","apiOrgId":"Organization1","apiId":"API1","apiVersion":"1.0","planId":"Plan1","planVersion":"1.0"}]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=17, who=admin, organizationId=Organization1, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:30.813, what=Register, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:     End array: Audits
INFO  [qtp435857884-855]:   End object.
INFO  [qtp435857884-855]:   Start object.
INFO  [qtp435857884-855]: Exporting organization: OrganizationBean [id=Organization2, name=Organization 2, description=null, createdBy=admin, createdOn=2018-06-25 19:24:33.984, modifiedBy=admin, modifiedOn=2018-06-25 19:24:33.984]
INFO  [qtp435857884-855]:     Start array: Memberships
INFO  [qtp435857884-855]:     End array: Memberships
INFO  [qtp435857884-855]:     Start array: Plans
INFO  [qtp435857884-855]:       Start object.
INFO  [qtp435857884-855]:         Start array: Versions
INFO  [qtp435857884-855]:     Exporting plan version: PlanVersionBean [id=20, plan=PlanBean [organization=OrganizationBean [id=Organization2, name=Organization 2, description=null, createdBy=admin, createdOn=2018-06-25 19:24:33.984, modifiedBy=admin, modifiedOn=2018-06-25 19:24:33.984], id=Plan1, name=Plan 1, description=This is the description of Plan 1., createdBy=admin, createdOn=2018-06-25 19:24:33.993], status=Locked, version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:34.002, modifiedBy=admin, modifiedOn=2018-06-25 19:24:34.002, lockedOn=2018-06-25 19:24:34.009]
INFO  [qtp435857884-855]:           Start object.
INFO  [qtp435857884-855]:             Start array: Policies
INFO  [qtp435857884-855]:             End array: Policies
INFO  [qtp435857884-855]:           End object.
INFO  [qtp435857884-855]:     Exporting plan version: PlanVersionBean [id=35, plan=PlanBean [organization=OrganizationBean [id=Organization2, name=Organization 2, description=null, createdBy=admin, createdOn=2018-06-25 19:24:33.984, modifiedBy=admin, modifiedOn=2018-06-25 19:24:33.984], id=Plan1, name=Plan 1, description=This is the description of Plan 1., createdBy=admin, createdOn=2018-06-25 19:24:33.993], status=Created, version=1.1, createdBy=admin, createdOn=2018-06-25 19:24:34.122, modifiedBy=admin, modifiedOn=2018-06-25 19:24:34.122, lockedOn=null]
INFO  [qtp435857884-855]:           Start object.
INFO  [qtp435857884-855]:             Start array: Policies
INFO  [qtp435857884-855]:             End array: Policies
INFO  [qtp435857884-855]:           End object.
INFO  [qtp435857884-855]:     Exporting plan version: PlanVersionBean [id=37, plan=PlanBean [organization=OrganizationBean [id=Organization2, name=Organization 2, description=null, createdBy=admin, createdOn=2018-06-25 19:24:33.984, modifiedBy=admin, modifiedOn=2018-06-25 19:24:33.984], id=Plan1, name=Plan 1, description=This is the description of Plan 1., createdBy=admin, createdOn=2018-06-25 19:24:33.993], status=Created, version=1.2, createdBy=admin, createdOn=2018-06-25 19:24:34.131, modifiedBy=admin, modifiedOn=2018-06-25 19:24:34.131, lockedOn=null]
INFO  [qtp435857884-855]:           Start object.
INFO  [qtp435857884-855]:             Start array: Policies
INFO  [qtp435857884-855]:             End array: Policies
INFO  [qtp435857884-855]:           End object.
INFO  [qtp435857884-855]:         End array.
INFO  [qtp435857884-855]:       End object.
INFO  [qtp435857884-855]:     End array: Plans
INFO  [qtp435857884-855]:     Start array: Apis
INFO  [qtp435857884-855]:       Start object.
INFO  [qtp435857884-855]:         Start array: Versions
INFO  [qtp435857884-855]:     Exporting API version: APIVersionBean [id=27, api=APIBean [organization=OrganizationBean [id=Organization2, name=Organization 2, description=null, createdBy=admin, createdOn=2018-06-25 19:24:33.984, modifiedBy=admin, modifiedOn=2018-06-25 19:24:33.984], id=API1, name=API 1, description=This is the description of API 1., createdBy=admin, createdOn=2018-06-25 19:24:34.039], status=Published, endpoint=http://localhost:8080/ping, endpointType=rest, gateways=[APIGatewayBean [gatewayId=TheGateway]], publicAPI=false, plans=[Plan1(1.0)], version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:34.049, modifiedBy=admin, modifiedOn=2018-06-25 19:24:34.058, publishedOn=2018-06-25 19:24:34.074, retiredOn=null, definitionType=null]
INFO  [qtp435857884-855]:           Start object.
INFO  [qtp435857884-855]:             Start array: Policies
INFO  [qtp435857884-855]:             End array: Policies
INFO  [qtp435857884-855]:           End object.
INFO  [qtp435857884-855]:         End array.
INFO  [qtp435857884-855]:       End object.
INFO  [qtp435857884-855]:     End array: Apis
INFO  [qtp435857884-855]:     Start array: Clients
INFO  [qtp435857884-855]:   Exporting client: ClientBean [organization=OrganizationBean [id=Organization2, name=Organization 2, description=null, createdBy=admin, createdOn=2018-06-25 19:24:33.984, modifiedBy=admin, modifiedOn=2018-06-25 19:24:33.984], id=Client1, name=Client 1, description=This is the description of Client 1., createdBy=admin, createdOn=2018-06-25 19:24:34.017]
INFO  [qtp435857884-855]:       Start object.
INFO  [qtp435857884-855]:         Start array: Versions
INFO  [qtp435857884-855]:     Exporting client version: ClientVersionBean [id=24, client=ClientBean [organization=OrganizationBean [id=Organization2, name=Organization 2, description=null, createdBy=admin, createdOn=2018-06-25 19:24:33.984, modifiedBy=admin, modifiedOn=2018-06-25 19:24:33.984], id=Client1, name=Client 1, description=This is the description of Client 1., createdBy=admin, createdOn=2018-06-25 19:24:34.017], status=Registered, version=1.0, createdBy=admin, createdOn=2018-06-25 19:24:34.029, modifiedBy=admin, modifiedOn=2018-06-25 19:24:34.092, publishedOn=2018-06-25 19:24:34.113, retiredOn=null, apikey=562faad1-ddea-4bcd-ae2f-36f0a6a80d87]
INFO  [qtp435857884-855]:           Start object.
INFO  [qtp435857884-855]:             Start array: Policies
INFO  [qtp435857884-855]:             End array: Policies
INFO  [qtp435857884-855]:             Start array: Contracts
INFO  [qtp435857884-855]:       Exporting client contract: ContractBean [id=31, client=null, api=APIVersionBean [id=null, api=APIBean [organization=OrganizationBean [id=Organization2, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=API1, name=null, description=null, createdBy=null, createdOn=null], status=null, endpoint=null, endpointType=null, gateways=null, publicAPI=false, plans=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, publishedOn=null, retiredOn=null, definitionType=null], plan=PlanVersionBean [id=null, plan=PlanBean [organization=OrganizationBean [id=Organization2, name=null, description=null, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null], id=Plan1, name=null, description=null, createdBy=null, createdOn=null], status=null, version=1.0, createdBy=null, createdOn=null, modifiedBy=null, modifiedOn=null, lockedOn=null], createdBy=admin, createdOn=2018-06-25 19:24:34.087]
INFO  [qtp435857884-855]:               POJO: ContractBean
INFO  [qtp435857884-855]:             End array.
INFO  [qtp435857884-855]:           End object.
INFO  [qtp435857884-855]:         End array.
INFO  [qtp435857884-855]:       End object.
INFO  [qtp435857884-855]:     End array: Clients
INFO  [qtp435857884-855]:     Start array: Audits
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=18, who=admin, organizationId=Organization2, entityType=Organization, entityId=null, entityVersion=null, createdOn=2018-06-25 19:24:33.985, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=19, who=admin, organizationId=Organization2, entityType=Plan, entityId=Plan1, entityVersion=null, createdOn=2018-06-25 19:24:33.995, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=21, who=admin, organizationId=Organization2, entityType=Plan, entityId=Plan1, entityVersion=1.0, createdOn=2018-06-25 19:24:34.003, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=22, who=admin, organizationId=Organization2, entityType=Plan, entityId=Plan1, entityVersion=1.0, createdOn=2018-06-25 19:24:34.011, what=Lock, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=23, who=admin, organizationId=Organization2, entityType=Client, entityId=Client1, entityVersion=null, createdOn=2018-06-25 19:24:34.02, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=25, who=admin, organizationId=Organization2, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:34.03, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=26, who=admin, organizationId=Organization2, entityType=Api, entityId=API1, entityVersion=null, createdOn=2018-06-25 19:24:34.042, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=28, who=admin, organizationId=Organization2, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:34.051, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=29, who=admin, organizationId=Organization2, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:34.062, what=Update, data={"changes":[{"name":"plans","before":"","after":"Plan1:1.0"},{"name":"endpoint","before":null,"after":"http://localhost:8080/ping"},{"name":"endpointType","before":null,"after":"rest"}]}]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=30, who=admin, organizationId=Organization2, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:34.078, what=Publish, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=32, who=admin, organizationId=Organization2, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:34.089, what=CreateContract, data={"clientOrgId":"Organization2","clientId":"Client1","clientVersion":"1.0","apiOrgId":"Organization2","apiId":"API1","apiVersion":"1.0","planId":"Plan1","planVersion":"1.0"}]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=33, who=admin, organizationId=Organization2, entityType=Api, entityId=API1, entityVersion=1.0, createdOn=2018-06-25 19:24:34.091, what=CreateContract, data={"clientOrgId":"Organization2","clientId":"Client1","clientVersion":"1.0","apiOrgId":"Organization2","apiId":"API1","apiVersion":"1.0","planId":"Plan1","planVersion":"1.0"}]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=34, who=admin, organizationId=Organization2, entityType=Client, entityId=Client1, entityVersion=1.0, createdOn=2018-06-25 19:24:34.116, what=Register, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=36, who=admin, organizationId=Organization2, entityType=Plan, entityId=Plan1, entityVersion=1.1, createdOn=2018-06-25 19:24:34.123, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:   Exporting audit entry: AuditEntryBean [id=38, who=admin, organizationId=Organization2, entityType=Plan, entityId=Plan1, entityVersion=1.2, createdOn=2018-06-25 19:24:34.132, what=Create, data=null]
INFO  [qtp435857884-855]:       POJO: AuditEntryBean
INFO  [qtp435857884-855]:     End array: Audits
INFO  [qtp435857884-855]:   End object.
INFO  [qtp435857884-855]: End array.
INFO  [qtp435857884-855]: End object.
INFO  [qtp435857884-855]: Apiman data export completed successfully.
INFO  [qtp435857884-855]: ------------------------------------------
19:24:37,179  INFO #fetch(GET localhost:7070 /apiman/system/export): [200 OK] in 42ms
19:24:37,186  INFO Stopped ServerConnector@718198db{HTTP/1.1}{0.0.0.0:7070}
19:24:37,186  INFO Stopped o.e.j.s.ServletContextHandler@4d6fa22c{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:37,191  INFO Stopped o.e.j.s.ServletContextHandler@38a3c078{/apiman,null,UNAVAILABLE}
19:24:37,192  INFO     >> 
19:24:37,192  INFO     >> -------------------------------------------------------------------------------
19:24:37,192  INFO     >> REST Test complete
19:24:37,192  INFO     >> -------------------------------------------------------------------------------
19:24:37,192  INFO     >> 
Tests run: 35, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.962 sec - in io.apiman.manager.test.ExportTest
Running io.apiman.manager.test.GatewaysTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:37,204  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:37,500  INFO Started o.e.j.s.ServletContextHandler@48149568{/apiman,null,AVAILABLE}
19:24:37,502  INFO Started o.e.j.s.ServletContextHandler@674b2703{/mock-gateway,null,AVAILABLE}
19:24:37,502  INFO Started ServerConnector@78405f00{HTTP/1.1}{0.0.0.0:7070}
19:24:37,502  INFO Started @41120ms
******* Started in 300ms
19:24:37,503  INFO     >> 
19:24:37,503  INFO     >> -------------------------------------------------------------------------------
19:24:37,503  INFO     >> Executing REST Test
19:24:37,503  INFO     >> -------------------------------------------------------------------------------
19:24:37,503  INFO     >> 
19:24:37,503  INFO     >> -----------------------------------------------------------
19:24:37,503  INFO     >> Starting Test [gateways-testPlan.xml / Gateway 1]
19:24:37,503  INFO     >> -----------------------------------------------------------
19:24:37,504  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:37,524  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 20ms
19:24:37,526  INFO     >> -----------------------------------------------------------
19:24:37,526  INFO     >> Starting Test [gateways-testPlan.xml / Gateway 2]
19:24:37,526  INFO     >> -----------------------------------------------------------
19:24:37,526  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:37,533  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 7ms
19:24:37,533  INFO     >> -----------------------------------------------------------
19:24:37,533  INFO     >> Starting Test [gateways-testPlan.xml / Gateway 3]
19:24:37,533  INFO     >> -----------------------------------------------------------
19:24:37,534  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:37,539  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 5ms
19:24:37,540  INFO     >> -----------------------------------------------------------
19:24:37,540  INFO     >> Starting Test [gateways-testPlan.xml / Get Gateway 2]
19:24:37,540  INFO     >> -----------------------------------------------------------
19:24:37,540  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways/GatewayTwo
19:24:37,544  INFO #fetch(GET localhost:7070 /apiman/gateways/GatewayTwo): [200 OK] in 4ms
19:24:37,544  INFO     >> -----------------------------------------------------------
19:24:37,544  INFO     >> Starting Test [gateways-testPlan.xml / List All Gateways [1]]
19:24:37,544  INFO     >> -----------------------------------------------------------
19:24:37,544  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:37,550  INFO #fetch(GET localhost:7070 /apiman/gateways): [200 OK] in 6ms
19:24:37,550  INFO     >> -----------------------------------------------------------
19:24:37,550  INFO     >> Starting Test [gateways-testPlan.xml / Update Gateway 1]
19:24:37,550  INFO     >> -----------------------------------------------------------
19:24:37,551  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways/GatewayOne
19:24:37,555  INFO #fetch(PUT localhost:7070 /apiman/gateways/GatewayOne): [204 No Content] in 4ms
19:24:37,555  INFO     >> -----------------------------------------------------------
19:24:37,555  INFO     >> Starting Test [gateways-testPlan.xml / Delete Gateway 3]
19:24:37,555  INFO     >> -----------------------------------------------------------
19:24:37,555  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways/GatewayThree
19:24:37,558  INFO #fetch(DELETE localhost:7070 /apiman/gateways/GatewayThree): [204 No Content] in 3ms
19:24:37,558  INFO     >> -----------------------------------------------------------
19:24:37,558  INFO     >> Starting Test [gateways-testPlan.xml / List All Gateways [2]]
19:24:37,558  INFO     >> -----------------------------------------------------------
19:24:37,558  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:37,560  INFO #fetch(GET localhost:7070 /apiman/gateways): [200 OK] in 2ms
19:24:37,561  INFO     >> -----------------------------------------------------------
19:24:37,561  INFO     >> Starting Test [gateways-testPlan.xml / Get Gateway 1 (Updated)]
19:24:37,561  INFO     >> -----------------------------------------------------------
19:24:37,561  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways/GatewayOne
19:24:37,564  INFO #fetch(GET localhost:7070 /apiman/gateways/GatewayOne): [200 OK] in 3ms
19:24:37,564  INFO     >> -----------------------------------------------------------
19:24:37,564  INFO     >> Starting Test [gateways-testPlan.xml / Test Gateway]
19:24:37,564  INFO     >> -----------------------------------------------------------
19:24:37,564  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:37,571  INFO #fetch(PUT localhost:7070 /apiman/gateways): [200 OK] in 5ms
19:24:37,573  INFO Stopped ServerConnector@78405f00{HTTP/1.1}{0.0.0.0:7070}
19:24:37,573  INFO Stopped o.e.j.s.ServletContextHandler@674b2703{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:37,577  INFO Stopped o.e.j.s.ServletContextHandler@48149568{/apiman,null,UNAVAILABLE}
19:24:37,577  INFO     >> 
19:24:37,577  INFO     >> -------------------------------------------------------------------------------
19:24:37,577  INFO     >> REST Test complete
19:24:37,577  INFO     >> -------------------------------------------------------------------------------
19:24:37,577  INFO     >> 
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.385 sec - in io.apiman.manager.test.GatewaysTest
Running io.apiman.manager.test.PublishingTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:37,589  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:37,873  INFO Started o.e.j.s.ServletContextHandler@27449f65{/apiman,null,AVAILABLE}
19:24:37,874  INFO Started o.e.j.s.ServletContextHandler@3b4a77be{/mock-gateway,null,AVAILABLE}
19:24:37,874  INFO Started ServerConnector@1ac32da1{HTTP/1.1}{0.0.0.0:7070}
19:24:37,874  INFO Started @41491ms
******* Started in 287ms
19:24:37,874  INFO     >> 
19:24:37,874  INFO     >> -------------------------------------------------------------------------------
19:24:37,874  INFO     >> Executing REST Test
19:24:37,874  INFO     >> -------------------------------------------------------------------------------
19:24:37,874  INFO     >> 
19:24:37,874  INFO     >> -----------------------------------------------------------
19:24:37,874  INFO     >> Starting Test [publishing-testPlan.xml / Create Gateway]
19:24:37,874  INFO     >> -----------------------------------------------------------
19:24:37,875  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:37,893  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 18ms
19:24:37,894  INFO     >> -----------------------------------------------------------
19:24:37,894  INFO     >> Starting Test [publishing-testPlan.xml / Create Organization 1]
19:24:37,894  INFO     >> -----------------------------------------------------------
19:24:37,895  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp263625393-1023]: HHH000397: Using ASTQueryTranslatorFactory
19:24:37,909  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 14ms
19:24:37,909  INFO     >> -----------------------------------------------------------
19:24:37,909  INFO     >> Starting Test [publishing-testPlan.xml / Create Admin Role]
19:24:37,909  INFO     >> -----------------------------------------------------------
19:24:37,910  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:37,922  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 12ms
19:24:37,923  INFO     >> -----------------------------------------------------------
19:24:37,923  INFO     >> Starting Test [publishing-testPlan.xml / Create Dev Role]
19:24:37,923  INFO     >> -----------------------------------------------------------
19:24:37,923  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:37,931  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 8ms
19:24:37,932  INFO     >> -----------------------------------------------------------
19:24:37,932  INFO     >> Starting Test [publishing-testPlan.xml / Grant User1 Admin Role]
19:24:37,932  INFO     >> -----------------------------------------------------------
19:24:37,932  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/roles
19:24:37,948  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/roles): [204 No Content] in 16ms
19:24:37,948  INFO     >> -----------------------------------------------------------
19:24:37,948  INFO     >> Starting Test [publishing-testPlan.xml / Grant User2 Dev Role]
19:24:37,948  INFO     >> -----------------------------------------------------------
19:24:37,949  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/roles
19:24:37,956  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/roles): [204 No Content] in 7ms
19:24:37,956  INFO     >> -----------------------------------------------------------
19:24:37,956  INFO     >> Starting Test [publishing-testPlan.xml / Get Members]
19:24:37,956  INFO     >> -----------------------------------------------------------
19:24:37,956  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/members
19:24:37,969  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/members): [200 OK] in 13ms
19:24:37,970  INFO     >> -----------------------------------------------------------
19:24:37,970  INFO     >> Starting Test [publishing-testPlan.xml / Create Client 1]
19:24:37,970  INFO     >> -----------------------------------------------------------
19:24:37,970  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients
19:24:37,980  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients): [200 OK] in 9ms
19:24:37,981  INFO     >> -----------------------------------------------------------
19:24:37,981  INFO     >> Starting Test [publishing-testPlan.xml / Create Client Version 1.0]
19:24:37,981  INFO     >> -----------------------------------------------------------
19:24:37,981  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:38,000  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 19ms
19:24:38,000  INFO     >> -----------------------------------------------------------
19:24:38,000  INFO     >> Starting Test [publishing-testPlan.xml / Create API 1]
19:24:38,000  INFO     >> -----------------------------------------------------------
19:24:38,001  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:38,012  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 10ms
19:24:38,012  INFO     >> -----------------------------------------------------------
19:24:38,012  INFO     >> Starting Test [publishing-testPlan.xml / Create API Version 1.0]
19:24:38,012  INFO     >> -----------------------------------------------------------
19:24:38,012  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:38,032  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 19ms
19:24:38,032  INFO     >> -----------------------------------------------------------
19:24:38,032  INFO     >> Starting Test [publishing-testPlan.xml / Create Plan 1]
19:24:38,032  INFO     >> -----------------------------------------------------------
19:24:38,032  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:38,041  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans): [200 OK] in 8ms
19:24:38,041  INFO     >> -----------------------------------------------------------
19:24:38,041  INFO     >> Starting Test [publishing-testPlan.xml / Create Plan Version 1.0]
19:24:38,041  INFO     >> -----------------------------------------------------------
19:24:38,042  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:38,057  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 15ms
19:24:38,058  INFO     >> -----------------------------------------------------------
19:24:38,058  INFO     >> Starting Test [publishing-testPlan.xml / Create Policy Def 1]
19:24:38,058  INFO     >> -----------------------------------------------------------
19:24:38,058  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:38,067  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 8ms
19:24:38,068  INFO     >> -----------------------------------------------------------
19:24:38,068  INFO     >> Starting Test [publishing-testPlan.xml / Create Policy Def 2]
19:24:38,068  INFO     >> -----------------------------------------------------------
19:24:38,068  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:38,075  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 7ms
19:24:38,075  INFO     >> -----------------------------------------------------------
19:24:38,075  INFO     >> Starting Test [publishing-testPlan.xml / Add Policy 2 to Client]
19:24:38,075  INFO     >> -----------------------------------------------------------
19:24:38,076  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/policies
19:24:38,092  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/policies): [200 OK] in 16ms
19:24:38,092  INFO     >> -----------------------------------------------------------
19:24:38,092  INFO     >> Starting Test [publishing-testPlan.xml / Add Policy 1 to Plan]
19:24:38,092  INFO     >> -----------------------------------------------------------
19:24:38,093  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies
19:24:38,106  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies): [200 OK] in 12ms
19:24:38,106  INFO     >> -----------------------------------------------------------
19:24:38,106  INFO     >> Starting Test [publishing-testPlan.xml / User2 Lock Plan Version 1.0]
19:24:38,106  INFO     >> -----------------------------------------------------------
19:24:38,106  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:38,117  INFO #fetch(POST localhost:7070 /apiman/actions): [403 Forbidden] in 9ms
19:24:38,117  INFO     >> -----------------------------------------------------------
19:24:38,117  INFO     >> Starting Test [publishing-testPlan.xml / Lock Plan Version 1.0]
19:24:38,117  INFO     >> -----------------------------------------------------------
19:24:38,117  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:38,140  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 21ms
19:24:38,140  INFO     >> -----------------------------------------------------------
19:24:38,140  INFO     >> Starting Test [publishing-testPlan.xml / Update API 1 (add plans)]
19:24:38,140  INFO     >> -----------------------------------------------------------
19:24:38,140  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:38,157  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 16ms
19:24:38,157  INFO     >> -----------------------------------------------------------
19:24:38,157  INFO     >> Starting Test [publishing-testPlan.xml / User2 Publish API 1]
19:24:38,157  INFO     >> -----------------------------------------------------------
19:24:38,158  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:38,163  INFO #fetch(POST localhost:7070 /apiman/actions): [403 Forbidden] in 5ms
19:24:38,164  INFO     >> -----------------------------------------------------------
19:24:38,164  INFO     >> Starting Test [publishing-testPlan.xml / Publish API 1]
19:24:38,164  INFO     >> -----------------------------------------------------------
19:24:38,164  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:38,179  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 15ms
19:24:38,179  INFO     >> -----------------------------------------------------------
19:24:38,179  INFO     >> Starting Test [publishing-testPlan.xml / Create Contract to API 1]
19:24:38,179  INFO     >> -----------------------------------------------------------
19:24:38,180  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:38,199  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [200 OK] in 19ms
19:24:38,199  INFO     >> -- Binding value in response --
19:24:38,199  INFO     >> 	Expression: id
19:24:38,199  INFO     >> 	    To Var: contractId
19:24:38,199  INFO     >> 	 New Value: 22
19:24:38,199  INFO     >> -----------------------------------------------------------
19:24:38,199  INFO     >> Starting Test [publishing-testPlan.xml / User2 Register Client 1]
19:24:38,199  INFO     >> -----------------------------------------------------------
19:24:38,200  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:38,205  INFO #fetch(POST localhost:7070 /apiman/actions): [403 Forbidden] in 5ms
19:24:38,205  INFO     >> -----------------------------------------------------------
19:24:38,205  INFO     >> Starting Test [publishing-testPlan.xml / Register Client 1]
19:24:38,205  INFO     >> -----------------------------------------------------------
19:24:38,205  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:38,229  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 24ms
19:24:38,229  INFO     >> -----------------------------------------------------------
19:24:38,229  INFO     >> Starting Test [publishing-testPlan.xml / Wait]
19:24:38,229  INFO     >> -----------------------------------------------------------
19:24:39,230  INFO     >> -----------------------------------------------------------
19:24:39,230  INFO     >> Starting Test [publishing-testPlan.xml / Delete Organization (Children still active)]
19:24:39,230  INFO     >> -----------------------------------------------------------
19:24:39,230  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1
19:24:39,254  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1): [409 Conflict] in 24ms
19:24:39,255  INFO     >> -----------------------------------------------------------
19:24:39,255  INFO     >> Starting Test [publishing-testPlan.xml / Delete API (ApiVersions still active)]
19:24:39,255  INFO     >> -----------------------------------------------------------
19:24:39,255  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1
19:24:39,278  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/apis/API1): [409 Conflict] in 22ms
19:24:39,279  INFO     >> -----------------------------------------------------------
19:24:39,279  INFO     >> Starting Test [publishing-testPlan.xml / Delete Client (ClientVersions still active)]
19:24:39,279  INFO     >> -----------------------------------------------------------
19:24:39,280  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1
19:24:39,295  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/clients/Client1): [409 Conflict] in 15ms
19:24:39,297  INFO     >> -----------------------------------------------------------
19:24:39,297  INFO     >> Starting Test [publishing-testPlan.xml / User2 Unregister Client 1]
19:24:39,297  INFO     >> -----------------------------------------------------------
19:24:39,297  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:39,304  INFO #fetch(POST localhost:7070 /apiman/actions): [403 Forbidden] in 7ms
19:24:39,305  INFO     >> -----------------------------------------------------------
19:24:39,305  INFO     >> Starting Test [publishing-testPlan.xml / Unregister Client 1]
19:24:39,305  INFO     >> -----------------------------------------------------------
19:24:39,305  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:39,324  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 19ms
19:24:39,324  INFO     >> -----------------------------------------------------------
19:24:39,324  INFO     >> Starting Test [publishing-testPlan.xml / User2 Retire API 1]
19:24:39,324  INFO     >> -----------------------------------------------------------
19:24:39,325  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:39,331  INFO #fetch(POST localhost:7070 /apiman/actions): [403 Forbidden] in 6ms
19:24:39,331  INFO     >> -----------------------------------------------------------
19:24:39,332  INFO     >> Starting Test [publishing-testPlan.xml / Retire API 1]
19:24:39,332  INFO     >> -----------------------------------------------------------
19:24:39,332  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:39,348  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 16ms
19:24:39,348  INFO     >> -----------------------------------------------------------
19:24:39,348  INFO     >> Starting Test [publishing-testPlan.xml / Delete Organization]
19:24:39,348  INFO     >> -----------------------------------------------------------
19:24:39,349  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1
WARN  [qtp263625393-1025]: There are locked plans(s): these will be deleted.
19:24:39,405  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1): [204 No Content] in 56ms
19:24:39,405  INFO     >> -----------------------------------------------------------
19:24:39,405  INFO     >> Starting Test [publishing-testPlan.xml / Delete Already Deleted Org (should no longer exist)]
19:24:39,405  INFO     >> -----------------------------------------------------------
19:24:39,405  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1
19:24:39,411  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1): [404 Not Found] in 6ms
19:24:39,412  INFO     >> -----------------------------------------------------------
19:24:39,412  INFO     >> Starting Test [publishing-testPlan.xml / Delete Organization (invalid, never existed)]
19:24:39,412  INFO     >> -----------------------------------------------------------
19:24:39,412  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/InvalidOrg
19:24:39,416  INFO #fetch(DELETE localhost:7070 /apiman/organizations/InvalidOrg): [404 Not Found] in 4ms
19:24:39,417  INFO     >> -----------------------------------------------------------
19:24:39,417  INFO     >> Starting Test [publishing-testPlan.xml / Get Org Activity (empty)]
19:24:39,417  INFO     >> -----------------------------------------------------------
19:24:39,417  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/activity
19:24:39,427  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/activity): [200 OK] in 10ms
19:24:39,428  INFO     >> -----------------------------------------------------------
19:24:39,428  INFO     >> Starting Test [publishing-testPlan.xml / Get API (should no longer exist)]
19:24:39,428  INFO     >> -----------------------------------------------------------
19:24:39,428  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1
19:24:39,433  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1): [404 Not Found] in 5ms
19:24:39,434  INFO     >> -----------------------------------------------------------
19:24:39,434  INFO     >> Starting Test [publishing-testPlan.xml / Assert Gateway Log]
19:24:39,434  INFO     >> -----------------------------------------------------------
19:24:39,434  INFO     >> -----------------------------------------------------------
19:24:39,434  INFO     >> Starting Test [publishing-testPlan.xml / Assert Publishing Payloads]
19:24:39,434  INFO     >> -----------------------------------------------------------
19:24:39,439  INFO Stopped ServerConnector@1ac32da1{HTTP/1.1}{0.0.0.0:7070}
19:24:39,440  INFO Stopped o.e.j.s.ServletContextHandler@3b4a77be{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:39,445  INFO Stopped o.e.j.s.ServletContextHandler@27449f65{/apiman,null,UNAVAILABLE}
19:24:39,445  INFO     >> 
19:24:39,445  INFO     >> -------------------------------------------------------------------------------
19:24:39,445  INFO     >> REST Test complete
19:24:39,445  INFO     >> -------------------------------------------------------------------------------
19:24:39,445  INFO     >> 
Tests run: 40, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.867 sec - in io.apiman.manager.test.PublishingTest
Running io.apiman.manager.test.PluginsTest
19:24:39,446  INFO     >> Setting system property "apiman.test.m2-path" to "src/test/resources/test-plan-data/plugins/m2".
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:39,460  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:39,749  INFO Started o.e.j.s.ServletContextHandler@72e4905c{/apiman,null,AVAILABLE}
19:24:39,749  INFO Started o.e.j.s.ServletContextHandler@279b83ea{/mock-gateway,null,AVAILABLE}
19:24:39,750  INFO Started ServerConnector@7b9e4a2a{HTTP/1.1}{0.0.0.0:7070}
19:24:39,750  INFO Started @43367ms
******* Started in 293ms
19:24:39,750  INFO     >> 
19:24:39,750  INFO     >> -------------------------------------------------------------------------------
19:24:39,750  INFO     >> Executing REST Test
19:24:39,750  INFO     >> -------------------------------------------------------------------------------
19:24:39,750  INFO     >> 
19:24:39,751  INFO     >> -----------------------------------------------------------
19:24:39,751  INFO     >> Starting Test [plugins-testPlan.xml / Plugin 1]
19:24:39,751  INFO     >> -----------------------------------------------------------
19:24:39,751  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1107]: Created plugin mvn:io.apiman.test:apiman-test-plugin-1:1.0
INFO  [qtp1610833694-1107]: 	Created 0 policy definitions from plugin.
19:24:39,801  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 50ms
19:24:39,801  INFO     >> -- Binding value in response --
19:24:39,801  INFO     >> 	Expression: id
19:24:39,801  INFO     >> 	    To Var: plugin-id-1
19:24:39,801  INFO     >> 	 New Value: 1
19:24:39,801  INFO     >> -----------------------------------------------------------
19:24:39,801  INFO     >> Starting Test [plugins-testPlan.xml / Plugin 2]
19:24:39,801  INFO     >> -----------------------------------------------------------
19:24:39,802  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1109]: Created plugin mvn:io.apiman.test:apiman-test-plugin-2:1.0
INFO  [qtp1610833694-1109]: 	Created 0 policy definitions from plugin.
19:24:39,826  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 23ms
19:24:39,826  INFO     >> -- Binding value in response --
19:24:39,826  INFO     >> 	Expression: id
19:24:39,826  INFO     >> 	    To Var: plugin-id-3
19:24:39,826  INFO     >> 	 New Value: 2
19:24:39,826  INFO     >> -----------------------------------------------------------
19:24:39,826  INFO     >> Starting Test [plugins-testPlan.xml / Get Plugin 1]
19:24:39,826  INFO     >> -----------------------------------------------------------
19:24:39,827  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins/1
19:24:39,831  INFO #fetch(GET localhost:7070 /apiman/plugins/1): [200 OK] in 4ms
19:24:39,831  INFO     >> -----------------------------------------------------------
19:24:39,831  INFO     >> Starting Test [plugins-testPlan.xml / List All Plugins [1]]
19:24:39,831  INFO     >> -----------------------------------------------------------
19:24:39,832  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
19:24:39,837  INFO #fetch(GET localhost:7070 /apiman/plugins): [200 OK] in 4ms
19:24:39,837  INFO     >> -----------------------------------------------------------
19:24:39,837  INFO     >> Starting Test [plugins-testPlan.xml / Delete Plugin 1]
19:24:39,837  INFO     >> -----------------------------------------------------------
19:24:39,837  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins/1
INFO  [qtp1610833694-1107]: Deleted plugin mvn:io.apiman.test:apiman-test-plugin-1:1.0
19:24:39,841  INFO #fetch(DELETE localhost:7070 /apiman/plugins/1): [204 No Content] in 4ms
19:24:39,841  INFO     >> -----------------------------------------------------------
19:24:39,841  INFO     >> Starting Test [plugins-testPlan.xml / Plugin 1, 2.0]
19:24:39,841  INFO     >> -----------------------------------------------------------
19:24:39,841  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1109]: Created plugin mvn:io.apiman.test:apiman-test-plugin-1:2.0
INFO  [qtp1610833694-1109]: 	Created 0 policy definitions from plugin.
INFO  [qtp1610833694-1109]: 	Updated 0 policy definitions from plugin.
19:24:39,848  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 7ms
19:24:39,849  INFO     >> -- Binding value in response --
19:24:39,849  INFO     >> 	Expression: id
19:24:39,849  INFO     >> 	    To Var: plugin-id-2
19:24:39,849  INFO     >> 	 New Value: 1
19:24:39,849  INFO     >> -----------------------------------------------------------
19:24:39,849  INFO     >> Starting Test [plugins-testPlan.xml / List All Plugins [2]]
19:24:39,849  INFO     >> -----------------------------------------------------------
19:24:39,849  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
19:24:39,852  INFO #fetch(GET localhost:7070 /apiman/plugins): [200 OK] in 2ms
19:24:39,853  INFO     >> -----------------------------------------------------------
19:24:39,853  INFO     >> Starting Test [plugins-testPlan.xml / No-op Plugin]
19:24:39,853  INFO     >> -----------------------------------------------------------
19:24:39,853  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1109]: Created plugin mvn:io.apiman:apiman-plugins-noop-policy:1.0.2-SNAPSHOT
INFO  [qtp1610833694-1109]: 	Created 1 policy definitions from plugin.
19:24:39,871  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 18ms
19:24:39,871  INFO     >> -----------------------------------------------------------
19:24:39,871  INFO     >> Starting Test [plugins-testPlan.xml / List Policy Defs]
19:24:39,871  INFO     >> -----------------------------------------------------------
19:24:39,871  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:39,875  INFO #fetch(GET localhost:7070 /apiman/policyDefs): [200 OK] in 4ms
19:24:39,876  INFO     >> -----------------------------------------------------------
19:24:39,876  INFO     >> Starting Test [plugins-testPlan.xml / JSON Schema Config Form Plugin]
19:24:39,876  INFO     >> -----------------------------------------------------------
19:24:39,876  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1109]: Created plugin mvn:io.apiman.plugins:apiman-plugins-config-policy:1.0.2-SNAPSHOT
INFO  [qtp1610833694-1109]: 	Created 1 policy definitions from plugin.
19:24:39,886  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 9ms
19:24:39,886  INFO     >> -- Binding value in response --
19:24:39,886  INFO     >> 	Expression: id
19:24:39,886  INFO     >> 	    To Var: plugin-id
19:24:39,886  INFO     >> 	 New Value: 4
19:24:39,886  INFO     >> -----------------------------------------------------------
19:24:39,886  INFO     >> Starting Test [plugins-testPlan.xml / List Plugin Policy Defs]
19:24:39,886  INFO     >> -----------------------------------------------------------
19:24:39,886  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins/4/policyDefs
19:24:39,890  INFO #fetch(GET localhost:7070 /apiman/plugins/4/policyDefs): [200 OK] in 4ms
19:24:39,890  INFO     >> -----------------------------------------------------------
19:24:39,890  INFO     >> Starting Test [plugins-testPlan.xml / Get JSON Schema Form]
19:24:39,890  INFO     >> -----------------------------------------------------------
19:24:39,890  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins/4/policyDefs/config-policy/form
19:24:39,899  INFO #fetch(GET localhost:7070 /apiman/plugins/4/policyDefs/config-policy/form): [200 OK] in 9ms
19:24:39,899  INFO     >> -----------------------------------------------------------
19:24:39,899  INFO     >> Starting Test [plugins-testPlan.xml / Get Available Plugins]
19:24:39,899  INFO     >> -----------------------------------------------------------
19:24:39,900  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins/availablePlugins
19:24:39,906  INFO #fetch(GET localhost:7070 /apiman/plugins/availablePlugins): [200 OK] in 6ms
19:24:39,906  INFO     >> -----------------------------------------------------------
19:24:39,906  INFO     >> Starting Test [plugins-testPlan.xml / Add Fields Plugin]
19:24:39,906  INFO     >> -----------------------------------------------------------
19:24:39,906  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1109]: Created plugin mvn:io.apiman.test:custom-fields-plugin:1.0-SNAPSHOT
INFO  [qtp1610833694-1109]: 	Created 1 policy definitions from plugin.
19:24:39,915  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 9ms
19:24:39,915  INFO     >> -----------------------------------------------------------
19:24:39,915  INFO     >> Starting Test [plugins-testPlan.xml / List Policy Defs [2]]
19:24:39,915  INFO     >> -----------------------------------------------------------
19:24:39,916  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:39,919  INFO #fetch(GET localhost:7070 /apiman/policyDefs): [200 OK] in 3ms
19:24:39,919  INFO     >> -----------------------------------------------------------
19:24:39,919  INFO     >> Starting Test [plugins-testPlan.xml / Refresh Fields Plugin]
19:24:39,919  INFO     >> -----------------------------------------------------------
19:24:39,919  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1109]: Created plugin mvn:io.apiman.test:custom-fields-plugin:1.0-SNAPSHOT
INFO  [qtp1610833694-1109]: 	Created 0 policy definitions from plugin.
INFO  [qtp1610833694-1109]: 	Updated 1 policy definitions from plugin.
19:24:39,930  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 10ms
19:24:39,930  INFO     >> -- Binding value in response --
19:24:39,930  INFO     >> 	Expression: id
19:24:39,930  INFO     >> 	    To Var: plugin-id
19:24:39,930  INFO     >> 	 New Value: 5
19:24:39,930  INFO     >> -----------------------------------------------------------
19:24:39,930  INFO     >> Starting Test [plugins-testPlan.xml / List Policy Defs [3]]
19:24:39,930  INFO     >> -----------------------------------------------------------
19:24:39,930  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:39,933  INFO #fetch(GET localhost:7070 /apiman/policyDefs): [200 OK] in 3ms
19:24:39,933  INFO     >> -----------------------------------------------------------
19:24:39,933  INFO     >> Starting Test [plugins-testPlan.xml / Get Fields Config Schema]
19:24:39,933  INFO     >> -----------------------------------------------------------
19:24:39,933  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins/5/policyDefs/fields-policy/form
19:24:39,942  INFO #fetch(GET localhost:7070 /apiman/plugins/5/policyDefs/fields-policy/form): [200 OK] in 9ms
19:24:39,943  INFO     >> -----------------------------------------------------------
19:24:39,943  INFO     >> Starting Test [plugins-testPlan.xml / Add 'Deleted' Plugin]
19:24:39,943  INFO     >> -----------------------------------------------------------
19:24:39,943  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1107]: Created plugin mvn:io.apiman.test:deleted-plugin:1.0
INFO  [qtp1610833694-1107]: 	Created 1 policy definitions from plugin.
19:24:39,952  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 9ms
19:24:39,952  INFO     >> -- Binding value in response --
19:24:39,952  INFO     >> 	Expression: id
19:24:39,952  INFO     >> 	    To Var: plugin-id-1
19:24:39,952  INFO     >> 	 New Value: 6
19:24:39,952  INFO     >> -----------------------------------------------------------
19:24:39,952  INFO     >> Starting Test [plugins-testPlan.xml / List Plugins [1]]
19:24:39,952  INFO     >> -----------------------------------------------------------
19:24:39,952  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
19:24:39,958  INFO #fetch(GET localhost:7070 /apiman/plugins): [200 OK] in 6ms
19:24:39,959  INFO     >> -----------------------------------------------------------
19:24:39,959  INFO     >> Starting Test [plugins-testPlan.xml / List Policy Defs [4]]
19:24:39,959  INFO     >> -----------------------------------------------------------
19:24:39,959  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:39,964  INFO #fetch(GET localhost:7070 /apiman/policyDefs): [200 OK] in 4ms
19:24:39,965  INFO     >> -----------------------------------------------------------
19:24:39,965  INFO     >> Starting Test [plugins-testPlan.xml / Remove 'Deleted' Plugin]
19:24:39,965  INFO     >> -----------------------------------------------------------
19:24:39,965  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins/6
INFO  [qtp1610833694-1109]: Deleted plugin mvn:io.apiman.test:deleted-plugin:1.0
19:24:39,969  INFO #fetch(DELETE localhost:7070 /apiman/plugins/6): [204 No Content] in 4ms
19:24:39,970  INFO     >> -----------------------------------------------------------
19:24:39,970  INFO     >> Starting Test [plugins-testPlan.xml / List Plugins [2]]
19:24:39,970  INFO     >> -----------------------------------------------------------
19:24:39,970  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
19:24:39,973  INFO #fetch(GET localhost:7070 /apiman/plugins): [200 OK] in 3ms
19:24:39,974  INFO     >> -----------------------------------------------------------
19:24:39,974  INFO     >> Starting Test [plugins-testPlan.xml / List Policy Defs [5]]
19:24:39,974  INFO     >> -----------------------------------------------------------
19:24:39,974  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:39,978  INFO #fetch(GET localhost:7070 /apiman/policyDefs): [200 OK] in 4ms
19:24:39,978  INFO     >> -----------------------------------------------------------
19:24:39,978  INFO     >> Starting Test [plugins-testPlan.xml / Restore Deleted Plugin]
19:24:39,978  INFO     >> -----------------------------------------------------------
19:24:39,978  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1107]: Created plugin mvn:io.apiman.test:deleted-plugin:1.0
INFO  [qtp1610833694-1107]: 	Created 0 policy definitions from plugin.
INFO  [qtp1610833694-1107]: 	Updated 1 policy definitions from plugin.
19:24:39,991  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 12ms
19:24:39,992  INFO     >> -----------------------------------------------------------
19:24:39,992  INFO     >> Starting Test [plugins-testPlan.xml / List Plugins [3]]
19:24:39,992  INFO     >> -----------------------------------------------------------
19:24:39,992  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
19:24:40,000  INFO #fetch(GET localhost:7070 /apiman/plugins): [200 OK] in 7ms
19:24:40,000  INFO     >> -----------------------------------------------------------
19:24:40,000  INFO     >> Starting Test [plugins-testPlan.xml / List Policy Defs [6]]
19:24:40,000  INFO     >> -----------------------------------------------------------
19:24:40,001  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:40,006  INFO #fetch(GET localhost:7070 /apiman/policyDefs): [200 OK] in 5ms
19:24:40,007  INFO     >> -----------------------------------------------------------
19:24:40,007  INFO     >> Starting Test [plugins-testPlan.xml / Add Deleted Plugin v2 [Conflict]]
19:24:40,007  INFO     >> -----------------------------------------------------------
19:24:40,007  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
19:24:40,016  INFO #fetch(POST localhost:7070 /apiman/plugins): [409 Conflict] in 9ms
19:24:40,017  INFO     >> -----------------------------------------------------------
19:24:40,017  INFO     >> Starting Test [plugins-testPlan.xml / Upgrade Deleted Plugin to v2]
19:24:40,017  INFO     >> -----------------------------------------------------------
19:24:40,017  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
INFO  [qtp1610833694-1107]: Created plugin mvn:io.apiman.test:deleted-plugin:2.0
INFO  [qtp1610833694-1107]: 	Created 0 policy definitions from plugin.
INFO  [qtp1610833694-1107]: 	Updated 1 policy definitions from plugin.
19:24:40,025  INFO #fetch(POST localhost:7070 /apiman/plugins): [200 OK] in 8ms
19:24:40,025  INFO     >> -- Binding value in response --
19:24:40,026  INFO     >> 	Expression: id
19:24:40,026  INFO     >> 	    To Var: plugin-id-1
19:24:40,026  INFO     >> 	 New Value: 6
19:24:40,026  INFO     >> -----------------------------------------------------------
19:24:40,026  INFO     >> Starting Test [plugins-testPlan.xml / List Plugins [4]]
19:24:40,026  INFO     >> -----------------------------------------------------------
19:24:40,026  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/plugins
19:24:40,030  INFO #fetch(GET localhost:7070 /apiman/plugins): [200 OK] in 4ms
19:24:40,030  INFO     >> -----------------------------------------------------------
19:24:40,030  INFO     >> Starting Test [plugins-testPlan.xml / List Policy Defs [7]]
19:24:40,030  INFO     >> -----------------------------------------------------------
19:24:40,031  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:40,034  INFO #fetch(GET localhost:7070 /apiman/policyDefs): [200 OK] in 3ms
19:24:40,040  INFO Stopped ServerConnector@7b9e4a2a{HTTP/1.1}{0.0.0.0:7070}
19:24:40,040  INFO Stopped o.e.j.s.ServletContextHandler@279b83ea{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:40,046  INFO Stopped o.e.j.s.ServletContextHandler@72e4905c{/apiman,null,UNAVAILABLE}
19:24:40,046  INFO     >> 
19:24:40,047  INFO     >> -------------------------------------------------------------------------------
19:24:40,047  INFO     >> REST Test complete
19:24:40,047  INFO     >> -------------------------------------------------------------------------------
19:24:40,047  INFO     >> 
Tests run: 31, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.6 sec - in io.apiman.manager.test.PluginsTest
Running io.apiman.manager.test.PublicApiTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:40,059  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:40,415  INFO Started o.e.j.s.ServletContextHandler@d7b20d9{/apiman,null,AVAILABLE}
19:24:40,416  INFO Started o.e.j.s.ServletContextHandler@4b7ecd37{/mock-gateway,null,AVAILABLE}
19:24:40,416  INFO Started ServerConnector@52a42e0f{HTTP/1.1}{0.0.0.0:7070}
19:24:40,417  INFO Started @44033ms
******* Started in 360ms
19:24:40,417  INFO     >> 
19:24:40,417  INFO     >> -------------------------------------------------------------------------------
19:24:40,417  INFO     >> Executing REST Test
19:24:40,417  INFO     >> -------------------------------------------------------------------------------
19:24:40,417  INFO     >> 
19:24:40,417  INFO     >> -----------------------------------------------------------
19:24:40,417  INFO     >> Starting Test [public-api-testPlan.xml / Create Gateway]
19:24:40,417  INFO     >> -----------------------------------------------------------
19:24:40,417  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:40,431  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 13ms
19:24:40,431  INFO     >> -----------------------------------------------------------
19:24:40,431  INFO     >> Starting Test [public-api-testPlan.xml / Create Org]
19:24:40,431  INFO     >> -----------------------------------------------------------
19:24:40,432  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp572931610-1192]: HHH000397: Using ASTQueryTranslatorFactory
19:24:40,448  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 16ms
19:24:40,448  INFO     >> -----------------------------------------------------------
19:24:40,448  INFO     >> Starting Test [public-api-testPlan.xml / Create API]
19:24:40,448  INFO     >> -----------------------------------------------------------
19:24:40,449  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:40,458  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 9ms
19:24:40,459  INFO     >> -----------------------------------------------------------
19:24:40,459  INFO     >> Starting Test [public-api-testPlan.xml / Create API Version]
19:24:40,459  INFO     >> -----------------------------------------------------------
19:24:40,459  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:40,477  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 18ms
19:24:40,478  INFO     >> -----------------------------------------------------------
19:24:40,478  INFO     >> Starting Test [public-api-testPlan.xml / Create Policy Def #1]
19:24:40,478  INFO     >> -----------------------------------------------------------
19:24:40,478  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:40,486  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 8ms
19:24:40,486  INFO     >> -----------------------------------------------------------
19:24:40,486  INFO     >> Starting Test [public-api-testPlan.xml / Create Policy Def #2]
19:24:40,486  INFO     >> -----------------------------------------------------------
19:24:40,487  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:40,491  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 4ms
19:24:40,492  INFO     >> -----------------------------------------------------------
19:24:40,492  INFO     >> Starting Test [public-api-testPlan.xml / Add Policy #1 to API]
19:24:40,492  INFO     >> -----------------------------------------------------------
19:24:40,492  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/policies
19:24:40,507  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/policies): [200 OK] in 15ms
19:24:40,508  INFO     >> -----------------------------------------------------------
19:24:40,508  INFO     >> Starting Test [public-api-testPlan.xml / Publish API]
19:24:40,508  INFO     >> -----------------------------------------------------------
19:24:40,508  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:40,526  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 18ms
19:24:40,526  INFO     >> -----------------------------------------------------------
19:24:40,526  INFO     >> Starting Test [public-api-testPlan.xml / Try to re-publish (failure)]
19:24:40,526  INFO     >> -----------------------------------------------------------
19:24:40,527  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:40,532  INFO #fetch(POST localhost:7070 /apiman/actions): [500 Server Error] in 5ms
19:24:40,532  INFO     >> -----------------------------------------------------------
19:24:40,533  INFO     >> Starting Test [public-api-testPlan.xml / Add Policy #2 to API]
19:24:40,533  INFO     >> -----------------------------------------------------------
19:24:40,533  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/policies
19:24:40,543  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/policies): [200 OK] in 10ms
19:24:40,543  INFO     >> -----------------------------------------------------------
19:24:40,543  INFO     >> Starting Test [public-api-testPlan.xml / Re-Publish the API]
19:24:40,543  INFO     >> -----------------------------------------------------------
19:24:40,544  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:40,559  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 15ms
19:24:40,559  INFO     >> -----------------------------------------------------------
19:24:40,559  INFO     >> Starting Test [public-api-testPlan.xml / Update the Endpoint]
19:24:40,559  INFO     >> -----------------------------------------------------------
19:24:40,559  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:40,573  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 14ms
19:24:40,573  INFO     >> -----------------------------------------------------------
19:24:40,573  INFO     >> Starting Test [public-api-testPlan.xml / Re-Publish the API [2]]
19:24:40,573  INFO     >> -----------------------------------------------------------
19:24:40,574  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:40,589  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 15ms
19:24:40,589  INFO     >> -----------------------------------------------------------
19:24:40,589  INFO     >> Starting Test [public-api-testPlan.xml / Assert Gateway Log]
19:24:40,589  INFO     >> -----------------------------------------------------------
19:24:40,592  INFO Stopped ServerConnector@52a42e0f{HTTP/1.1}{0.0.0.0:7070}
19:24:40,593  INFO Stopped o.e.j.s.ServletContextHandler@4b7ecd37{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:40,596  INFO Stopped o.e.j.s.ServletContextHandler@d7b20d9{/apiman,null,UNAVAILABLE}
19:24:40,597  INFO     >> 
19:24:40,597  INFO     >> -------------------------------------------------------------------------------
19:24:40,597  INFO     >> REST Test complete
19:24:40,597  INFO     >> -------------------------------------------------------------------------------
19:24:40,597  INFO     >> 
Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.549 sec - in io.apiman.manager.test.PublicApiTest
Running io.apiman.manager.test.ApisTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:40,608  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:40,936  INFO Started o.e.j.s.ServletContextHandler@15200332{/apiman,null,AVAILABLE}
19:24:40,937  INFO Started o.e.j.s.ServletContextHandler@1d123972{/mock-gateway,null,AVAILABLE}
19:24:40,938  INFO Started ServerConnector@649573d0{HTTP/1.1}{0.0.0.0:7070}
19:24:40,938  INFO Started @44555ms
******* Started in 331ms
19:24:40,938  INFO     >> 
19:24:40,938  INFO     >> -------------------------------------------------------------------------------
19:24:40,938  INFO     >> Executing REST Test
19:24:40,938  INFO     >> -------------------------------------------------------------------------------
19:24:40,938  INFO     >> 
19:24:40,939  INFO     >> -----------------------------------------------------------
19:24:40,939  INFO     >> Starting Test [apis-testPlan.xml / Create Gateway]
19:24:40,939  INFO     >> -----------------------------------------------------------
19:24:40,939  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:40,950  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 11ms
19:24:40,951  INFO     >> -----------------------------------------------------------
19:24:40,951  INFO     >> Starting Test [apis-testPlan.xml / Create Organization 1]
19:24:40,951  INFO     >> -----------------------------------------------------------
19:24:40,951  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp959293557-1275]: HHH000397: Using ASTQueryTranslatorFactory
19:24:40,964  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 13ms
19:24:40,965  INFO     >> -----------------------------------------------------------
19:24:40,965  INFO     >> Starting Test [apis-testPlan.xml / Create Organization 2]
19:24:40,965  INFO     >> -----------------------------------------------------------
19:24:40,965  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:40,973  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 8ms
19:24:40,974  INFO     >> -----------------------------------------------------------
19:24:40,974  INFO     >> Starting Test [apis-testPlan.xml / Create API 1]
19:24:40,974  INFO     >> -----------------------------------------------------------
19:24:40,974  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:40,986  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 12ms
19:24:40,986  INFO     >> -----------------------------------------------------------
19:24:40,986  INFO     >> Starting Test [apis-testPlan.xml / Get API 1 [1]]
19:24:40,986  INFO     >> -----------------------------------------------------------
19:24:40,986  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1
19:24:40,991  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1): [200 OK] in 5ms
19:24:40,991  INFO     >> -----------------------------------------------------------
19:24:40,991  INFO     >> Starting Test [apis-testPlan.xml / Get Missing API]
19:24:40,991  INFO     >> -----------------------------------------------------------
19:24:40,992  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API2
19:24:40,996  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API2): [404 Not Found] in 4ms
19:24:40,997  INFO     >> -----------------------------------------------------------
19:24:40,997  INFO     >> Starting Test [apis-testPlan.xml / Create API 2]
19:24:40,997  INFO     >> -----------------------------------------------------------
19:24:40,997  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:41,006  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 8ms
19:24:41,007  INFO     >> -----------------------------------------------------------
19:24:41,007  INFO     >> Starting Test [apis-testPlan.xml / Search APIs]
19:24:41,007  INFO     >> -----------------------------------------------------------
19:24:41,007  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/apis
19:24:41,018  INFO #fetch(POST localhost:7070 /apiman/search/apis): [200 OK] in 11ms
19:24:41,018  INFO     >> -----------------------------------------------------------
19:24:41,019  INFO     >> Starting Test [apis-testPlan.xml / Update API 1]
19:24:41,019  INFO     >> -----------------------------------------------------------
19:24:41,019  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1
19:24:41,026  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1): [204 No Content] in 6ms
19:24:41,026  INFO     >> -----------------------------------------------------------
19:24:41,026  INFO     >> Starting Test [apis-testPlan.xml / Get API 1 [2]]
19:24:41,026  INFO     >> -----------------------------------------------------------
19:24:41,026  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1
19:24:41,029  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1): [200 OK] in 3ms
19:24:41,029  INFO     >> -----------------------------------------------------------
19:24:41,029  INFO     >> Starting Test [apis-testPlan.xml / Create API 1 (Org 2)]
19:24:41,029  INFO     >> -----------------------------------------------------------
19:24:41,030  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis
19:24:41,036  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/apis): [200 OK] in 6ms
19:24:41,037  INFO     >> -----------------------------------------------------------
19:24:41,037  INFO     >> Starting Test [apis-testPlan.xml / Get API 1 [3]]
19:24:41,037  INFO     >> -----------------------------------------------------------
19:24:41,037  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1
19:24:41,040  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1): [200 OK] in 3ms
19:24:41,040  INFO     >> -----------------------------------------------------------
19:24:41,040  INFO     >> Starting Test [apis-testPlan.xml / Get API 1 (Org 2)]
19:24:41,040  INFO     >> -----------------------------------------------------------
19:24:41,040  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/apis/API1
19:24:41,044  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization2/apis/API1): [200 OK] in 4ms
19:24:41,044  INFO     >> -----------------------------------------------------------
19:24:41,044  INFO     >> Starting Test [apis-testPlan.xml / List APIs]
19:24:41,044  INFO     >> -----------------------------------------------------------
19:24:41,044  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:41,053  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 9ms
19:24:41,053  INFO     >> -----------------------------------------------------------
19:24:41,053  INFO     >> Starting Test [apis-testPlan.xml / Create API (invalid name)]
19:24:41,053  INFO     >> -----------------------------------------------------------
19:24:41,054  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:41,058  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [400 Bad Request] in 4ms
19:24:41,058  INFO     >> -----------------------------------------------------------
19:24:41,058  INFO     >> Starting Test [apis-testPlan.xml / Create API Version 1.0]
19:24:41,058  INFO     >> -----------------------------------------------------------
19:24:41,058  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:41,072  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 13ms
19:24:41,072  INFO     >> -----------------------------------------------------------
19:24:41,072  INFO     >> Starting Test [apis-testPlan.xml / Get API Version 1.0]
19:24:41,072  INFO     >> -----------------------------------------------------------
19:24:41,073  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,078  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 5ms
19:24:41,079  INFO     >> -----------------------------------------------------------
19:24:41,079  INFO     >> Starting Test [apis-testPlan.xml / Get Missing API Version]
19:24:41,079  INFO     >> -----------------------------------------------------------
19:24:41,079  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/missing
19:24:41,082  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/missing): [404 Not Found] in 3ms
19:24:41,083  INFO     >> -----------------------------------------------------------
19:24:41,083  INFO     >> Starting Test [apis-testPlan.xml / Create API Version 2.0]
19:24:41,083  INFO     >> -----------------------------------------------------------
19:24:41,083  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:41,090  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 6ms
19:24:41,091  INFO     >> -----------------------------------------------------------
19:24:41,091  INFO     >> Starting Test [apis-testPlan.xml / List All Versions [1]]
19:24:41,091  INFO     >> -----------------------------------------------------------
19:24:41,092  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:41,108  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 16ms
19:24:41,109  INFO     >> -----------------------------------------------------------
19:24:41,109  INFO     >> Starting Test [apis-testPlan.xml / Update Version 1.0]
19:24:41,109  INFO     >> -----------------------------------------------------------
19:24:41,109  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,122  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 13ms
19:24:41,122  INFO     >> -----------------------------------------------------------
19:24:41,122  INFO     >> Starting Test [apis-testPlan.xml / Get Version 1.0 (updated)]
19:24:41,122  INFO     >> -----------------------------------------------------------
19:24:41,122  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,127  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 5ms
19:24:41,128  INFO     >> -----------------------------------------------------------
19:24:41,128  INFO     >> Starting Test [apis-testPlan.xml / Create API Version (invalid)]
19:24:41,128  INFO     >> -----------------------------------------------------------
19:24:41,128  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:41,131  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [400 Bad Request] in 3ms
19:24:41,132  INFO     >> -----------------------------------------------------------
19:24:41,132  INFO     >> Starting Test [apis-testPlan.xml / Create API Version (duplicate)]
19:24:41,132  INFO     >> -----------------------------------------------------------
19:24:41,132  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:41,138  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [409 Conflict] in 6ms
19:24:41,139  INFO     >> -----------------------------------------------------------
19:24:41,139  INFO     >> Starting Test [apis-testPlan.xml / Create API 5]
19:24:41,139  INFO     >> -----------------------------------------------------------
19:24:41,139  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:41,149  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 10ms
19:24:41,149  INFO     >> -----------------------------------------------------------
19:24:41,149  INFO     >> Starting Test [apis-testPlan.xml / Verify API 5]
19:24:41,149  INFO     >> -----------------------------------------------------------
19:24:41,150  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API5/versions/7.0
19:24:41,156  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API5/versions/7.0): [200 OK] in 6ms
19:24:41,156  INFO     >> -----------------------------------------------------------
19:24:41,156  INFO     >> Starting Test [apis-testPlan.xml / Update Version 1.0 (Invalid Endpoint)]
19:24:41,156  INFO     >> -----------------------------------------------------------
19:24:41,156  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,164  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [400 Bad Request] in 7ms
19:24:41,164  INFO     >> -----------------------------------------------------------
19:24:41,164  INFO     >> Starting Test [apis-testPlan.xml / Create Plan 1]
19:24:41,164  INFO     >> -----------------------------------------------------------
19:24:41,165  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:41,174  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans): [200 OK] in 9ms
19:24:41,174  INFO     >> -----------------------------------------------------------
19:24:41,174  INFO     >> Starting Test [apis-testPlan.xml / Create Plan 2]
19:24:41,174  INFO     >> -----------------------------------------------------------
19:24:41,175  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:41,182  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans): [200 OK] in 7ms
19:24:41,182  INFO     >> -----------------------------------------------------------
19:24:41,182  INFO     >> Starting Test [apis-testPlan.xml / Create Plan 1, v1.0]
19:24:41,182  INFO     >> -----------------------------------------------------------
19:24:41,183  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:41,196  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 13ms
19:24:41,196  INFO     >> -----------------------------------------------------------
19:24:41,196  INFO     >> Starting Test [apis-testPlan.xml / Create Plan 1, v2.0]
19:24:41,196  INFO     >> -----------------------------------------------------------
19:24:41,197  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:41,204  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 7ms
19:24:41,204  INFO     >> -----------------------------------------------------------
19:24:41,204  INFO     >> Starting Test [apis-testPlan.xml / Create Plan 2, v1.1]
19:24:41,204  INFO     >> -----------------------------------------------------------
19:24:41,205  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan2/versions
19:24:41,211  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan2/versions): [200 OK] in 6ms
19:24:41,211  INFO     >> -----------------------------------------------------------
19:24:41,211  INFO     >> Starting Test [apis-testPlan.xml / Lock Plan 1, v1.0]
19:24:41,211  INFO     >> -----------------------------------------------------------
19:24:41,212  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:41,220  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 8ms
19:24:41,220  INFO     >> -----------------------------------------------------------
19:24:41,220  INFO     >> Starting Test [apis-testPlan.xml / Lock Plan 1, v2.0]
19:24:41,220  INFO     >> -----------------------------------------------------------
19:24:41,220  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:41,230  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 9ms
19:24:41,231  INFO     >> -----------------------------------------------------------
19:24:41,231  INFO     >> Starting Test [apis-testPlan.xml / Lock Plan 2, v1.1]
19:24:41,231  INFO     >> -----------------------------------------------------------
19:24:41,231  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:41,239  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 7ms
19:24:41,239  INFO     >> -----------------------------------------------------------
19:24:41,239  INFO     >> Starting Test [apis-testPlan.xml / Update API Plans]
19:24:41,239  INFO     >> -----------------------------------------------------------
19:24:41,239  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,250  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 11ms
19:24:41,251  INFO     >> -----------------------------------------------------------
19:24:41,251  INFO     >> Starting Test [apis-testPlan.xml / Get Version 1.0 (with 1 plan)]
19:24:41,251  INFO     >> -----------------------------------------------------------
19:24:41,251  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,258  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 7ms
19:24:41,259  INFO     >> -----------------------------------------------------------
19:24:41,259  INFO     >> Starting Test [apis-testPlan.xml / Update API Plans 2]
19:24:41,259  INFO     >> -----------------------------------------------------------
19:24:41,259  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,271  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 12ms
19:24:41,272  INFO     >> -----------------------------------------------------------
19:24:41,272  INFO     >> Starting Test [apis-testPlan.xml / Get Version 1.0 (with 2 plans)]
19:24:41,272  INFO     >> -----------------------------------------------------------
19:24:41,273  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,279  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 6ms
19:24:41,280  INFO     >> -----------------------------------------------------------
19:24:41,280  INFO     >> Starting Test [apis-testPlan.xml / Update API Plans 3]
19:24:41,280  INFO     >> -----------------------------------------------------------
19:24:41,280  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,291  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 10ms
19:24:41,292  INFO     >> -----------------------------------------------------------
19:24:41,292  INFO     >> Starting Test [apis-testPlan.xml / Get Version 1.0 (back to 1 plan)]
19:24:41,292  INFO     >> -----------------------------------------------------------
19:24:41,292  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,299  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 7ms
19:24:41,299  INFO     >> -----------------------------------------------------------
19:24:41,299  INFO     >> Starting Test [apis-testPlan.xml / Update API Plans (error 500)]
19:24:41,299  INFO     >> -----------------------------------------------------------
19:24:41,300  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:41,308  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [500 Server Error] in 8ms
19:24:41,309  INFO     >> -----------------------------------------------------------
19:24:41,309  INFO     >> Starting Test [apis-testPlan.xml / Get API Plans]
19:24:41,309  INFO     >> -----------------------------------------------------------
19:24:41,309  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/plans
19:24:41,319  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/plans): [200 OK] in 10ms
19:24:41,320  INFO     >> -----------------------------------------------------------
19:24:41,320  INFO     >> Starting Test [apis-testPlan.xml / Create Policy Def]
19:24:41,320  INFO     >> -----------------------------------------------------------
19:24:41,320  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:41,330  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 10ms
19:24:41,330  INFO     >> -----------------------------------------------------------
19:24:41,330  INFO     >> Starting Test [apis-testPlan.xml / Create Policy 1]
19:24:41,330  INFO     >> -----------------------------------------------------------
19:24:41,331  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/policies
19:24:41,354  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/policies): [200 OK] in 23ms
19:24:41,354  INFO     >> -- Binding value in response --
19:24:41,355  INFO     >> 	Expression: id
19:24:41,355  INFO     >> 	    To Var: policy-id
19:24:41,355  INFO     >> 	 New Value: 29
19:24:41,355  INFO     >> -----------------------------------------------------------
19:24:41,355  INFO     >> Starting Test [apis-testPlan.xml / Get Policy 1]
19:24:41,355  INFO     >> -----------------------------------------------------------
19:24:41,355  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/policies/29
19:24:41,365  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/policies/29): [200 OK] in 9ms
19:24:41,365  INFO     >> -----------------------------------------------------------
19:24:41,365  INFO     >> Starting Test [apis-testPlan.xml / Create Policy 2]
19:24:41,365  INFO     >> -----------------------------------------------------------
19:24:41,365  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/policies
19:24:41,377  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/policies): [200 OK] in 12ms
19:24:41,378  INFO     >> -- Binding value in response --
19:24:41,378  INFO     >> 	Expression: id
19:24:41,378  INFO     >> 	    To Var: policy-id-2
19:24:41,378  INFO     >> 	 New Value: 31
19:24:41,378  INFO     >> -----------------------------------------------------------
19:24:41,378  INFO     >> Starting Test [apis-testPlan.xml / List Policies [1]]
19:24:41,378  INFO     >> -----------------------------------------------------------
19:24:41,378  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/policies
19:24:41,392  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/policies): [200 OK] in 13ms
19:24:41,393  INFO     >> -----------------------------------------------------------
19:24:41,393  INFO     >> Starting Test [apis-testPlan.xml / Update Policy 1]
19:24:41,393  INFO     >> -----------------------------------------------------------
19:24:41,393  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/policies/29
19:24:41,407  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/policies/29): [204 No Content] in 12ms
19:24:41,407  INFO     >> -----------------------------------------------------------
19:24:41,407  INFO     >> Starting Test [apis-testPlan.xml / Delete Policy 2]
19:24:41,407  INFO     >> -----------------------------------------------------------
19:24:41,407  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/policies/31
19:24:41,418  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/policies/31): [204 No Content] in 11ms
19:24:41,419  INFO     >> -----------------------------------------------------------
19:24:41,419  INFO     >> Starting Test [apis-testPlan.xml / List Policies [2]]
19:24:41,419  INFO     >> -----------------------------------------------------------
19:24:41,419  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/policies
19:24:41,427  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/policies): [200 OK] in 8ms
19:24:41,428  INFO     >> -----------------------------------------------------------
19:24:41,428  INFO     >> Starting Test [apis-testPlan.xml / Publish API 1]
19:24:41,428  INFO     >> -----------------------------------------------------------
19:24:41,428  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:41,444  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 16ms
19:24:41,444  INFO     >> -----------------------------------------------------------
19:24:41,444  INFO     >> Starting Test [apis-testPlan.xml / Get API 1 [published]]
19:24:41,444  INFO     >> -----------------------------------------------------------
19:24:41,444  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1
19:24:41,450  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1): [200 OK] in 5ms
19:24:41,450  INFO     >> -----------------------------------------------------------
19:24:41,450  INFO     >> Starting Test [apis-testPlan.xml / Create Unpublished API]
19:24:41,450  INFO     >> -----------------------------------------------------------
19:24:41,450  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:41,459  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 8ms
19:24:41,459  INFO     >> -----------------------------------------------------------
19:24:41,459  INFO     >> Starting Test [apis-testPlan.xml / Get Unpublished API]
19:24:41,459  INFO     >> -----------------------------------------------------------
19:24:41,460  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/UnpubAPI1
19:24:41,463  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/UnpubAPI1): [200 OK] in 3ms
19:24:41,463  INFO     >> -----------------------------------------------------------
19:24:41,463  INFO     >> Starting Test [apis-testPlan.xml / Delete Unpublished API]
19:24:41,463  INFO     >> -----------------------------------------------------------
19:24:41,464  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/UnpubAPI1
19:24:41,500  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/apis/UnpubAPI1): [204 No Content] in 36ms
19:24:41,500  INFO     >> -----------------------------------------------------------
19:24:41,501  INFO     >> Starting Test [apis-testPlan.xml / Wait]
19:24:41,501  INFO     >> -----------------------------------------------------------
19:24:42,001  INFO     >> -----------------------------------------------------------
19:24:42,001  INFO     >> Starting Test [apis-testPlan.xml / Get Unpublished API (404)]
19:24:42,001  INFO     >> -----------------------------------------------------------
19:24:42,001  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/UnpubAPI1
19:24:42,008  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/UnpubAPI1): [404 Not Found] in 7ms
19:24:42,009  INFO     >> -----------------------------------------------------------
19:24:42,009  INFO     >> Starting Test [apis-testPlan.xml / API Activity]
19:24:42,009  INFO     >> -----------------------------------------------------------
19:24:42,009  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/activity
19:24:42,021  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/activity): [200 OK] in 11ms
19:24:42,022  INFO     >> -----------------------------------------------------------
19:24:42,022  INFO     >> Starting Test [apis-testPlan.xml / API Version Activity]
19:24:42,022  INFO     >> -----------------------------------------------------------
19:24:42,022  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/activity
19:24:42,032  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/activity): [200 OK] in 9ms
19:24:42,032  INFO     >> -----------------------------------------------------------
19:24:42,032  INFO     >> Starting Test [apis-testPlan.xml / Add API Definition]
19:24:42,032  INFO     >> -----------------------------------------------------------
19:24:42,033  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0/definition
19:24:42,057  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0/definition): [204 No Content] in 24ms
19:24:42,057  INFO     >> -----------------------------------------------------------
19:24:42,057  INFO     >> Starting Test [apis-testPlan.xml / Get Version 2.0 (def)]
19:24:42,057  INFO     >> -----------------------------------------------------------
19:24:42,057  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0
19:24:42,071  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0): [200 OK] in 14ms
19:24:42,072  INFO     >> -----------------------------------------------------------
19:24:42,072  INFO     >> Starting Test [apis-testPlan.xml / Get API Definition]
19:24:42,072  INFO     >> -----------------------------------------------------------
19:24:42,072  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0/definition
19:24:42,079  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0/definition): [200 OK] in 7ms
19:24:42,080  INFO     >> -----------------------------------------------------------
19:24:42,080  INFO     >> Starting Test [apis-testPlan.xml / Delete API Definition]
19:24:42,080  INFO     >> -----------------------------------------------------------
19:24:42,080  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0/definition
19:24:42,090  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0/definition): [204 No Content] in 10ms
19:24:42,091  INFO     >> -----------------------------------------------------------
19:24:42,091  INFO     >> Starting Test [apis-testPlan.xml / Get API Definition 2.0 (404)]
19:24:42,091  INFO     >> -----------------------------------------------------------
19:24:42,091  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0/definition
19:24:42,099  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0/definition): [404 Not Found] in 8ms
19:24:42,100  INFO     >> -----------------------------------------------------------
19:24:42,100  INFO     >> Starting Test [apis-testPlan.xml / Get API Definition 1.0 (404)]
19:24:42,100  INFO     >> -----------------------------------------------------------
19:24:42,100  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/definition
19:24:42,107  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/definition): [404 Not Found] in 7ms
19:24:42,108  INFO     >> -----------------------------------------------------------
19:24:42,108  INFO     >> Starting Test [apis-testPlan.xml / Add API Definition (WSDL)]
19:24:42,108  INFO     >> -----------------------------------------------------------
19:24:42,108  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0/definition
19:24:42,118  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0/definition): [204 No Content] in 9ms
19:24:42,118  INFO     >> -----------------------------------------------------------
19:24:42,118  INFO     >> Starting Test [apis-testPlan.xml / Get Version 2.0 (def) (WSDL)]
19:24:42,118  INFO     >> -----------------------------------------------------------
19:24:42,118  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0
19:24:42,126  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0): [200 OK] in 8ms
19:24:42,127  INFO     >> -----------------------------------------------------------
19:24:42,127  INFO     >> Starting Test [apis-testPlan.xml / Get API Definition (WSDL)]
19:24:42,127  INFO     >> -----------------------------------------------------------
19:24:42,127  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0/definition
19:24:42,135  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0/definition): [200 OK] in 7ms
19:24:42,177  INFO     >> -----------------------------------------------------------
19:24:42,177  INFO     >> Starting Test [apis-testPlan.xml / Update API Definition (From URL)]
19:24:42,177  INFO     >> -----------------------------------------------------------
19:24:42,177  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0/definition
19:24:42,188  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0/definition): [204 No Content] in 10ms
19:24:42,188  INFO     >> -----------------------------------------------------------
19:24:42,189  INFO     >> Starting Test [apis-testPlan.xml / Get Version 2.0 (def) (Swagger)]
19:24:42,189  INFO     >> -----------------------------------------------------------
19:24:42,189  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.0
19:24:42,196  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.0): [200 OK] in 7ms
19:24:42,197  INFO     >> -----------------------------------------------------------
19:24:42,197  INFO     >> Starting Test [apis-testPlan.xml / Add API Definition to 1.0]
19:24:42,197  INFO     >> -----------------------------------------------------------
19:24:42,197  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0/definition
19:24:42,206  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0/definition): [204 No Content] in 9ms
19:24:42,206  INFO     >> -----------------------------------------------------------
19:24:42,206  INFO     >> Starting Test [apis-testPlan.xml / Clone 1.0 --> 2.1]
19:24:42,206  INFO     >> -----------------------------------------------------------
19:24:42,206  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:42,240  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 34ms
19:24:42,241  INFO     >> -----------------------------------------------------------
19:24:42,241  INFO     >> Starting Test [apis-testPlan.xml / List All Versions [2]]
19:24:42,241  INFO     >> -----------------------------------------------------------
19:24:42,242  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:42,250  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 8ms
19:24:42,251  INFO     >> -----------------------------------------------------------
19:24:42,251  INFO     >> Starting Test [apis-testPlan.xml / Get Version 2.1]
19:24:42,251  INFO     >> -----------------------------------------------------------
19:24:42,251  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.1
19:24:42,257  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.1): [200 OK] in 6ms
19:24:42,257  INFO     >> -----------------------------------------------------------
19:24:42,257  INFO     >> Starting Test [apis-testPlan.xml / List Policies [3]]
19:24:42,257  INFO     >> -----------------------------------------------------------
19:24:42,257  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.1/policies
19:24:42,262  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.1/policies): [200 OK] in 5ms
19:24:42,262  INFO     >> -----------------------------------------------------------
19:24:42,262  INFO     >> Starting Test [apis-testPlan.xml / List Policies [4]]
19:24:42,262  INFO     >> -----------------------------------------------------------
19:24:42,263  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/2.1/definition
19:24:42,267  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/2.1/definition): [200 OK] in 4ms
19:24:42,268  INFO     >> -----------------------------------------------------------
19:24:42,268  INFO     >> Starting Test [apis-testPlan.xml / Clone 1.0 --> 2.1 (with fields)]
19:24:42,268  INFO     >> -----------------------------------------------------------
19:24:42,268  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:42,310  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 42ms
19:24:42,310  INFO     >> -----------------------------------------------------------
19:24:42,310  INFO     >> Starting Test [apis-testPlan.xml / Create API Foo]
19:24:42,310  INFO     >> -----------------------------------------------------------
19:24:42,311  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:42,319  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 8ms
19:24:42,320  INFO     >> -----------------------------------------------------------
19:24:42,320  INFO     >> Starting Test [apis-testPlan.xml / Create API Foo, Version 1.0]
19:24:42,320  INFO     >> -----------------------------------------------------------
19:24:42,320  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/Foo/versions
19:24:42,327  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/Foo/versions): [200 OK] in 7ms
19:24:42,328  INFO     >> -----------------------------------------------------------
19:24:42,328  INFO     >> Starting Test [apis-testPlan.xml / API Status (Created) [1]]
19:24:42,328  INFO     >> -----------------------------------------------------------
19:24:42,328  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/Foo/versions/1.0/status
19:24:42,339  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/Foo/versions/1.0/status): [200 OK] in 10ms
19:24:42,339  INFO     >> -----------------------------------------------------------
19:24:42,339  INFO     >> Starting Test [apis-testPlan.xml / Update API Foo Endpoint]
19:24:42,339  INFO     >> -----------------------------------------------------------
19:24:42,339  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/Foo/versions/1.0
19:24:42,352  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/Foo/versions/1.0): [200 OK] in 12ms
19:24:42,352  INFO     >> -----------------------------------------------------------
19:24:42,352  INFO     >> Starting Test [apis-testPlan.xml / API Status (Created) [2]]
19:24:42,352  INFO     >> -----------------------------------------------------------
19:24:42,352  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/Foo/versions/1.0/status
19:24:42,363  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/Foo/versions/1.0/status): [200 OK] in 11ms
19:24:42,364  INFO     >> -----------------------------------------------------------
19:24:42,364  INFO     >> Starting Test [apis-testPlan.xml / Update API Foo (Public)]
19:24:42,365  INFO     >> -----------------------------------------------------------
19:24:42,365  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/Foo/versions/1.0
19:24:42,377  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/Foo/versions/1.0): [200 OK] in 12ms
19:24:42,377  INFO     >> -----------------------------------------------------------
19:24:42,377  INFO     >> Starting Test [apis-testPlan.xml / API Status (Ready) [3]]
19:24:42,377  INFO     >> -----------------------------------------------------------
19:24:42,377  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/Foo/versions/1.0/status
19:24:42,385  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/Foo/versions/1.0/status): [200 OK] in 7ms
19:24:42,385  INFO     >> -----------------------------------------------------------
19:24:42,385  INFO     >> Starting Test [apis-testPlan.xml / Retire API 1]
19:24:42,386  INFO     >> -----------------------------------------------------------
19:24:42,386  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:42,404  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 18ms
19:24:42,404  INFO     >> -----------------------------------------------------------
19:24:42,404  INFO     >> Starting Test [apis-testPlan.xml / Wait]
19:24:42,404  INFO     >> -----------------------------------------------------------
19:24:43,404  INFO     >> -----------------------------------------------------------
19:24:43,404  INFO     >> Starting Test [apis-testPlan.xml / Delete API 1]
19:24:43,404  INFO     >> -----------------------------------------------------------
19:24:43,405  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1
19:24:43,425  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/apis/API1): [204 No Content] in 20ms
19:24:43,425  INFO     >> -----------------------------------------------------------
19:24:43,425  INFO     >> Starting Test [apis-testPlan.xml / Wait]
19:24:43,425  INFO     >> -----------------------------------------------------------
19:24:44,426  INFO     >> -----------------------------------------------------------
19:24:44,426  INFO     >> Starting Test [apis-testPlan.xml / Delete API 1 (404)]
19:24:44,426  INFO     >> -----------------------------------------------------------
19:24:44,426  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/UnpubAPI1
19:24:44,433  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/apis/UnpubAPI1): [404 Not Found] in 6ms
19:24:44,433  INFO     >> -----------------------------------------------------------
19:24:44,433  INFO     >> Starting Test [apis-testPlan.xml / Assert Gateway Log]
19:24:44,433  INFO     >> -----------------------------------------------------------
19:24:44,433  INFO     >> -----------------------------------------------------------
19:24:44,433  INFO     >> Starting Test [apis-testPlan.xml / Assert Publishing Payloads]
19:24:44,433  INFO     >> -----------------------------------------------------------
19:24:44,440  INFO Stopped ServerConnector@649573d0{HTTP/1.1}{0.0.0.0:7070}
19:24:44,441  INFO Stopped o.e.j.s.ServletContextHandler@1d123972{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:44,447  INFO Stopped o.e.j.s.ServletContextHandler@15200332{/apiman,null,UNAVAILABLE}
19:24:44,448  INFO     >> 
19:24:44,448  INFO     >> -------------------------------------------------------------------------------
19:24:44,448  INFO     >> REST Test complete
19:24:44,448  INFO     >> -------------------------------------------------------------------------------
19:24:44,448  INFO     >> 
Tests run: 92, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.85 sec - in io.apiman.manager.test.ApisTest
Running io.apiman.manager.test.PlansTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:44,470  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:44,773  INFO Started o.e.j.s.ServletContextHandler@5b933786{/apiman,null,AVAILABLE}
19:24:44,774  INFO Started o.e.j.s.ServletContextHandler@48158b86{/mock-gateway,null,AVAILABLE}
19:24:44,774  INFO Started ServerConnector@10031e49{HTTP/1.1}{0.0.0.0:7070}
19:24:44,774  INFO Started @48391ms
******* Started in 307ms
19:24:44,774  INFO     >> 
19:24:44,774  INFO     >> -------------------------------------------------------------------------------
19:24:44,774  INFO     >> Executing REST Test
19:24:44,774  INFO     >> -------------------------------------------------------------------------------
19:24:44,774  INFO     >> 
19:24:44,775  INFO     >> -----------------------------------------------------------
19:24:44,775  INFO     >> Starting Test [plans-testPlan.xml / Create Organization 1]
19:24:44,775  INFO     >> -----------------------------------------------------------
19:24:44,775  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp298284399-1366]: HHH000397: Using ASTQueryTranslatorFactory
19:24:44,797  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 22ms
19:24:44,797  INFO     >> -----------------------------------------------------------
19:24:44,798  INFO     >> Starting Test [plans-testPlan.xml / Create Organization 2]
19:24:44,798  INFO     >> -----------------------------------------------------------
19:24:44,798  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:44,810  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 12ms
19:24:44,810  INFO     >> -----------------------------------------------------------
19:24:44,810  INFO     >> Starting Test [plans-testPlan.xml / Create Plan 1]
19:24:44,810  INFO     >> -----------------------------------------------------------
19:24:44,810  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:44,823  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans): [200 OK] in 12ms
19:24:44,824  INFO     >> -----------------------------------------------------------
19:24:44,824  INFO     >> Starting Test [plans-testPlan.xml / Get Plan 1 [1]]
19:24:44,824  INFO     >> -----------------------------------------------------------
19:24:44,824  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1
19:24:44,831  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1): [200 OK] in 7ms
19:24:44,831  INFO     >> -----------------------------------------------------------
19:24:44,831  INFO     >> Starting Test [plans-testPlan.xml / Get Missing Client]
19:24:44,831  INFO     >> -----------------------------------------------------------
19:24:44,831  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan2
19:24:44,836  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan2): [404 Not Found] in 5ms
19:24:44,837  INFO     >> -----------------------------------------------------------
19:24:44,837  INFO     >> Starting Test [plans-testPlan.xml / Create Plan 2]
19:24:44,837  INFO     >> -----------------------------------------------------------
19:24:44,837  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:44,850  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans): [200 OK] in 13ms
19:24:44,850  INFO     >> -----------------------------------------------------------
19:24:44,850  INFO     >> Starting Test [plans-testPlan.xml / Update Client 1]
19:24:44,850  INFO     >> -----------------------------------------------------------
19:24:44,850  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1
19:24:44,859  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/plans/Plan1): [204 No Content] in 9ms
19:24:44,859  INFO     >> -----------------------------------------------------------
19:24:44,859  INFO     >> Starting Test [plans-testPlan.xml / Get Plan 1 [2]]
19:24:44,859  INFO     >> -----------------------------------------------------------
19:24:44,859  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1
19:24:44,864  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1): [200 OK] in 5ms
19:24:44,865  INFO     >> -----------------------------------------------------------
19:24:44,865  INFO     >> Starting Test [plans-testPlan.xml / Create Plan 1 (Org 2)]
19:24:44,865  INFO     >> -----------------------------------------------------------
19:24:44,866  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans
19:24:44,876  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/plans): [200 OK] in 9ms
19:24:44,876  INFO     >> -----------------------------------------------------------
19:24:44,876  INFO     >> Starting Test [plans-testPlan.xml / Get Plan 1 [3]]
19:24:44,876  INFO     >> -----------------------------------------------------------
19:24:44,876  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1
19:24:44,881  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1): [200 OK] in 4ms
19:24:44,881  INFO     >> -----------------------------------------------------------
19:24:44,881  INFO     >> Starting Test [plans-testPlan.xml / Get Plan 1 (Org 2)]
19:24:44,881  INFO     >> -----------------------------------------------------------
19:24:44,881  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/plans/Plan1
19:24:44,885  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization2/plans/Plan1): [200 OK] in 4ms
19:24:44,885  INFO     >> -----------------------------------------------------------
19:24:44,885  INFO     >> Starting Test [plans-testPlan.xml / List Plan]
19:24:44,885  INFO     >> -----------------------------------------------------------
19:24:44,886  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:44,899  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans): [200 OK] in 13ms
19:24:44,899  INFO     >> -----------------------------------------------------------
19:24:44,899  INFO     >> Starting Test [plans-testPlan.xml / Create Plan (invalid name)]
19:24:44,899  INFO     >> -----------------------------------------------------------
19:24:44,900  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:44,906  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans): [400 Bad Request] in 5ms
19:24:44,906  INFO     >> -----------------------------------------------------------
19:24:44,906  INFO     >> Starting Test [plans-testPlan.xml / Create Plan Version 1.0]
19:24:44,906  INFO     >> -----------------------------------------------------------
19:24:44,906  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:44,919  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 12ms
19:24:44,919  INFO     >> -----------------------------------------------------------
19:24:44,919  INFO     >> Starting Test [plans-testPlan.xml / Get Plan Version 1.0]
19:24:44,919  INFO     >> -----------------------------------------------------------
19:24:44,919  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0
19:24:44,924  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0): [200 OK] in 5ms
19:24:44,924  INFO     >> -----------------------------------------------------------
19:24:44,924  INFO     >> Starting Test [plans-testPlan.xml / Get Missing Plan Version]
19:24:44,924  INFO     >> -----------------------------------------------------------
19:24:44,924  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/missing
19:24:44,928  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/missing): [404 Not Found] in 4ms
19:24:44,928  INFO     >> -----------------------------------------------------------
19:24:44,928  INFO     >> Starting Test [plans-testPlan.xml / Create Plan Version 2.0]
19:24:44,928  INFO     >> -----------------------------------------------------------
19:24:44,928  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:44,935  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 7ms
19:24:44,935  INFO     >> -----------------------------------------------------------
19:24:44,935  INFO     >> Starting Test [plans-testPlan.xml / List All Versions [1]]
19:24:44,935  INFO     >> -----------------------------------------------------------
19:24:44,936  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:44,946  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 10ms
19:24:44,946  INFO     >> -----------------------------------------------------------
19:24:44,946  INFO     >> Starting Test [plans-testPlan.xml / Get Version 1.0 (updated)]
19:24:44,946  INFO     >> -----------------------------------------------------------
19:24:44,947  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0
19:24:44,952  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0): [200 OK] in 5ms
19:24:44,953  INFO     >> -----------------------------------------------------------
19:24:44,953  INFO     >> Starting Test [plans-testPlan.xml / Create Plan Version (invalid)]
19:24:44,953  INFO     >> -----------------------------------------------------------
19:24:44,953  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:44,957  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [400 Bad Request] in 4ms
19:24:44,957  INFO     >> -----------------------------------------------------------
19:24:44,957  INFO     >> Starting Test [plans-testPlan.xml / Create Plan Version (duplicate)]
19:24:44,957  INFO     >> -----------------------------------------------------------
19:24:44,958  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:44,964  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [409 Conflict] in 6ms
19:24:44,964  INFO     >> -----------------------------------------------------------
19:24:44,964  INFO     >> Starting Test [plans-testPlan.xml / Create Policy Def]
19:24:44,964  INFO     >> -----------------------------------------------------------
19:24:44,965  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:44,973  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 8ms
19:24:44,974  INFO     >> -----------------------------------------------------------
19:24:44,974  INFO     >> Starting Test [plans-testPlan.xml / Create Policy 1]
19:24:44,974  INFO     >> -----------------------------------------------------------
19:24:44,974  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies
19:24:44,994  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies): [200 OK] in 20ms
19:24:44,995  INFO     >> -- Binding value in response --
19:24:44,995  INFO     >> 	Expression: id
19:24:44,995  INFO     >> 	    To Var: policy-id
19:24:44,995  INFO     >> 	 New Value: 11
19:24:44,995  INFO     >> -----------------------------------------------------------
19:24:44,995  INFO     >> Starting Test [plans-testPlan.xml / Get Policy 1]
19:24:44,995  INFO     >> -----------------------------------------------------------
19:24:44,995  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies/11
19:24:45,002  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies/11): [200 OK] in 7ms
19:24:45,003  INFO     >> -----------------------------------------------------------
19:24:45,003  INFO     >> Starting Test [plans-testPlan.xml / Create Policy 2]
19:24:45,003  INFO     >> -----------------------------------------------------------
19:24:45,003  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies
19:24:45,015  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies): [200 OK] in 12ms
19:24:45,015  INFO     >> -- Binding value in response --
19:24:45,015  INFO     >> 	Expression: id
19:24:45,015  INFO     >> 	    To Var: policy-id-2
19:24:45,015  INFO     >> 	 New Value: 13
19:24:45,016  INFO     >> -----------------------------------------------------------
19:24:45,016  INFO     >> Starting Test [plans-testPlan.xml / List Policies [1]]
19:24:45,016  INFO     >> -----------------------------------------------------------
19:24:45,016  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies
19:24:45,027  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies): [200 OK] in 10ms
19:24:45,027  INFO     >> -----------------------------------------------------------
19:24:45,027  INFO     >> Starting Test [plans-testPlan.xml / Update Policy 1]
19:24:45,027  INFO     >> -----------------------------------------------------------
19:24:45,027  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies/11
19:24:45,037  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies/11): [204 No Content] in 9ms
19:24:45,037  INFO     >> -----------------------------------------------------------
19:24:45,037  INFO     >> Starting Test [plans-testPlan.xml / Delete Policy 2]
19:24:45,037  INFO     >> -----------------------------------------------------------
19:24:45,038  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies/13
19:24:45,048  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies/13): [204 No Content] in 9ms
19:24:45,048  INFO     >> -----------------------------------------------------------
19:24:45,048  INFO     >> Starting Test [plans-testPlan.xml / List Policies [2]]
19:24:45,048  INFO     >> -----------------------------------------------------------
19:24:45,048  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies
19:24:45,055  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0/policies): [200 OK] in 7ms
19:24:45,055  INFO     >> -----------------------------------------------------------
19:24:45,055  INFO     >> Starting Test [plans-testPlan.xml / Plan Activity]
19:24:45,055  INFO     >> -----------------------------------------------------------
19:24:45,056  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/activity
19:24:45,066  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/activity): [200 OK] in 10ms
19:24:45,067  INFO     >> -----------------------------------------------------------
19:24:45,067  INFO     >> Starting Test [plans-testPlan.xml / Plan Version Activity]
19:24:45,067  INFO     >> -----------------------------------------------------------
19:24:45,067  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/1.0/activity
19:24:45,077  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/1.0/activity): [200 OK] in 10ms
19:24:45,078  INFO     >> -----------------------------------------------------------
19:24:45,078  INFO     >> Starting Test [plans-testPlan.xml / Clone 2.0 --> 2.1]
19:24:45,078  INFO     >> -----------------------------------------------------------
19:24:45,078  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:45,094  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 16ms
19:24:45,095  INFO     >> -----------------------------------------------------------
19:24:45,095  INFO     >> Starting Test [plans-testPlan.xml / List All Versions [2]]
19:24:45,095  INFO     >> -----------------------------------------------------------
19:24:45,095  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:45,104  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 9ms
19:24:45,105  INFO     >> -----------------------------------------------------------
19:24:45,105  INFO     >> Starting Test [plans-testPlan.xml / Get Version 2.1]
19:24:45,105  INFO     >> -----------------------------------------------------------
19:24:45,105  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/2.1
19:24:45,112  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/2.1): [200 OK] in 7ms
19:24:45,112  INFO     >> -----------------------------------------------------------
19:24:45,112  INFO     >> Starting Test [plans-testPlan.xml / List Policies [3]]
19:24:45,112  INFO     >> -----------------------------------------------------------
19:24:45,113  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions/2.1/policies
19:24:45,119  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions/2.1/policies): [200 OK] in 6ms
19:24:45,120  INFO     >> -----------------------------------------------------------
19:24:45,120  INFO     >> Starting Test [plans-testPlan.xml / Lock PlanVersion 1]
19:24:45,120  INFO     >> -----------------------------------------------------------
19:24:45,120  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:45,128  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 8ms
19:24:45,128  INFO     >> -----------------------------------------------------------
19:24:45,128  INFO     >> Starting Test [plans-testPlan.xml / Delete Plan 1 (failure as plan is locked)]
19:24:45,128  INFO     >> -----------------------------------------------------------
19:24:45,128  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1
19:24:45,136  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/plans/Plan1): [409 Conflict] in 8ms
19:24:45,137  INFO     >> -----------------------------------------------------------
19:24:45,137  INFO     >> Starting Test [plans-testPlan.xml / Delete Plan 2]
19:24:45,137  INFO     >> -----------------------------------------------------------
19:24:45,137  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan2
19:24:45,148  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/plans/Plan2): [204 No Content] in 10ms
19:24:45,148  INFO     >> -----------------------------------------------------------
19:24:45,149  INFO     >> Starting Test [plans-testPlan.xml / Wait]
19:24:45,149  INFO     >> -----------------------------------------------------------
19:24:46,149  INFO     >> -----------------------------------------------------------
19:24:46,149  INFO     >> Starting Test [plans-testPlan.xml / Get Plan 2 (not found)]
19:24:46,149  INFO     >> -----------------------------------------------------------
19:24:46,149  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan2
19:24:46,155  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan2): [404 Not Found] in 6ms
19:24:46,156  INFO     >> -----------------------------------------------------------
19:24:46,156  INFO     >> Starting Test [plans-testPlan.xml / Get Plan 2 activity (empty) ]
19:24:46,156  INFO     >> -----------------------------------------------------------
19:24:46,156  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan2/activity
19:24:46,161  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan2/activity): [200 OK] in 5ms
19:24:46,161  INFO     >> -----------------------------------------------------------
19:24:46,161  INFO     >> Starting Test [plans-testPlan.xml / Get Plan 2 version activity (empty)]
19:24:46,161  INFO     >> -----------------------------------------------------------
19:24:46,162  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan2/versions/1.0/activity
19:24:46,165  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/plans/Plan2/versions/1.0/activity): [200 OK] in 3ms
19:24:46,172  INFO Stopped ServerConnector@10031e49{HTTP/1.1}{0.0.0.0:7070}
19:24:46,173  INFO Stopped o.e.j.s.ServletContextHandler@48158b86{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:46,178  INFO Stopped o.e.j.s.ServletContextHandler@5b933786{/apiman,null,UNAVAILABLE}
19:24:46,180  INFO     >> 
19:24:46,180  INFO     >> -------------------------------------------------------------------------------
19:24:46,180  INFO     >> REST Test complete
19:24:46,180  INFO     >> -------------------------------------------------------------------------------
19:24:46,180  INFO     >> 
Tests run: 42, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.729 sec - in io.apiman.manager.test.PlansTest
Running io.apiman.manager.test.ImportTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:46,210  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:46,468  INFO Started o.e.j.s.ServletContextHandler@5c1a728{/apiman,null,AVAILABLE}
19:24:46,468  INFO Started o.e.j.s.ServletContextHandler@34b846a1{/mock-gateway,null,AVAILABLE}
19:24:46,469  INFO Started ServerConnector@17c83403{HTTP/1.1}{0.0.0.0:7070}
19:24:46,469  INFO Started @50086ms
******* Started in 262ms
19:24:46,469  INFO     >> 
19:24:46,469  INFO     >> -------------------------------------------------------------------------------
19:24:46,469  INFO     >> Executing REST Test
19:24:46,469  INFO     >> -------------------------------------------------------------------------------
19:24:46,469  INFO     >> 
19:24:46,469  INFO     >> -----------------------------------------------------------
19:24:46,469  INFO     >> Starting Test [import-testPlan.xml / Import Data]
19:24:46,469  INFO     >> -----------------------------------------------------------
19:24:46,470  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/system/import
INFO  [qtp383886401-1449]: HHH000397: Using ASTQueryTranslatorFactory
19:24:46,538  INFO #fetch(POST localhost:7070 /apiman/system/import): [200 OK] in 68ms
19:24:46,538  INFO     >> -----------------------------------------------------------
19:24:46,538  INFO     >> Starting Test [import-testPlan.xml / Assert Gateway Log]
19:24:46,538  INFO     >> -----------------------------------------------------------
19:24:46,539  INFO Stopped ServerConnector@17c83403{HTTP/1.1}{0.0.0.0:7070}
19:24:46,540  INFO Stopped o.e.j.s.ServletContextHandler@34b846a1{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:46,543  INFO Stopped o.e.j.s.ServletContextHandler@5c1a728{/apiman,null,UNAVAILABLE}
19:24:46,544  INFO     >> 
19:24:46,544  INFO     >> -------------------------------------------------------------------------------
19:24:46,544  INFO     >> REST Test complete
19:24:46,544  INFO     >> -------------------------------------------------------------------------------
19:24:46,544  INFO     >> 
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.362 sec - in io.apiman.manager.test.ImportTest
Running io.apiman.manager.test.AllTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:46,555  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:46,841  INFO Started o.e.j.s.ServletContextHandler@3906de9{/apiman,null,AVAILABLE}
19:24:46,841  INFO Started o.e.j.s.ServletContextHandler@5b58b11f{/mock-gateway,null,AVAILABLE}
19:24:46,842  INFO Started ServerConnector@1a958d2a{HTTP/1.1}{0.0.0.0:7070}
19:24:46,842  INFO Started @50459ms
******* Started in 289ms
19:24:46,842  INFO     >> 
19:24:46,842  INFO     >> -------------------------------------------------------------------------------
19:24:46,842  INFO     >> Executing REST Test
19:24:46,842  INFO     >> -------------------------------------------------------------------------------
19:24:46,842  INFO     >> 
19:24:46,842  INFO     >> -----------------------------------------------------------
19:24:46,842  INFO     >> Starting Test [all-testPlan.xml / Status]
19:24:46,842  INFO     >> -----------------------------------------------------------
19:24:46,843  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/system/status
19:24:46,858  INFO #fetch(GET localhost:7070 /apiman/system/status): [200 OK] in 14ms
19:24:46,858  INFO     >> -----------------------------------------------------------
19:24:46,858  INFO     >> Starting Test [all-testPlan.xml / Create Gateway]
19:24:46,858  INFO     >> -----------------------------------------------------------
19:24:46,858  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:46,867  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 9ms
19:24:46,868  INFO     >> -----------------------------------------------------------
19:24:46,868  INFO     >> Starting Test [all-testPlan.xml / Create Organization]
19:24:46,868  INFO     >> -----------------------------------------------------------
19:24:46,868  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp1386457583-1532]: HHH000397: Using ASTQueryTranslatorFactory
19:24:46,879  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 11ms
19:24:46,879  INFO     >> -----------------------------------------------------------
19:24:46,879  INFO     >> Starting Test [all-testPlan.xml / Create Plan]
19:24:46,879  INFO     >> -----------------------------------------------------------
19:24:46,879  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans
19:24:46,888  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans): [200 OK] in 8ms
19:24:46,888  INFO     >> -----------------------------------------------------------
19:24:46,888  INFO     >> Starting Test [all-testPlan.xml / Create Plan Version]
19:24:46,888  INFO     >> -----------------------------------------------------------
19:24:46,889  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/plans/Plan1/versions
19:24:46,906  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/plans/Plan1/versions): [200 OK] in 17ms
19:24:46,907  INFO     >> -----------------------------------------------------------
19:24:46,907  INFO     >> Starting Test [all-testPlan.xml / Lock Plan]
19:24:46,907  INFO     >> -----------------------------------------------------------
19:24:46,907  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:46,916  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 9ms
19:24:46,917  INFO     >> -----------------------------------------------------------
19:24:46,917  INFO     >> Starting Test [all-testPlan.xml / Create Client]
19:24:46,917  INFO     >> -----------------------------------------------------------
19:24:46,917  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients
19:24:46,924  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients): [200 OK] in 7ms
19:24:46,925  INFO     >> -----------------------------------------------------------
19:24:46,925  INFO     >> Starting Test [all-testPlan.xml / Create Client Version]
19:24:46,925  INFO     >> -----------------------------------------------------------
19:24:46,925  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:46,938  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 12ms
19:24:46,939  INFO     >> -----------------------------------------------------------
19:24:46,939  INFO     >> Starting Test [all-testPlan.xml / Create API]
19:24:46,939  INFO     >> -----------------------------------------------------------
19:24:46,940  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis
19:24:46,951  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis): [200 OK] in 10ms
19:24:46,951  INFO     >> -----------------------------------------------------------
19:24:46,951  INFO     >> Starting Test [all-testPlan.xml / Create API Version]
19:24:46,951  INFO     >> -----------------------------------------------------------
19:24:46,952  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions
19:24:46,967  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/apis/API1/versions): [200 OK] in 15ms
19:24:46,968  INFO     >> -----------------------------------------------------------
19:24:46,968  INFO     >> Starting Test [all-testPlan.xml / Update API Version]
19:24:46,968  INFO     >> -----------------------------------------------------------
19:24:46,968  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/apis/API1/versions/1.0
19:24:46,981  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/apis/API1/versions/1.0): [200 OK] in 12ms
19:24:46,982  INFO     >> -----------------------------------------------------------
19:24:46,982  INFO     >> Starting Test [all-testPlan.xml / Publish API]
19:24:46,982  INFO     >> -----------------------------------------------------------
19:24:46,983  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:46,998  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 14ms
19:24:46,998  INFO     >> -----------------------------------------------------------
19:24:46,998  INFO     >> Starting Test [all-testPlan.xml / Create Contract]
19:24:46,998  INFO     >> -----------------------------------------------------------
19:24:46,998  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts
19:24:47,023  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/contracts): [200 OK] in 24ms
19:24:47,023  INFO     >> -----------------------------------------------------------
19:24:47,024  INFO     >> Starting Test [all-testPlan.xml / Register Client]
19:24:47,024  INFO     >> -----------------------------------------------------------
19:24:47,024  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:47,043  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 19ms
19:24:47,043  INFO     >> -----------------------------------------------------------
19:24:47,043  INFO     >> Starting Test [all-testPlan.xml / User Activity]
19:24:47,043  INFO     >> -----------------------------------------------------------
19:24:47,044  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/users/admin/activity
19:24:47,053  INFO #fetch(GET localhost:7070 /apiman/users/admin/activity): [200 OK] in 9ms
19:24:47,054  INFO     >> -----------------------------------------------------------
19:24:47,054  INFO     >> Starting Test [all-testPlan.xml / Assert Gateway Log]
19:24:47,054  INFO     >> -----------------------------------------------------------
19:24:47,057  INFO Stopped ServerConnector@1a958d2a{HTTP/1.1}{0.0.0.0:7070}
19:24:47,057  INFO Stopped o.e.j.s.ServletContextHandler@5b58b11f{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:47,063  INFO Stopped o.e.j.s.ServletContextHandler@3906de9{/apiman,null,UNAVAILABLE}
19:24:47,064  INFO     >> 
19:24:47,064  INFO     >> -------------------------------------------------------------------------------
19:24:47,064  INFO     >> REST Test complete
19:24:47,064  INFO     >> -------------------------------------------------------------------------------
19:24:47,064  INFO     >> 
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.519 sec - in io.apiman.manager.test.AllTest
Running io.apiman.manager.test.ClientsTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:47,078  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:47,378  INFO Started o.e.j.s.ServletContextHandler@ebad9a{/apiman,null,AVAILABLE}
19:24:47,379  INFO Started o.e.j.s.ServletContextHandler@3fa27158{/mock-gateway,null,AVAILABLE}
19:24:47,380  INFO Started ServerConnector@3d9188de{HTTP/1.1}{0.0.0.0:7070}
19:24:47,380  INFO Started @50997ms
******* Started in 304ms
19:24:47,380  INFO     >> 
19:24:47,380  INFO     >> -------------------------------------------------------------------------------
19:24:47,380  INFO     >> Executing REST Test
19:24:47,380  INFO     >> -------------------------------------------------------------------------------
19:24:47,380  INFO     >> 
19:24:47,380  INFO     >> -----------------------------------------------------------
19:24:47,380  INFO     >> Starting Test [clients-testPlan.xml / Create Organization 1]
19:24:47,380  INFO     >> -----------------------------------------------------------
19:24:47,380  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp1671393364-1615]: HHH000397: Using ASTQueryTranslatorFactory
19:24:47,404  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 23ms
19:24:47,404  INFO     >> -----------------------------------------------------------
19:24:47,404  INFO     >> Starting Test [clients-testPlan.xml / Create Organization 2]
19:24:47,404  INFO     >> -----------------------------------------------------------
19:24:47,404  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:47,412  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 8ms
19:24:47,412  INFO     >> -----------------------------------------------------------
19:24:47,412  INFO     >> Starting Test [clients-testPlan.xml / Create Client 1]
19:24:47,412  INFO     >> -----------------------------------------------------------
19:24:47,413  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients
19:24:47,421  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients): [200 OK] in 8ms
19:24:47,422  INFO     >> -----------------------------------------------------------
19:24:47,422  INFO     >> Starting Test [clients-testPlan.xml / Get Client 1 [1]]
19:24:47,422  INFO     >> -----------------------------------------------------------
19:24:47,422  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1
19:24:47,425  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1): [200 OK] in 3ms
19:24:47,426  INFO     >> -----------------------------------------------------------
19:24:47,426  INFO     >> Starting Test [clients-testPlan.xml / Get Missing Client]
19:24:47,426  INFO     >> -----------------------------------------------------------
19:24:47,426  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client2
19:24:47,430  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client2): [404 Not Found] in 4ms
19:24:47,430  INFO     >> -----------------------------------------------------------
19:24:47,430  INFO     >> Starting Test [clients-testPlan.xml / Create Client 2]
19:24:47,430  INFO     >> -----------------------------------------------------------
19:24:47,430  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients
19:24:47,439  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients): [200 OK] in 9ms
19:24:47,439  INFO     >> -----------------------------------------------------------
19:24:47,439  INFO     >> Starting Test [clients-testPlan.xml / Search Clients]
19:24:47,439  INFO     >> -----------------------------------------------------------
19:24:47,439  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/search/clients
19:24:47,450  INFO #fetch(POST localhost:7070 /apiman/search/clients): [200 OK] in 11ms
19:24:47,451  INFO     >> -----------------------------------------------------------
19:24:47,451  INFO     >> Starting Test [clients-testPlan.xml / Update Client 1]
19:24:47,451  INFO     >> -----------------------------------------------------------
19:24:47,451  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1
19:24:47,458  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/clients/Client1): [204 No Content] in 7ms
19:24:47,458  INFO     >> -----------------------------------------------------------
19:24:47,458  INFO     >> Starting Test [clients-testPlan.xml / Get Client 1 [2]]
19:24:47,458  INFO     >> -----------------------------------------------------------
19:24:47,458  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1
19:24:47,462  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1): [200 OK] in 4ms
19:24:47,462  INFO     >> -----------------------------------------------------------
19:24:47,462  INFO     >> Starting Test [clients-testPlan.xml / Create Client 1 (Org 2)]
19:24:47,462  INFO     >> -----------------------------------------------------------
19:24:47,462  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/clients
19:24:47,468  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization2/clients): [200 OK] in 6ms
19:24:47,469  INFO     >> -----------------------------------------------------------
19:24:47,469  INFO     >> Starting Test [clients-testPlan.xml / Get Client 1 [3]]
19:24:47,469  INFO     >> -----------------------------------------------------------
19:24:47,469  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1
19:24:47,472  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1): [200 OK] in 3ms
19:24:47,472  INFO     >> -----------------------------------------------------------
19:24:47,472  INFO     >> Starting Test [clients-testPlan.xml / Get Client 1 (Org 2)]
19:24:47,472  INFO     >> -----------------------------------------------------------
19:24:47,472  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization2/clients/Client1
19:24:47,475  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization2/clients/Client1): [200 OK] in 3ms
19:24:47,475  INFO     >> -----------------------------------------------------------
19:24:47,475  INFO     >> Starting Test [clients-testPlan.xml / List Client]
19:24:47,475  INFO     >> -----------------------------------------------------------
19:24:47,476  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients
19:24:47,486  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients): [200 OK] in 10ms
19:24:47,487  INFO     >> -----------------------------------------------------------
19:24:47,487  INFO     >> Starting Test [clients-testPlan.xml / Create Client (invalid name)]
19:24:47,487  INFO     >> -----------------------------------------------------------
19:24:47,487  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients
19:24:47,491  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients): [400 Bad Request] in 4ms
19:24:47,491  INFO     >> -----------------------------------------------------------
19:24:47,491  INFO     >> Starting Test [clients-testPlan.xml / Create Client Version 1.0]
19:24:47,491  INFO     >> -----------------------------------------------------------
19:24:47,491  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:47,502  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 9ms
19:24:47,502  INFO     >> -----------------------------------------------------------
19:24:47,502  INFO     >> Starting Test [clients-testPlan.xml / Get Client Version 1.0]
19:24:47,502  INFO     >> -----------------------------------------------------------
19:24:47,502  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0
19:24:47,506  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0): [200 OK] in 4ms
19:24:47,507  INFO     >> -----------------------------------------------------------
19:24:47,507  INFO     >> Starting Test [clients-testPlan.xml / Get Missing Client Version]
19:24:47,507  INFO     >> -----------------------------------------------------------
19:24:47,507  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/missing
19:24:47,510  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/missing): [404 Not Found] in 3ms
19:24:47,511  INFO     >> -----------------------------------------------------------
19:24:47,511  INFO     >> Starting Test [clients-testPlan.xml / Create Client Version 2.0]
19:24:47,511  INFO     >> -----------------------------------------------------------
19:24:47,511  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:47,516  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 5ms
19:24:47,516  INFO     >> -----------------------------------------------------------
19:24:47,516  INFO     >> Starting Test [clients-testPlan.xml / List All Versions [1]]
19:24:47,516  INFO     >> -----------------------------------------------------------
19:24:47,516  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:47,525  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 9ms
19:24:47,525  INFO     >> -----------------------------------------------------------
19:24:47,525  INFO     >> Starting Test [clients-testPlan.xml / Get Version 1.0 (updated)]
19:24:47,525  INFO     >> -----------------------------------------------------------
19:24:47,526  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0
19:24:47,529  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0): [200 OK] in 3ms
19:24:47,529  INFO     >> -----------------------------------------------------------
19:24:47,529  INFO     >> Starting Test [clients-testPlan.xml / Create Client Version (invalid)]
19:24:47,529  INFO     >> -----------------------------------------------------------
19:24:47,530  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:47,532  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [400 Bad Request] in 2ms
19:24:47,533  INFO     >> -----------------------------------------------------------
19:24:47,533  INFO     >> Starting Test [clients-testPlan.xml / Create Client Version (duplicate)]
19:24:47,533  INFO     >> -----------------------------------------------------------
19:24:47,533  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:47,536  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [409 Conflict] in 3ms
19:24:47,537  INFO     >> -----------------------------------------------------------
19:24:47,537  INFO     >> Starting Test [clients-testPlan.xml / Update Client API Key]
19:24:47,537  INFO     >> -----------------------------------------------------------
19:24:47,537  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/apikey
19:24:47,541  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/apikey): [200 OK] in 4ms
19:24:47,541  INFO     >> -----------------------------------------------------------
19:24:47,541  INFO     >> Starting Test [clients-testPlan.xml / Get Client API Key]
19:24:47,541  INFO     >> -----------------------------------------------------------
19:24:47,542  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/apikey
19:24:47,545  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/apikey): [200 OK] in 3ms
19:24:47,545  INFO     >> -----------------------------------------------------------
19:24:47,545  INFO     >> Starting Test [clients-testPlan.xml / Create Policy Def]
19:24:47,545  INFO     >> -----------------------------------------------------------
19:24:47,545  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/policyDefs
19:24:47,553  INFO #fetch(POST localhost:7070 /apiman/policyDefs): [200 OK] in 8ms
19:24:47,553  INFO     >> -----------------------------------------------------------
19:24:47,553  INFO     >> Starting Test [clients-testPlan.xml / Create Policy 1]
19:24:47,553  INFO     >> -----------------------------------------------------------
19:24:47,553  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/policies
19:24:47,577  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/policies): [200 OK] in 24ms
19:24:47,577  INFO     >> -- Binding value in response --
19:24:47,577  INFO     >> 	Expression: id
19:24:47,577  INFO     >> 	    To Var: policy-id
19:24:47,577  INFO     >> 	 New Value: 11
19:24:47,578  INFO     >> -----------------------------------------------------------
19:24:47,578  INFO     >> Starting Test [clients-testPlan.xml / Get Policy 1]
19:24:47,578  INFO     >> -----------------------------------------------------------
19:24:47,578  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/policies/11
19:24:47,583  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/policies/11): [200 OK] in 5ms
19:24:47,583  INFO     >> -----------------------------------------------------------
19:24:47,583  INFO     >> Starting Test [clients-testPlan.xml / Create Policy 2]
19:24:47,583  INFO     >> -----------------------------------------------------------
19:24:47,583  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/policies
19:24:47,590  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/policies): [200 OK] in 7ms
19:24:47,591  INFO     >> -- Binding value in response --
19:24:47,591  INFO     >> 	Expression: id
19:24:47,591  INFO     >> 	    To Var: policy-id-2
19:24:47,591  INFO     >> 	 New Value: 13
19:24:47,591  INFO     >> -----------------------------------------------------------
19:24:47,591  INFO     >> Starting Test [clients-testPlan.xml / List Policies [1]]
19:24:47,591  INFO     >> -----------------------------------------------------------
19:24:47,591  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/policies
19:24:47,601  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/policies): [200 OK] in 10ms
19:24:47,602  INFO     >> -----------------------------------------------------------
19:24:47,602  INFO     >> Starting Test [clients-testPlan.xml / Update Policy 1]
19:24:47,602  INFO     >> -----------------------------------------------------------
19:24:47,602  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/policies/11
19:24:47,608  INFO #fetch(PUT localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/policies/11): [204 No Content] in 6ms
19:24:47,609  INFO     >> -----------------------------------------------------------
19:24:47,609  INFO     >> Starting Test [clients-testPlan.xml / Delete Policy 2]
19:24:47,609  INFO     >> -----------------------------------------------------------
19:24:47,609  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/policies/13
19:24:47,615  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/policies/13): [204 No Content] in 6ms
19:24:47,615  INFO     >> -----------------------------------------------------------
19:24:47,615  INFO     >> Starting Test [clients-testPlan.xml / List Policies [2]]
19:24:47,615  INFO     >> -----------------------------------------------------------
19:24:47,615  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/policies
19:24:47,620  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/policies): [200 OK] in 4ms
19:24:47,620  INFO     >> -----------------------------------------------------------
19:24:47,620  INFO     >> Starting Test [clients-testPlan.xml / Client Activity]
19:24:47,620  INFO     >> -----------------------------------------------------------
19:24:47,620  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/activity
19:24:47,626  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/activity): [200 OK] in 6ms
19:24:47,627  INFO     >> -----------------------------------------------------------
19:24:47,627  INFO     >> Starting Test [clients-testPlan.xml / Client Version Activity]
19:24:47,627  INFO     >> -----------------------------------------------------------
19:24:47,627  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/1.0/activity
19:24:47,633  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/1.0/activity): [200 OK] in 6ms
19:24:47,634  INFO     >> -----------------------------------------------------------
19:24:47,634  INFO     >> Starting Test [clients-testPlan.xml / Clone 2.0 --> 2.1]
19:24:47,634  INFO     >> -----------------------------------------------------------
19:24:47,634  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:47,652  INFO #fetch(POST localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 18ms
19:24:47,652  INFO     >> -----------------------------------------------------------
19:24:47,652  INFO     >> Starting Test [clients-testPlan.xml / List All Versions [2]]
19:24:47,652  INFO     >> -----------------------------------------------------------
19:24:47,652  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions
19:24:47,657  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions): [200 OK] in 5ms
19:24:47,657  INFO     >> -----------------------------------------------------------
19:24:47,657  INFO     >> Starting Test [clients-testPlan.xml / Get Version 2.1]
19:24:47,657  INFO     >> -----------------------------------------------------------
19:24:47,657  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/2.1
19:24:47,660  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/2.1): [200 OK] in 3ms
19:24:47,660  INFO     >> -----------------------------------------------------------
19:24:47,660  INFO     >> Starting Test [clients-testPlan.xml / List Policies [3]]
19:24:47,660  INFO     >> -----------------------------------------------------------
19:24:47,663  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1/versions/2.1/policies
19:24:47,676  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1/versions/2.1/policies): [200 OK] in 13ms
19:24:47,677  INFO     >> -----------------------------------------------------------
19:24:47,677  INFO     >> Starting Test [clients-testPlan.xml / Delete Client 1]
19:24:47,677  INFO     >> -----------------------------------------------------------
19:24:47,677  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1
19:24:47,696  INFO #fetch(DELETE localhost:7070 /apiman/organizations/Organization1/clients/Client1): [204 No Content] in 19ms
19:24:47,696  INFO     >> -----------------------------------------------------------
19:24:47,696  INFO     >> Starting Test [clients-testPlan.xml / Get Client 1 (404)]
19:24:47,696  INFO     >> -----------------------------------------------------------
19:24:47,696  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/Organization1/clients/Client1
19:24:47,700  INFO #fetch(GET localhost:7070 /apiman/organizations/Organization1/clients/Client1): [404 Not Found] in 4ms
19:24:47,703  INFO Stopped ServerConnector@3d9188de{HTTP/1.1}{0.0.0.0:7070}
19:24:47,703  INFO Stopped o.e.j.s.ServletContextHandler@3fa27158{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:47,709  INFO Stopped o.e.j.s.ServletContextHandler@ebad9a{/apiman,null,UNAVAILABLE}
19:24:47,710  INFO     >> 
19:24:47,710  INFO     >> -------------------------------------------------------------------------------
19:24:47,710  INFO     >> REST Test complete
19:24:47,710  INFO     >> -------------------------------------------------------------------------------
19:24:47,710  INFO     >> 
Tests run: 40, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.644 sec - in io.apiman.manager.test.ClientsTest
Running io.apiman.manager.test.IdmTest
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:47,721  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:47,999  INFO Started o.e.j.s.ServletContextHandler@20df25f8{/apiman,null,AVAILABLE}
19:24:47,999  INFO Started o.e.j.s.ServletContextHandler@7148320d{/mock-gateway,null,AVAILABLE}
19:24:48,000  INFO Started ServerConnector@3e821bba{HTTP/1.1}{0.0.0.0:7070}
19:24:48,000  INFO Started @51617ms
******* Started in 281ms
19:24:48,000  INFO     >> 
19:24:48,000  INFO     >> -------------------------------------------------------------------------------
19:24:48,000  INFO     >> Executing REST Test
19:24:48,000  INFO     >> -------------------------------------------------------------------------------
19:24:48,000  INFO     >> 
19:24:48,000  INFO     >> -----------------------------------------------------------
19:24:48,000  INFO     >> Starting Test [idm-testPlan.xml / Find Users by Name]
19:24:48,000  INFO     >> -----------------------------------------------------------
19:24:48,000  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/users/search
INFO  [qtp271483415-1701]: HHH000397: Using ASTQueryTranslatorFactory
19:24:48,015  INFO #fetch(POST localhost:7070 /apiman/users/search): [200 OK] in 15ms
19:24:48,016  INFO     >> -----------------------------------------------------------
19:24:48,016  INFO     >> Starting Test [idm-testPlan.xml / Get User 1]
19:24:48,016  INFO     >> -----------------------------------------------------------
19:24:48,016  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/users/user1
19:24:48,020  INFO #fetch(GET localhost:7070 /apiman/users/user1): [200 OK] in 4ms
19:24:48,020  INFO     >> -----------------------------------------------------------
19:24:48,020  INFO     >> Starting Test [idm-testPlan.xml / Create Role 1]
19:24:48,020  INFO     >> -----------------------------------------------------------
19:24:48,020  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:48,027  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 7ms
19:24:48,028  INFO     >> -----------------------------------------------------------
19:24:48,028  INFO     >> Starting Test [idm-testPlan.xml / Create Role 2]
19:24:48,028  INFO     >> -----------------------------------------------------------
19:24:48,028  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:48,032  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 4ms
19:24:48,032  INFO     >> -----------------------------------------------------------
19:24:48,032  INFO     >> Starting Test [idm-testPlan.xml / Create Role 3]
19:24:48,032  INFO     >> -----------------------------------------------------------
19:24:48,032  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:48,037  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 5ms
19:24:48,037  INFO     >> -----------------------------------------------------------
19:24:48,037  INFO     >> Starting Test [idm-testPlan.xml / Create Role 4]
19:24:48,037  INFO     >> -----------------------------------------------------------
19:24:48,037  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:48,042  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 5ms
19:24:48,043  INFO     >> -----------------------------------------------------------
19:24:48,043  INFO     >> Starting Test [idm-testPlan.xml / Get a Role]
19:24:48,043  INFO     >> -----------------------------------------------------------
19:24:48,043  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles/TestRole1
19:24:48,046  INFO #fetch(GET localhost:7070 /apiman/roles/TestRole1): [200 OK] in 3ms
19:24:48,046  INFO     >> -----------------------------------------------------------
19:24:48,046  INFO     >> Starting Test [idm-testPlan.xml / Update a Role]
19:24:48,046  INFO     >> -----------------------------------------------------------
19:24:48,046  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles/TestRole1
19:24:48,051  INFO #fetch(PUT localhost:7070 /apiman/roles/TestRole1): [204 No Content] in 4ms
19:24:48,051  INFO     >> -----------------------------------------------------------
19:24:48,051  INFO     >> Starting Test [idm-testPlan.xml / Verify Role Update]
19:24:48,051  INFO     >> -----------------------------------------------------------
19:24:48,051  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles/TestRole1
19:24:48,053  INFO #fetch(GET localhost:7070 /apiman/roles/TestRole1): [200 OK] in 2ms
19:24:48,053  INFO     >> -----------------------------------------------------------
19:24:48,053  INFO     >> Starting Test [idm-testPlan.xml / Delete a Role]
19:24:48,053  INFO     >> -----------------------------------------------------------
19:24:48,054  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles/TestRole1
19:24:48,059  INFO #fetch(DELETE localhost:7070 /apiman/roles/TestRole1): [204 No Content] in 5ms
19:24:48,059  INFO     >> -----------------------------------------------------------
19:24:48,059  INFO     >> Starting Test [idm-testPlan.xml / Verify Delete]
19:24:48,059  INFO     >> -----------------------------------------------------------
19:24:48,060  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles/TestRole1
19:24:48,063  INFO #fetch(GET localhost:7070 /apiman/roles/TestRole1): [404 Not Found] in 2ms
19:24:48,063  INFO     >> -----------------------------------------------------------
19:24:48,063  INFO     >> Starting Test [idm-testPlan.xml / Get All Roles]
19:24:48,063  INFO     >> -----------------------------------------------------------
19:24:48,063  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles/search
19:24:48,070  INFO #fetch(POST localhost:7070 /apiman/roles/search): [200 OK] in 7ms
19:24:48,071  INFO     >> -----------------------------------------------------------
19:24:48,071  INFO     >> Starting Test [idm-testPlan.xml / Create Org 1]
19:24:48,071  INFO     >> -----------------------------------------------------------
19:24:48,071  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:48,081  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 10ms
19:24:48,081  INFO     >> -----------------------------------------------------------
19:24:48,081  INFO     >> Starting Test [idm-testPlan.xml / Create Org 2]
19:24:48,081  INFO     >> -----------------------------------------------------------
19:24:48,082  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:48,088  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 6ms
19:24:48,089  INFO     >> -----------------------------------------------------------
19:24:48,089  INFO     >> Starting Test [idm-testPlan.xml / Grant Role 2]
19:24:48,089  INFO     >> -----------------------------------------------------------
19:24:48,089  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1/roles
19:24:48,098  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization1/roles): [204 No Content] in 9ms
19:24:48,099  INFO     >> -----------------------------------------------------------
19:24:48,099  INFO     >> Starting Test [idm-testPlan.xml / Grant Role 3]
19:24:48,099  INFO     >> -----------------------------------------------------------
19:24:48,099  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1/roles
19:24:48,104  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization1/roles): [204 No Content] in 5ms
19:24:48,104  INFO     >> -----------------------------------------------------------
19:24:48,104  INFO     >> Starting Test [idm-testPlan.xml / Get Permissions]
19:24:48,104  INFO     >> -----------------------------------------------------------
19:24:48,105  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/permissions/user1
19:24:48,114  INFO #fetch(GET localhost:7070 /apiman/permissions/user1): [200 OK] in 9ms
19:24:48,115  INFO     >> -----------------------------------------------------------
19:24:48,115  INFO     >> Starting Test [idm-testPlan.xml / Grant Role 2 (duplicate)]
19:24:48,115  INFO     >> -----------------------------------------------------------
19:24:48,115  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1/roles
19:24:48,121  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization1/roles): [204 No Content] in 6ms
19:24:48,121  INFO     >> -----------------------------------------------------------
19:24:48,121  INFO     >> Starting Test [idm-testPlan.xml / Access Denied to Org 1]
19:24:48,121  INFO     >> -----------------------------------------------------------
19:24:48,121  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1/clients
19:24:48,126  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization1/clients): [403 Forbidden] in 5ms
19:24:48,126  INFO     >> -----------------------------------------------------------
19:24:48,126  INFO     >> Starting Test [idm-testPlan.xml / Create 'Organization Owner' Role]
19:24:48,126  INFO     >> -----------------------------------------------------------
19:24:48,127  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/roles
19:24:48,131  INFO #fetch(POST localhost:7070 /apiman/roles): [200 OK] in 4ms
19:24:48,132  INFO     >> -----------------------------------------------------------
19:24:48,132  INFO     >> Starting Test [idm-testPlan.xml / Make User 1 Owner of Org 1]
19:24:48,132  INFO     >> -----------------------------------------------------------
19:24:48,132  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1/roles
19:24:48,138  INFO #fetch(POST localhost:7070 /apiman/organizations/TestOrganization1/roles): [204 No Content] in 6ms
19:24:48,138  INFO     >> -----------------------------------------------------------
19:24:48,138  INFO     >> Starting Test [idm-testPlan.xml / Get Org 1 (Now Authorized)]
19:24:48,138  INFO     >> -----------------------------------------------------------
19:24:48,139  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/TestOrganization1
19:24:48,142  INFO #fetch(GET localhost:7070 /apiman/organizations/TestOrganization1): [200 OK] in 3ms
19:24:48,145  INFO Stopped ServerConnector@3e821bba{HTTP/1.1}{0.0.0.0:7070}
19:24:48,145  INFO Stopped o.e.j.s.ServletContextHandler@7148320d{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:48,148  INFO Stopped o.e.j.s.ServletContextHandler@20df25f8{/apiman,null,UNAVAILABLE}
19:24:48,148  INFO     >> 
19:24:48,148  INFO     >> -------------------------------------------------------------------------------
19:24:48,148  INFO     >> REST Test complete
19:24:48,148  INFO     >> -------------------------------------------------------------------------------
19:24:48,148  INFO     >> 
Tests run: 22, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.438 sec - in io.apiman.manager.test.IdmTest
Running io.apiman.manager.test.Apiman1214Test
**** Starting Server (ManagerApiTestServer)
DataSource created and bound to JNDI.
19:24:48,159  INFO jetty-9.2.24.v20180105
INFO  [main]: WELD-ENV-001007: Initialize Weld using ServletContextListener
INFO  [main]: WELD-ENV-000020: Using jandex for bean discovery
INFO  [main]: WELD-000101: Transactional services not available. Injection of @Inject UserTransaction not available. Transactional observers will be invoked synchronously.
INFO  [main]: WELD-ENV-001201: Jetty 7.2+ detected, CDI injection will be available in Servlets and Filters. Injection into Listeners is not supported.
INFO  [main]: WELD-ENV-001012: BeanManager reference bound to java:comp/env/BeanManager.
WARN  [main]: RESTEASY002150: resteasy.scan is no longer supported.  Use a servlet 3.0 container and the ResteasyServletInitializer
INFO  [main]: HHH000204: Processing PersistenceUnitInfo [
	name: apiman-manager-api-jpa
	...]
INFO  [main]: HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
INFO  [main]: HHH000227: Running hbm2ddl schema export
INFO  [main]: HHH000230: Schema export complete
WARN  [main]: HHH000436: Entity manager factory name (apiman-manager-api-jpa) is already registered.  If entity manager will be clustered or passivated, specify a unique value for property 'hibernate.ejb.entitymanager_factory_name'
INFO  [main]: RESTEASY002225: Deploying javax.ws.rs.core.Application: class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002205: Adding provider class io.apiman.manager.api.rest.impl.mappers.RestExceptionMapper from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.GatewayResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.CurrentUserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.OrganizationResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PolicyDefinitionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.ActionResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.RoleResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PermissionsResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.PluginResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SearchResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.SystemResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.UserResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
INFO  [main]: RESTEASY002200: Adding class resource io.apiman.manager.api.rest.impl.DownloadResourceImpl from Application class io.apiman.manager.test.server.TestManagerApiApplication$Proxy$_$$_WeldClientProxy
19:24:48,432  INFO Started o.e.j.s.ServletContextHandler@6a3b205{/apiman,null,AVAILABLE}
19:24:48,433  INFO Started o.e.j.s.ServletContextHandler@77b1ba0b{/mock-gateway,null,AVAILABLE}
19:24:48,433  INFO Started ServerConnector@14419acf{HTTP/1.1}{0.0.0.0:7070}
19:24:48,433  INFO Started @52050ms
******* Started in 276ms
19:24:48,433  INFO     >> 
19:24:48,433  INFO     >> -------------------------------------------------------------------------------
19:24:48,433  INFO     >> Executing REST Test
19:24:48,433  INFO     >> -------------------------------------------------------------------------------
19:24:48,433  INFO     >> 
19:24:48,433  INFO     >> -----------------------------------------------------------
19:24:48,433  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create Gateway]
19:24:48,433  INFO     >> -----------------------------------------------------------
19:24:48,434  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/gateways
19:24:48,453  INFO #fetch(POST localhost:7070 /apiman/gateways): [200 OK] in 19ms
19:24:48,454  INFO     >> -----------------------------------------------------------
19:24:48,454  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create Provider Org]
19:24:48,454  INFO     >> -----------------------------------------------------------
19:24:48,454  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
INFO  [qtp874186099-1785]: HHH000397: Using ASTQueryTranslatorFactory
19:24:48,471  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 17ms
19:24:48,471  INFO     >> -----------------------------------------------------------
19:24:48,471  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create Plan]
19:24:48,471  INFO     >> -----------------------------------------------------------
19:24:48,472  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/provider/plans/
19:24:48,481  INFO #fetch(POST localhost:7070 /apiman/organizations/provider/plans/): [200 OK] in 9ms
19:24:48,482  INFO     >> -----------------------------------------------------------
19:24:48,482  INFO     >> Starting Test [apiman-1214-testPlan.xml / Lock Plan]
19:24:48,482  INFO     >> -----------------------------------------------------------
19:24:48,482  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:48,493  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 11ms
19:24:48,493  INFO     >> -----------------------------------------------------------
19:24:48,493  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create API]
19:24:48,493  INFO     >> -----------------------------------------------------------
19:24:48,493  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/provider/apis
19:24:48,505  INFO #fetch(POST localhost:7070 /apiman/organizations/provider/apis): [200 OK] in 11ms
19:24:48,505  INFO     >> -----------------------------------------------------------
19:24:48,505  INFO     >> Starting Test [apiman-1214-testPlan.xml / Publish API]
19:24:48,505  INFO     >> -----------------------------------------------------------
19:24:48,505  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:48,524  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 19ms
19:24:48,525  INFO     >> -----------------------------------------------------------
19:24:48,525  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create Client 1 Org]
19:24:48,525  INFO     >> -----------------------------------------------------------
19:24:48,525  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:48,531  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 6ms
19:24:48,531  INFO     >> -----------------------------------------------------------
19:24:48,531  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create Client 1 App]
19:24:48,531  INFO     >> -----------------------------------------------------------
19:24:48,532  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/clientA/clients
19:24:48,540  INFO #fetch(POST localhost:7070 /apiman/organizations/clientA/clients): [200 OK] in 8ms
19:24:48,540  INFO     >> -----------------------------------------------------------
19:24:48,540  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create Client 1 Contract]
19:24:48,540  INFO     >> -----------------------------------------------------------
19:24:48,540  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/clientA/clients/ClientApp/versions/1.0/contracts
19:24:48,572  INFO #fetch(POST localhost:7070 /apiman/organizations/clientA/clients/ClientApp/versions/1.0/contracts): [200 OK] in 31ms
19:24:48,573  INFO     >> -----------------------------------------------------------
19:24:48,573  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create Client 2 Org]
19:24:48,573  INFO     >> -----------------------------------------------------------
19:24:48,573  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations
19:24:48,579  INFO #fetch(POST localhost:7070 /apiman/organizations): [200 OK] in 6ms
19:24:48,580  INFO     >> -----------------------------------------------------------
19:24:48,580  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create Client 2 App]
19:24:48,580  INFO     >> -----------------------------------------------------------
19:24:48,580  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/clientB/clients
19:24:48,587  INFO #fetch(POST localhost:7070 /apiman/organizations/clientB/clients): [200 OK] in 7ms
19:24:48,587  INFO     >> -----------------------------------------------------------
19:24:48,587  INFO     >> Starting Test [apiman-1214-testPlan.xml / Create Client 2 Contract]
19:24:48,587  INFO     >> -----------------------------------------------------------
19:24:48,587  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/organizations/clientB/clients/ClientApp/versions/1.0/contracts
19:24:48,600  INFO #fetch(POST localhost:7070 /apiman/organizations/clientB/clients/ClientApp/versions/1.0/contracts): [200 OK] in 12ms
19:24:48,601  INFO     >> -----------------------------------------------------------
19:24:48,601  INFO     >> Starting Test [apiman-1214-testPlan.xml / Register Client 1]
19:24:48,601  INFO     >> -----------------------------------------------------------
19:24:48,601  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:48,613  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 12ms
19:24:48,613  INFO     >> -----------------------------------------------------------
19:24:48,613  INFO     >> Starting Test [apiman-1214-testPlan.xml / Register Client 2]
19:24:48,613  INFO     >> -----------------------------------------------------------
19:24:48,613  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:48,628  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 14ms
19:24:48,628  INFO     >> -----------------------------------------------------------
19:24:48,628  INFO     >> Starting Test [apiman-1214-testPlan.xml / Unregister Client 1]
19:24:48,628  INFO     >> -----------------------------------------------------------
19:24:48,628  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:48,639  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 10ms
19:24:48,639  INFO     >> -----------------------------------------------------------
19:24:48,639  INFO     >> Starting Test [apiman-1214-testPlan.xml / Unregister Client 2]
19:24:48,639  INFO     >> -----------------------------------------------------------
19:24:48,639  INFO     >> Sending HTTP request to: http://localhost:7070/apiman/actions
19:24:48,651  INFO #fetch(POST localhost:7070 /apiman/actions): [204 No Content] in 12ms
19:24:48,651  INFO     >> -----------------------------------------------------------
19:24:48,651  INFO     >> Starting Test [apiman-1214-testPlan.xml / Assert Gateway Log]
19:24:48,651  INFO     >> -----------------------------------------------------------
19:24:48,654  INFO Stopped ServerConnector@14419acf{HTTP/1.1}{0.0.0.0:7070}
19:24:48,654  INFO Stopped o.e.j.s.ServletContextHandler@77b1ba0b{/mock-gateway,null,UNAVAILABLE}
INFO  [main]: WELD-ENV-001013: Successfully unbound BeanManager reference.
19:24:48,657  INFO Stopped o.e.j.s.ServletContextHandler@6a3b205{/apiman,null,UNAVAILABLE}
19:24:48,658  INFO     >> 
19:24:48,658  INFO     >> -------------------------------------------------------------------------------
19:24:48,658  INFO     >> REST Test complete
19:24:48,658  INFO     >> -------------------------------------------------------------------------------
19:24:48,658  INFO     >> 
Tests run: 17, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.508 sec - in io.apiman.manager.test.Apiman1214Test
19:24:48,664  INFO Stopping elasticsearch server...
19:24:48,664  INFO Elasticsearch exited with RC 1
19:24:48,664  INFO Removing installation directory...
19:24:48,690  INFO Finishing...

Results :

Tests in error: 
  ESMetricsAccessorTest.setup:90  EmbeddedElasticsearchStartup Failed to start ...
  ESMetricsAccessorTest.teardown:138 NullPointer

Tests run: 528, Failures: 0, Errors: 2, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] apiman ............................................. SUCCESS [  0.801 s]
[INFO] apiman-common ...................................... SUCCESS [  0.004 s]
[INFO] apiman-common-auth ................................. SUCCESS [  2.430 s]
[INFO] apiman-common-util ................................. SUCCESS [  2.028 s]
[INFO] apiman-common-config ............................... SUCCESS [  1.102 s]
[INFO] apiman-common-es ................................... SUCCESS [  1.037 s]
[INFO] apiman-common-net .................................. SUCCESS [  1.506 s]
[INFO] apiman-common-plugin ............................... SUCCESS [  1.573 s]
[INFO] apiman-common-servlet .............................. SUCCESS [  1.031 s]
[INFO] apiman-common-logging .............................. SUCCESS [  0.003 s]
[INFO] apiman-common-logging-core ......................... SUCCESS [  1.594 s]
[INFO] apiman-gateway ..................................... SUCCESS [  0.003 s]
[INFO] apiman-gateway-engine .............................. SUCCESS [  0.002 s]
[INFO] apiman-gateway-engine-beans ........................ SUCCESS [  3.981 s]
[INFO] apiman-gateway-engine-core ......................... SUCCESS [  2.532 s]
[INFO] apiman-common-logging-slf4j ........................ SUCCESS [  1.119 s]
[INFO] apiman-common-logging-log4j2 ....................... SUCCESS [  1.048 s]
[INFO] apiman-distro ...................................... SUCCESS [  0.003 s]
[INFO] apiman-distro-data ................................. SUCCESS [  1.073 s]
[INFO] apiman-manager ..................................... SUCCESS [  0.194 s]
[INFO] apiman-manager-api ................................. SUCCESS [  0.004 s]
[INFO] apiman-manager-api-beans ........................... SUCCESS [  1.606 s]
[INFO] apiman-distro-ddl .................................. SUCCESS [  2.574 s]
[INFO] apiman-manager-api-config .......................... SUCCESS [  0.989 s]
[INFO] apiman-manager-api-core ............................ SUCCESS [  1.728 s]
[INFO] apiman-gateway-api ................................. SUCCESS [  0.003 s]
[INFO] apiman-gateway-api-rest ............................ SUCCESS [  0.967 s]
[INFO] apiman-manager-api-gateway ......................... SUCCESS [  1.435 s]
[INFO] apiman-manager-api-export-import-api ............... SUCCESS [  1.022 s]
[INFO] apiman-manager-api-security ........................ SUCCESS [  1.009 s]
[INFO] apiman-manager-api-rest ............................ SUCCESS [  1.100 s]
[INFO] apiman-test ........................................ SUCCESS [  0.003 s]
[INFO] apiman-test-common ................................. SUCCESS [  1.202 s]
[INFO] apiman-manager-api-migrator ........................ SUCCESS [  1.644 s]
[INFO] apiman-manager-api-rest-impl ....................... SUCCESS [  0.996 s]
[INFO] apiman-manager-api-jpa ............................. SUCCESS [  0.943 s]
[INFO] apiman-manager-api-es .............................. SUCCESS [  1.700 s]
[INFO] apiman-manager-api-jdbc ............................ SUCCESS [  1.775 s]
[INFO] apiman-manager-api-hawkular ........................ SUCCESS [  1.254 s]
[INFO] apiman-manager-api-war ............................. SUCCESS [  1.061 s]
[INFO] apiman-manager-api-ispn ............................ SUCCESS [  1.028 s]
[INFO] apiman-manager-api-war-wildfly8 .................... SUCCESS [  1.069 s]
[INFO] apiman-manager-ui .................................. SUCCESS [  0.002 s]
[INFO] apiman-manager-ui-war .............................. SUCCESS [  2.561 s]
[INFO] apiman-manager-ui-war-wildfly8 ..................... SUCCESS [  1.326 s]
[INFO] apiman-gateway-engine-hazelcast .................... SUCCESS [  1.017 s]
[INFO] apiman-gateway-engine-ispn ......................... SUCCESS [  1.029 s]
[INFO] apiman-gateway-engine-es ........................... SUCCESS [  1.096 s]
[INFO] apiman-gateway-engine-hawkular ..................... SUCCESS [  0.996 s]
[INFO] apiman-gateway-engine-jdbc ......................... SUCCESS [  2.251 s]
[INFO] apiman-gateway-engine-influxdb ..................... SUCCESS [  1.041 s]
[INFO] apiman-test-policies ............................... SUCCESS [  1.011 s]
[INFO] apiman-gateway-engine-policies ..................... SUCCESS [  9.009 s]
[INFO] apiman-gateway-platforms ........................... SUCCESS [  0.002 s]
[INFO] apiman-gateway-platforms-servlet ................... SUCCESS [  3.676 s]
[INFO] apiman-gateway-api-rest-impl ....................... SUCCESS [  1.073 s]
[INFO] apiman-gateway-platforms-war ....................... SUCCESS [  1.141 s]
[INFO] apiman-gateway-platforms-war-wildfly8 .............. SUCCESS [  0.002 s]
[INFO] apiman-gateway-platforms-war-wildfly8-api .......... SUCCESS [  1.001 s]
[INFO] apiman-gateway-platforms-war-wildfly8-gateway ...... SUCCESS [  0.987 s]
[INFO] apiman-distro-es ................................... SUCCESS [  1.484 s]
[INFO] apiman-distro-wildfly10 ............................ SUCCESS [  1.033 s]
[INFO] apiman-distro-eap7 ................................. SUCCESS [  0.003 s]
[INFO] apiman-manager-api-war-tomcat8 ..................... SUCCESS [  1.107 s]
[INFO] apiman-manager-ui-war-tomcat8 ...................... SUCCESS [  1.046 s]
[INFO] apiman-gateway-platforms-war-tomcat8 ............... SUCCESS [  0.002 s]
[INFO] apiman-gateway-platforms-war-tomcat8-api ........... SUCCESS [  1.002 s]
[INFO] apiman-gateway-platforms-war-tomcat8-gateway ....... SUCCESS [  0.994 s]
[INFO] apiman-distro-tomcat8 .............................. SUCCESS [  0.002 s]
[INFO] apiman-distro-wildfly11 ............................ SUCCESS [  1.177 s]
[INFO] apiman-gateway-platforms-vertx3-common ............. SUCCESS [  1.174 s]
[INFO] apiman-gateway-engine-vertx-eb-inmemory ............ SUCCESS [  0.999 s]
[INFO] apiman-gateway-engine-vertx-polling ................ SUCCESS [  1.014 s]
[INFO] apiman-gateway-engine-3scale ....................... SUCCESS [  1.008 s]
[INFO] apiman-gateway-engine-prometheus ................... SUCCESS [  2.526 s]
[INFO] apiman-gateway-platforms-vertx3 .................... SUCCESS [  3.801 s]
[INFO] apiman-distro-vertx ................................ SUCCESS [  0.004 s]
[INFO] apiman-manager-api-micro ........................... SUCCESS [  1.036 s]
[INFO] apiman-manager-test ................................ SUCCESS [  0.001 s]
[INFO] apiman-manager-test-api ............................ FAILURE [ 53.535 s]
[INFO] apiman-gateway-engine-osgi ......................... SKIPPED
[INFO] apiman-gateway-engine-vertx-shareddata ............. SKIPPED
[INFO] apiman-gateway-platforms-war-micro ................. SKIPPED
[INFO] apiman-gateway-test ................................ SKIPPED
[INFO] apiman-test-suite .................................. SKIPPED
[INFO] apiman-tools ....................................... SKIPPED
[INFO] apiman-tools-ddl ................................... SKIPPED
[INFO] apiman-tools-i18n .................................. SKIPPED
[INFO] apiman-tools-jdbc .................................. SKIPPED
[INFO] apiman-tools-ldap .................................. SKIPPED
[INFO] apiman-tools-services .............................. SKIPPED
[INFO] apiman-tools-server-all ............................ SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 02:32 min
[INFO] Finished at: 2018-06-25T19:24:48+02:00
[INFO] Final Memory: 250M/3103M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.17:test (default-test) on project apiman-manager-test-api: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/msavy/apiman/396466689/manager/test/api/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <goals> -rf :apiman-manager-test-api
