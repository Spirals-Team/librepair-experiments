[INFO] Scanning for projects...
[INFO]                                                                         
[INFO] ------------------------------------------------------------------------
[INFO] Building product-pricing 0.0.1-SNAPSHOT
[INFO] ------------------------------------------------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ product-pricing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 8 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ product-pricing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ product-pricing ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 3 resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ product-pricing ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-surefire-plugin:2.18.1:test (default-test) @ product-pricing ---
[INFO] Surefire report directory: /root/workspace/HedvigInsurance/product-pricing/398213825/target/surefire-reports
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.pom (3 KB at 5.7 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-providers/2.18.1/surefire-providers-2.18.1.pom (3 KB at 124.2 KB/sec)
[INFO] Downloading: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.jar
[INFO] Downloaded: https://repo.maven.apache.org/maven2/org/apache/maven/surefire/surefire-junit4/2.18.1/surefire-junit4-2.18.1.jar (67 KB at 1544.0 KB/sec)

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
14:29:46.908 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:46.916 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:29:46.926 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:29:46.933 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
14:29:46.947 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest], using DelegatingSmartContextLoader
14:29:46.950 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericGroovyXmlContextLoader to process context configuration [ContextConfigurationAttributes@2641e737 declaringClass = 'com.hedvig.productPricing.aggregates.MemberAggregateTest', classes = '{}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
14:29:46.953 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: class path resource [com/hedvig/productPricing/aggregates/MemberAggregateTest-context.xml] does not exist
14:29:46.954 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: class path resource [com/hedvig/productPricing/aggregates/MemberAggregateTestContext.groovy] does not exist
14:29:46.954 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14:29:46.954 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@2641e737 declaringClass = 'com.hedvig.productPricing.aggregates.MemberAggregateTest', classes = '{}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
14:29:46.955 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: MemberAggregateTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:29:47.009 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.010 [main] DEBUG org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: using defaults.
14:29:47.017 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
14:29:47.034 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@10db82ae, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@501edcf1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@78b729e6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6b4a4e18, org.springframework.test.context.transaction.TransactionalTestExecutionListener@27c86f2d, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@197d671, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@402e37bc, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@79ad8b2f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1df82230, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@22635ba0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@13c10b87, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6a01e23]
14:29:47.037 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:47.037 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:29:47.037 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:29:47.037 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.hedvig.productPricing.ProductPricingApplicationTests] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
14:29:47.038 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.hedvig.productPricing.ProductPricingApplicationTests], using DelegatingSmartContextLoader
14:29:47.038 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericGroovyXmlContextLoader to process context configuration [ContextConfigurationAttributes@23986957 declaringClass = 'com.hedvig.productPricing.ProductPricingApplicationTests', classes = '{}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
14:29:47.039 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.ProductPricingApplicationTests]: class path resource [com/hedvig/productPricing/ProductPricingApplicationTests-context.xml] does not exist
14:29:47.039 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.ProductPricingApplicationTests]: class path resource [com/hedvig/productPricing/ProductPricingApplicationTestsContext.groovy] does not exist
14:29:47.039 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.hedvig.productPricing.ProductPricingApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
14:29:47.039 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@23986957 declaringClass = 'com.hedvig.productPricing.ProductPricingApplicationTests', classes = '{}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
14:29:47.040 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.hedvig.productPricing.ProductPricingApplicationTests]: ProductPricingApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:29:47.047 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:47.048 [main] DEBUG org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [com.hedvig.productPricing.ProductPricingApplicationTests]: using defaults.
14:29:47.056 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
14:29:47.057 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1ed1993a, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1f3f4916, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@794cb805, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4b5a5ed1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@59d016c9, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3cc2931c, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@20d28811, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3967e60c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@60d8c9b7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@48aaecc3, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7c0c77c7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@7adda9cc]
14:29:47.114 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.hedvig.productPricing.service.web.InternalControllerTest]
14:29:47.114 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:29:47.114 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:29:47.118 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.hedvig.productPricing.service.web.InternalControllerTest] from class [org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper]
14:29:47.131 [main] INFO org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.hedvig.productPricing.service.web.InternalControllerTest], using SpringBootContextLoader
14:29:47.132 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.service.web.InternalControllerTest]: class path resource [com/hedvig/productPricing/service/web/InternalControllerTest-context.xml] does not exist
14:29:47.133 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.service.web.InternalControllerTest]: class path resource [com/hedvig/productPricing/service/web/InternalControllerTestContext.groovy] does not exist
14:29:47.133 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.hedvig.productPricing.service.web.InternalControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14:29:47.133 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.hedvig.productPricing.service.web.InternalControllerTest]: InternalControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:29:47.198 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
14:29:47.199 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
14:29:47.199 [main] DEBUG org.springframework.core.env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
14:29:47.208 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved classpath location [com/hedvig/productPricing/service/web/] to resources [URL [file:/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/service/web/], URL [file:/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/]]
14:29:47.209 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/service/web]
14:29:47.209 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/service/web] for files matching pattern [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/service/web/*.class]
14:29:47.212 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web]
14:29:47.212 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web] for files matching pattern [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/*.class]
14:29:47.213 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/hedvig/productPricing/service/web/*.class] to resources [file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/service/web/InternalControllerTest.class], file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/InternalController$1.class], file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/InternalController.class], file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/LogRequestFilter.class], file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/ProductPricingController$1.class], file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/ProductPricingController.class]]
14:29:47.254 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved classpath location [com/hedvig/productPricing/service/] to resources [URL [file:/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/service/], URL [file:/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/]]
14:29:47.254 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/service]
14:29:47.254 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/service] for files matching pattern [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/service/*.class]
14:29:47.255 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service]
14:29:47.255 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service] for files matching pattern [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/*.class]
14:29:47.257 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/hedvig/productPricing/service/*.class] to resources [file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/PostgresDialect.class]]
14:29:47.258 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved classpath location [com/hedvig/productPricing/] to resources [URL [file:/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/], URL [file:/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/]]
14:29:47.258 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing]
14:29:47.258 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing] for files matching pattern [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/*.class]
14:29:47.259 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Looking for matching resources in directory tree [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing]
14:29:47.259 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Searching directory [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing] for files matching pattern [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/*.class]
14:29:47.260 [main] DEBUG org.springframework.core.io.support.PathMatchingResourcePatternResolver - Resolved location pattern [classpath*:com/hedvig/productPricing/*.class] to resources [file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/AxonTestConfiguration.class], file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/test-classes/com/hedvig/productPricing/ProductPricingApplicationTests.class], file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/ProductPricingApplication.class]]
14:29:47.285 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/ProductPricingApplication.class]
14:29:47.286 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.hedvig.productPricing.ProductPricingApplication for test class com.hedvig.productPricing.service.web.InternalControllerTest
14:29:47.290 [main] DEBUG org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper - @TestExecutionListeners is not present for class [com.hedvig.productPricing.service.web.InternalControllerTest]: using defaults.
14:29:47.296 [main] INFO org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
14:29:47.303 [main] INFO org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6392827e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@2ed2d9cb, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@d5b810e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@43dac38f, org.springframework.test.context.transaction.TransactionalTestExecutionListener@342c38f8, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@c88a337, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5d0a1059, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@485966cc, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1de76cc7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@54bff557, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@593aaf41, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5a56cdac]
14:29:47.306 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.306 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.307 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:47.307 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:47.308 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.service.web.InternalControllerTest]
14:29:47.308 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.service.web.InternalControllerTest]
Running com.hedvig.productPricing.aggregates.MemberAggregateTest
14:29:47.311 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.311 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:29:47.311 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:29:47.311 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
14:29:47.312 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest], using DelegatingSmartContextLoader
14:29:47.312 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericGroovyXmlContextLoader to process context configuration [ContextConfigurationAttributes@1de5f259 declaringClass = 'com.hedvig.productPricing.aggregates.MemberAggregateTest', classes = '{}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
14:29:47.313 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: class path resource [com/hedvig/productPricing/aggregates/MemberAggregateTest-context.xml] does not exist
14:29:47.313 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: class path resource [com/hedvig/productPricing/aggregates/MemberAggregateTestContext.groovy] does not exist
14:29:47.313 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14:29:47.313 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@1de5f259 declaringClass = 'com.hedvig.productPricing.aggregates.MemberAggregateTest', classes = '{}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
14:29:47.314 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: MemberAggregateTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:29:47.320 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.320 [main] DEBUG org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [com.hedvig.productPricing.aggregates.MemberAggregateTest]: using defaults.
14:29:47.326 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
14:29:47.327 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@20140db9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1e6a3214, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@368247b9, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1a6d8329, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1a942c18, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@55a147cc, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@71ba6d4e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@738dc9b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3c77d488, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@63376bed, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4145bad8, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@d86a6f]
14:29:47.328 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.328 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.329 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.329 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.332 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null].
14:29:47.333 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.334 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:47.335 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = com.hedvig.productPricing.aggregates.MemberAggregateTest@6d4d66d2, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]].
14:29:47.336 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
14:29:47.336 [main] DEBUG org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
14:29:47.368 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
14:29:47.368 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
14:29:47.368 [main] DEBUG org.springframework.core.env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
14:29:47.368 [main] DEBUG org.springframework.test.context.support.AnnotationConfigContextLoader - Registering annotated classes: {}
14:29:47.390 [main] INFO org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@19e4653c: startup date [Fri Jun 29 14:29:47 CEST 2018]; root of context hierarchy
14:29:47.390 [main] DEBUG org.springframework.context.support.GenericApplicationContext - Bean factory for org.springframework.context.support.GenericApplicationContext@19e4653c: org.springframework.beans.factory.support.DefaultListableBeanFactory@194fad1: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor,org.springframework.boot.test.mock.mockito.MockitoPostProcessor]; root of factory hierarchy
14:29:47.401 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
14:29:47.401 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
14:29:47.417 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
14:29:47.419 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
14:29:47.425 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:47.426 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:47.456 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor' to allow for resolving potential circular references
14:29:47.490 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:47.587 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
14:29:47.587 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
14:29:47.587 [main] INFO org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
14:29:47.588 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
14:29:47.596 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
14:29:47.597 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
14:29:47.597 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
14:29:47.598 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
14:29:47.604 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
14:29:47.604 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
14:29:47.604 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
14:29:47.607 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
14:29:47.618 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
14:29:47.618 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
14:29:47.618 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
14:29:47.619 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor' to allow for resolving potential circular references
14:29:47.627 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
14:29:47.627 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor'
14:29:47.627 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor'
14:29:47.635 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:47.636 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor' to allow for resolving potential circular references
14:29:47.640 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor'
14:29:47.640 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:47.640 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer$PropertyMappingCheckBeanPostProcessor'
14:29:47.641 [main] DEBUG org.springframework.context.support.GenericApplicationContext - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@31ff43be]
14:29:47.643 [main] DEBUG org.springframework.context.support.GenericApplicationContext - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@6cc558c6]
14:29:47.644 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@194fad1: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor,org.springframework.boot.test.mock.mockito.MockitoPostProcessor,com.hedvig.productPricing.service.pdfcreate.PdfCreator#0]; root of factory hierarchy
14:29:47.644 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
14:29:47.644 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
14:29:47.644 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
14:29:47.644 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
14:29:47.645 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
14:29:47.645 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
14:29:47.645 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
14:29:47.651 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerProcessor' to allow for resolving potential circular references
14:29:47.655 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
14:29:47.655 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
14:29:47.655 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
14:29:47.656 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerFactory' to allow for resolving potential circular references
14:29:47.660 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
14:29:47.660 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor'
14:29:47.660 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:47.660 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'com.hedvig.productPricing.service.pdfcreate.PdfCreator#0'
14:29:47.660 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
14:29:47.682 [main] DEBUG org.springframework.context.support.GenericApplicationContext - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@38089a5a]
14:29:47.682 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
14:29:47.684 [main] DEBUG org.springframework.core.env.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source
14:29:47.686 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:47.686 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 0, missCount = 1]
14:29:47.690 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:47.690 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 1, missCount = 1]
14:29:47.691 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:47.691 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'com.hedvig.productPricing.service.pdfcreate.PdfCreator#0'
14:29:47.695 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = com.hedvig.productPricing.aggregates.MemberAggregateTest@6d4d66d2, testMethod = MemberCreatedEvent@MemberAggregateTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
14:29:47.698 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:47.698 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 2, missCount = 1]
14:29:47.700 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoBeans'
14:29:47.929 [main] DEBUG org.axonframework.common.IdentifierFactory - Looking for IdentifierFactory implementation using the context class loader
14:29:47.929 [main] DEBUG org.axonframework.common.IdentifierFactory - Looking for IdentifierFactory implementation using the IdentifierFactory class loader.
14:29:47.930 [main] DEBUG org.axonframework.common.IdentifierFactory - Using default UUID-based IdentifierFactory
14:29:47.942 [main] DEBUG org.axonframework.commandhandling.SimpleCommandBus - Handling command [com.hedvig.productPricing.service.commands.CreateMemberCommand]
14:29:47.947 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Starting Unit Of Work
14:29:47.948 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.messaging.unitofwork.AbstractUnitOfWork$$Lambda$77/1272051933 for phase ROLLBACK
14:29:47.949 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase STARTED
14:29:47.950 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.SimpleCommandBus$$Lambda$81/2033268925 for phase COMMIT
14:29:47.950 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.SimpleCommandBus$$Lambda$82/424786033 for phase ROLLBACK
14:29:47.951 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.test.aggregate.AggregateTestFixture$AggregateRegisteringInterceptor$$Lambda$85/795748540 for phase PREPARE_COMMIT
14:29:47.990 [main] INFO com.hedvig.productPricing.service.aggregates.MemberAggregate - create user
14:29:48.005 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.test.aggregate.AggregateTestFixture$RecordingEventStore$$Lambda$103/708613859 for phase PREPARE_COMMIT
14:29:48.007 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.LockingRepository$$Lambda$104/1747053097 for phase CLEANUP
14:29:48.009 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$109/1479909053 for phase ROLLBACK
14:29:48.010 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$111/1926180325 for phase PREPARE_COMMIT
14:29:48.011 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Committing Unit Of Work
14:29:48.012 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase PREPARE_COMMIT
14:29:48.014 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase COMMIT
14:29:48.014 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase AFTER_COMMIT
14:29:48.014 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLEANUP
14:29:48.014 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLOSED
14:29:48.014 [main] DEBUG org.axonframework.test.aggregate.AggregateTestFixture - Starting separate Unit of Work for the purpose of checking illegal state changes in Aggregate
14:29:48.014 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Starting Unit Of Work
14:29:48.014 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.messaging.unitofwork.AbstractUnitOfWork$$Lambda$77/1272051933 for phase ROLLBACK
14:29:48.014 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase STARTED
14:29:48.017 [main] INFO com.hedvig.productPricing.service.aggregates.MemberAggregate - Instansiating MemberAggregate
14:29:48.019 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.LockingRepository$$Lambda$123/2066892165 for phase CLEANUP
14:29:48.019 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$124/48305285 for phase ROLLBACK
14:29:48.019 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$111/1926180325 for phase PREPARE_COMMIT
14:29:48.027 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Rolling back Unit Of Work.
14:29:48.028 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase ROLLBACK
14:29:48.028 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLEANUP
14:29:48.028 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLOSED
14:29:48.031 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.031 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 3, missCount = 1]
14:29:48.031 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.031 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 4, missCount = 1]
14:29:48.033 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.033 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 5, missCount = 1]
14:29:48.033 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoBeans'
14:29:48.034 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = com.hedvig.productPricing.aggregates.MemberAggregateTest@6d4d66d2, testMethod = MemberCreatedEvent@MemberAggregateTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
14:29:48.036 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:48.036 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:48.036 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = com.hedvig.productPricing.aggregates.MemberAggregateTest@13e3c1c7, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]].
14:29:48.036 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.036 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
14:29:48.037 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.037 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 1]
14:29:48.037 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:48.037 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'com.hedvig.productPricing.service.pdfcreate.PdfCreator#0'
14:29:48.038 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = com.hedvig.productPricing.aggregates.MemberAggregateTest@13e3c1c7, testMethod = CreateProductCommandWhenMemberHasInsuranceFromOtherCompany@MemberAggregateTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
14:29:48.038 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.038 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 1]
14:29:48.038 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoBeans'
14:29:48.060 [main] DEBUG org.axonframework.commandhandling.SimpleCommandBus - Handling command [com.hedvig.productPricing.service.commands.CreateProductCommand]
14:29:48.060 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Starting Unit Of Work
14:29:48.060 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.messaging.unitofwork.AbstractUnitOfWork$$Lambda$77/1272051933 for phase ROLLBACK
14:29:48.060 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase STARTED
14:29:48.060 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.SimpleCommandBus$$Lambda$81/2033268925 for phase COMMIT
14:29:48.060 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.SimpleCommandBus$$Lambda$82/424786033 for phase ROLLBACK
14:29:48.060 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.test.aggregate.AggregateTestFixture$AggregateRegisteringInterceptor$$Lambda$85/795748540 for phase PREPARE_COMMIT
14:29:48.063 [main] INFO com.hedvig.productPricing.service.aggregates.MemberAggregate - Instansiating MemberAggregate
14:29:48.063 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.LockingRepository$$Lambda$123/2066892165 for phase CLEANUP
14:29:48.063 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$124/48305285 for phase ROLLBACK
14:29:48.063 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$111/1926180325 for phase PREPARE_COMMIT
14:29:48.064 [main] INFO com.hedvig.productPricing.service.aggregates.MemberAggregate - create product
14:29:48.065 [main] DEBUG com.hedvig.productPricing.service.aggregates.Product - ME.LEGAL
14:29:48.065 [main] DEBUG com.hedvig.productPricing.service.aggregates.Product - ME.ASSAULT
14:29:48.065 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.test.aggregate.AggregateTestFixture$RecordingEventStore$$Lambda$103/708613859 for phase PREPARE_COMMIT
14:29:48.065 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Committing Unit Of Work
14:29:48.065 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase PREPARE_COMMIT
14:29:48.065 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase COMMIT
14:29:48.065 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase AFTER_COMMIT
14:29:48.065 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLEANUP
14:29:48.065 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLOSED
14:29:48.066 [main] DEBUG org.axonframework.test.aggregate.AggregateTestFixture - Starting separate Unit of Work for the purpose of checking illegal state changes in Aggregate
14:29:48.066 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Starting Unit Of Work
14:29:48.066 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.messaging.unitofwork.AbstractUnitOfWork$$Lambda$77/1272051933 for phase ROLLBACK
14:29:48.066 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase STARTED
14:29:48.066 [main] INFO com.hedvig.productPricing.service.aggregates.MemberAggregate - Instansiating MemberAggregate
14:29:48.066 [main] DEBUG com.hedvig.productPricing.service.aggregates.Product - ME.LEGAL
14:29:48.066 [main] DEBUG com.hedvig.productPricing.service.aggregates.Product - ME.ASSAULT
14:29:48.066 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.LockingRepository$$Lambda$123/2066892165 for phase CLEANUP
14:29:48.066 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$124/48305285 for phase ROLLBACK
14:29:48.066 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$111/1926180325 for phase PREPARE_COMMIT
14:29:48.067 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Rolling back Unit Of Work.
14:29:48.067 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase ROLLBACK
14:29:48.067 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLEANUP
14:29:48.067 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLOSED
14:29:48.068 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.068 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 1]
14:29:48.068 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.068 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 1]
14:29:48.070 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.070 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 11, missCount = 1]
14:29:48.072 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.072 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 12, missCount = 1]
14:29:48.072 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoBeans'
14:29:48.072 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = com.hedvig.productPricing.aggregates.MemberAggregateTest@13e3c1c7, testMethod = CreateProductCommandWhenMemberHasInsuranceFromOtherCompany@MemberAggregateTest, testException = org.axonframework.test.AxonAssertionError: Illegal state change detected! Property "com.hedvig.productPricing.service.aggregates.MemberAggregate.products" has different value when sourcing events.
Working aggregate value:     <[com.hedvig.productPricing.service.aggregates.Product@2783717b]>
Value after applying events: <[com.hedvig.productPricing.service.aggregates.Product@76f7d241]>, mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
14:29:48.076 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:48.076 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.aggregates.MemberAggregateTest]
14:29:48.076 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = com.hedvig.productPricing.aggregates.MemberAggregateTest@4de41af9, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]].
14:29:48.077 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.077 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 13, missCount = 1]
14:29:48.078 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.078 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 14, missCount = 1]
14:29:48.078 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:48.078 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'com.hedvig.productPricing.service.pdfcreate.PdfCreator#0'
14:29:48.079 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = com.hedvig.productPricing.aggregates.MemberAggregateTest@4de41af9, testMethod = CreateProductCommandWhenMemberNoInsuranceFromOtherCompany@MemberAggregateTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
14:29:48.079 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.079 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 15, missCount = 1]
14:29:48.079 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoBeans'
14:29:48.098 [main] DEBUG org.axonframework.commandhandling.SimpleCommandBus - Handling command [com.hedvig.productPricing.service.commands.CreateProductCommand]
14:29:48.098 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Starting Unit Of Work
14:29:48.098 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.messaging.unitofwork.AbstractUnitOfWork$$Lambda$77/1272051933 for phase ROLLBACK
14:29:48.098 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase STARTED
14:29:48.098 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.SimpleCommandBus$$Lambda$81/2033268925 for phase COMMIT
14:29:48.099 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.SimpleCommandBus$$Lambda$82/424786033 for phase ROLLBACK
14:29:48.099 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.test.aggregate.AggregateTestFixture$AggregateRegisteringInterceptor$$Lambda$85/795748540 for phase PREPARE_COMMIT
14:29:48.099 [main] INFO com.hedvig.productPricing.service.aggregates.MemberAggregate - Instansiating MemberAggregate
14:29:48.099 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.LockingRepository$$Lambda$123/2066892165 for phase CLEANUP
14:29:48.099 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$124/48305285 for phase ROLLBACK
14:29:48.099 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$111/1926180325 for phase PREPARE_COMMIT
14:29:48.099 [main] INFO com.hedvig.productPricing.service.aggregates.MemberAggregate - create product
14:29:48.099 [main] DEBUG com.hedvig.productPricing.service.aggregates.Product - ME.LEGAL
14:29:48.099 [main] DEBUG com.hedvig.productPricing.service.aggregates.Product - ME.ASSAULT
14:29:48.099 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.test.aggregate.AggregateTestFixture$RecordingEventStore$$Lambda$103/708613859 for phase PREPARE_COMMIT
14:29:48.099 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Committing Unit Of Work
14:29:48.099 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase PREPARE_COMMIT
14:29:48.099 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase COMMIT
14:29:48.100 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase AFTER_COMMIT
14:29:48.100 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLEANUP
14:29:48.100 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLOSED
14:29:48.100 [main] DEBUG org.axonframework.test.aggregate.AggregateTestFixture - Starting separate Unit of Work for the purpose of checking illegal state changes in Aggregate
14:29:48.100 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Starting Unit Of Work
14:29:48.100 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.messaging.unitofwork.AbstractUnitOfWork$$Lambda$77/1272051933 for phase ROLLBACK
14:29:48.100 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase STARTED
14:29:48.100 [main] INFO com.hedvig.productPricing.service.aggregates.MemberAggregate - Instansiating MemberAggregate
14:29:48.100 [main] DEBUG com.hedvig.productPricing.service.aggregates.Product - ME.LEGAL
14:29:48.100 [main] DEBUG com.hedvig.productPricing.service.aggregates.Product - ME.ASSAULT
14:29:48.100 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.LockingRepository$$Lambda$123/2066892165 for phase CLEANUP
14:29:48.100 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$124/48305285 for phase ROLLBACK
14:29:48.100 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Adding handler org.axonframework.commandhandling.model.AbstractRepository$$Lambda$111/1926180325 for phase PREPARE_COMMIT
14:29:48.101 [main] DEBUG org.axonframework.messaging.unitofwork.AbstractUnitOfWork - Rolling back Unit Of Work.
14:29:48.101 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase ROLLBACK
14:29:48.101 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLEANUP
14:29:48.101 [main] DEBUG org.axonframework.messaging.unitofwork.MessageProcessingContext - Notifying handlers for phase CLOSED
14:29:48.101 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.101 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 16, missCount = 1]
14:29:48.101 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.102 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 17, missCount = 1]
14:29:48.102 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.102 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 18, missCount = 1]
14:29:48.103 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.103 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 1, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 1]
14:29:48.103 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoBeans'
14:29:48.104 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = com.hedvig.productPricing.aggregates.MemberAggregateTest@4de41af9, testMethod = CreateProductCommandWhenMemberNoInsuranceFromOtherCompany@MemberAggregateTest, testException = org.axonframework.test.AxonAssertionError: Illegal state change detected! Property "com.hedvig.productPricing.service.aggregates.MemberAggregate.products" has different value when sourcing events.
Working aggregate value:     <[com.hedvig.productPricing.service.aggregates.Product@773cbf4f]>
Value after applying events: <[com.hedvig.productPricing.service.aggregates.Product@6b54655f]>, mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
14:29:48.104 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@2a7f1f10 testClass = MemberAggregateTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@46cdf8bd testClass = MemberAggregateTest, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@d447a4ff, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null].
Tests run: 3, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.793 sec <<< FAILURE! - in com.hedvig.productPricing.aggregates.MemberAggregateTest
CreateProductCommandWhenMemberHasInsuranceFromOtherCompany(com.hedvig.productPricing.aggregates.MemberAggregateTest)  Time elapsed: 0.039 sec  <<< FAILURE!
org.axonframework.test.AxonAssertionError: Illegal state change detected! Property "com.hedvig.productPricing.service.aggregates.MemberAggregate.products" has different value when sourcing events.
Working aggregate value:     <[com.hedvig.productPricing.service.aggregates.Product@2783717b]>
Value after applying events: <[com.hedvig.productPricing.service.aggregates.Product@76f7d241]>
	at com.hedvig.productPricing.aggregates.MemberAggregateTest.CreateProductCommandWhenMemberHasInsuranceFromOtherCompany(MemberAggregateTest.java:180)

CreateProductCommandWhenMemberNoInsuranceFromOtherCompany(com.hedvig.productPricing.aggregates.MemberAggregateTest)  Time elapsed: 0.026 sec  <<< FAILURE!
org.axonframework.test.AxonAssertionError: Illegal state change detected! Property "com.hedvig.productPricing.service.aggregates.MemberAggregate.products" has different value when sourcing events.
Working aggregate value:     <[com.hedvig.productPricing.service.aggregates.Product@773cbf4f]>
Value after applying events: <[com.hedvig.productPricing.service.aggregates.Product@6b54655f]>
	at com.hedvig.productPricing.aggregates.MemberAggregateTest.CreateProductCommandWhenMemberNoInsuranceFromOtherCompany(MemberAggregateTest.java:211)

Running com.hedvig.productPricing.ProductPricingApplicationTests
14:29:48.105 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:48.105 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:29:48.105 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:29:48.105 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.hedvig.productPricing.ProductPricingApplicationTests] from class [org.springframework.test.context.support.DefaultTestContextBootstrapper]
14:29:48.105 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.hedvig.productPricing.ProductPricingApplicationTests], using DelegatingSmartContextLoader
14:29:48.105 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to GenericGroovyXmlContextLoader to process context configuration [ContextConfigurationAttributes@7d3430a7 declaringClass = 'com.hedvig.productPricing.ProductPricingApplicationTests', classes = '{}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
14:29:48.106 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.ProductPricingApplicationTests]: class path resource [com/hedvig/productPricing/ProductPricingApplicationTests-context.xml] does not exist
14:29:48.106 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.ProductPricingApplicationTests]: class path resource [com/hedvig/productPricing/ProductPricingApplicationTestsContext.groovy] does not exist
14:29:48.106 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.hedvig.productPricing.ProductPricingApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
14:29:48.106 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to process context configuration [ContextConfigurationAttributes@7d3430a7 declaringClass = 'com.hedvig.productPricing.ProductPricingApplicationTests', classes = '{}', locations = '{}', inheritLocations = false, initializers = '{}', inheritInitializers = true, name = [null], contextLoaderClass = 'org.springframework.test.context.ContextLoader'].
14:29:48.106 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.hedvig.productPricing.ProductPricingApplicationTests]: ProductPricingApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:29:48.111 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:48.111 [main] DEBUG org.springframework.test.context.support.DefaultTestContextBootstrapper - @TestExecutionListeners is not present for class [com.hedvig.productPricing.ProductPricingApplicationTests]: using defaults.
14:29:48.114 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
14:29:48.115 [main] INFO org.springframework.test.context.support.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2a3591c5, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@34a75079, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@346a361, org.springframework.test.context.support.DirtiesContextTestExecutionListener@107ed6fc, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1643d68f, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@186978a6, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2e029d61, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@482d776b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@4052274f, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@132ddbab, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@297ea53a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@acb0951]
14:29:48.115 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:48.115 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:48.115 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:48.115 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:48.115 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@5bf22f18 testClass = ProductPricingApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null].
14:29:48.115 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:48.115 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.ProductPricingApplicationTests]
14:29:48.115 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@5bf22f18 testClass = ProductPricingApplicationTests, testInstance = com.hedvig.productPricing.ProductPricingApplicationTests@28276e50, testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]].
14:29:48.116 [main] DEBUG org.springframework.test.context.support.AbstractDelegatingSmartContextLoader - Delegating to AnnotationConfigContextLoader to load context from [MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]].
14:29:48.116 [main] DEBUG org.springframework.test.context.support.AbstractGenericContextLoader - Loading ApplicationContext for merged context configuration [[MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
14:29:48.116 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
14:29:48.116 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
14:29:48.116 [main] DEBUG org.springframework.core.env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
14:29:48.116 [main] DEBUG org.springframework.test.context.support.AnnotationConfigContextLoader - Registering annotated classes: {}
14:29:48.117 [main] INFO org.springframework.context.support.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@62e70ea3: startup date [Fri Jun 29 14:29:48 CEST 2018]; root of context hierarchy
14:29:48.117 [main] DEBUG org.springframework.context.support.GenericApplicationContext - Bean factory for org.springframework.context.support.GenericApplicationContext@62e70ea3: org.springframework.beans.factory.support.DefaultListableBeanFactory@3efe7086: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor,org.springframework.boot.test.mock.mockito.MockitoPostProcessor]; root of factory hierarchy
14:29:48.118 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
14:29:48.118 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
14:29:48.118 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor' to allow for resolving potential circular references
14:29:48.118 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
14:29:48.119 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:48.119 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:48.121 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor' to allow for resolving potential circular references
14:29:48.126 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:48.131 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
14:29:48.131 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
14:29:48.132 [main] INFO org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor - JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
14:29:48.132 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor' to allow for resolving potential circular references
14:29:48.136 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
14:29:48.136 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
14:29:48.136 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
14:29:48.136 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor' to allow for resolving potential circular references
14:29:48.139 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
14:29:48.139 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
14:29:48.139 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
14:29:48.139 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor' to allow for resolving potential circular references
14:29:48.144 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
14:29:48.144 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
14:29:48.144 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
14:29:48.144 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor' to allow for resolving potential circular references
14:29:48.149 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
14:29:48.149 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor'
14:29:48.149 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor'
14:29:48.150 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:48.151 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor' to allow for resolving potential circular references
14:29:48.154 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor'
14:29:48.154 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:48.154 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer$PropertyMappingCheckBeanPostProcessor'
14:29:48.154 [main] DEBUG org.springframework.context.support.GenericApplicationContext - Unable to locate MessageSource with name 'messageSource': using default [org.springframework.context.support.DelegatingMessageSource@5b58ed3c]
14:29:48.154 [main] DEBUG org.springframework.context.support.GenericApplicationContext - Unable to locate ApplicationEventMulticaster with name 'applicationEventMulticaster': using default [org.springframework.context.event.SimpleApplicationEventMulticaster@24faea88]
14:29:48.155 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Pre-instantiating singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@3efe7086: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,org.springframework.context.event.internalEventListenerProcessor,org.springframework.context.event.internalEventListenerFactory,org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor,org.springframework.boot.test.mock.mockito.MockitoPostProcessor,com.hedvig.productPricing.pricing.PricingEngine#0]; root of factory hierarchy
14:29:48.155 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
14:29:48.155 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
14:29:48.155 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalRequiredAnnotationProcessor'
14:29:48.155 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
14:29:48.155 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'
14:29:48.155 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
14:29:48.155 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
14:29:48.156 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerProcessor' to allow for resolving potential circular references
14:29:48.158 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerProcessor'
14:29:48.158 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
14:29:48.158 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
14:29:48.159 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Eagerly caching bean 'org.springframework.context.event.internalEventListenerFactory' to allow for resolving potential circular references
14:29:48.161 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Finished creating instance of bean 'org.springframework.context.event.internalEventListenerFactory'
14:29:48.162 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor$SpyPostProcessor'
14:29:48.162 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:48.162 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'com.hedvig.productPricing.pricing.PricingEngine#0'
14:29:48.162 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
14:29:48.171 [main] DEBUG org.springframework.context.support.GenericApplicationContext - Unable to locate LifecycleProcessor with name 'lifecycleProcessor': using default [org.springframework.context.support.DefaultLifecycleProcessor@7813cb11]
14:29:48.172 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'lifecycleProcessor'
14:29:48.172 [main] DEBUG org.springframework.core.env.PropertySourcesPropertyResolver - Could not find key 'spring.liveBeansView.mbeanDomain' in any property source
14:29:48.172 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Storing ApplicationContext in cache under key [[MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.172 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 2, maxSize = 32, parentContextCount = 0, hitCount = 19, missCount = 2]
14:29:48.176 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.177 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 2, maxSize = 32, parentContextCount = 0, hitCount = 20, missCount = 2]
14:29:48.177 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoPostProcessor'
14:29:48.177 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'com.hedvig.productPricing.pricing.PricingEngine#0'
14:29:48.177 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test method: context [DefaultTestContext@5bf22f18 testClass = ProductPricingApplicationTests, testInstance = com.hedvig.productPricing.ProductPricingApplicationTests@28276e50, testMethod = dummy@ProductPricingApplicationTests, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
14:29:48.178 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.178 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 2, maxSize = 32, parentContextCount = 0, hitCount = 21, missCount = 2]
14:29:48.178 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoBeans'
14:29:48.179 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.180 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 2, maxSize = 32, parentContextCount = 0, hitCount = 22, missCount = 2]
14:29:48.180 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.180 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 2, maxSize = 32, parentContextCount = 0, hitCount = 23, missCount = 2]
14:29:48.181 [main] DEBUG org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate - Retrieved ApplicationContext from cache with key [[MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]
14:29:48.181 [main] DEBUG org.springframework.test.context.cache - Spring test ApplicationContext cache statistics: [DefaultContextCache@54e7df6a size = 2, maxSize = 32, parentContextCount = 0, hitCount = 24, missCount = 2]
14:29:48.181 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Returning cached instance of singleton bean 'org.springframework.boot.test.mock.mockito.MockitoBeans'
14:29:48.182 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - After test method: context [DefaultTestContext@5bf22f18 testClass = ProductPricingApplicationTests, testInstance = com.hedvig.productPricing.ProductPricingApplicationTests@28276e50, testMethod = dummy@ProductPricingApplicationTests, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null].
14:29:48.182 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - After test class: context [DefaultTestContext@5bf22f18 testClass = ProductPricingApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [MergedContextConfiguration@267f474e testClass = ProductPricingApplicationTests, locations = '{}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4e3024bf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null].
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in com.hedvig.productPricing.ProductPricingApplicationTests
Running com.hedvig.productPricing.service.web.dto.ProductStatusTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.002 sec - in com.hedvig.productPricing.service.web.dto.ProductStatusTest
Running com.hedvig.productPricing.service.web.dto.InsuranceDTOTest
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 sec - in com.hedvig.productPricing.service.web.dto.InsuranceDTOTest
Running com.hedvig.productPricing.service.web.InternalControllerTest
14:29:48.253 [main] DEBUG org.springframework.test.context.junit4.SpringJUnit4ClassRunner - SpringJUnit4ClassRunner constructor called with [class com.hedvig.productPricing.service.web.InternalControllerTest]
14:29:48.253 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:29:48.253 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:29:48.254 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.hedvig.productPricing.service.web.InternalControllerTest] from class [org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper]
14:29:48.254 [main] INFO org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.hedvig.productPricing.service.web.InternalControllerTest], using SpringBootContextLoader
14:29:48.255 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.service.web.InternalControllerTest]: class path resource [com/hedvig/productPricing/service/web/InternalControllerTest-context.xml] does not exist
14:29:48.256 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.hedvig.productPricing.service.web.InternalControllerTest]: class path resource [com/hedvig/productPricing/service/web/InternalControllerTestContext.groovy] does not exist
14:29:48.256 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.hedvig.productPricing.service.web.InternalControllerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
14:29:48.256 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.hedvig.productPricing.service.web.InternalControllerTest]: InternalControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:29:48.283 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
14:29:48.283 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
14:29:48.284 [main] DEBUG org.springframework.core.env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
14:29:48.284 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.hedvig.productPricing.ProductPricingApplication for test class com.hedvig.productPricing.service.web.InternalControllerTest
14:29:48.284 [main] DEBUG org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper - @TestExecutionListeners is not present for class [com.hedvig.productPricing.service.web.InternalControllerTest]: using defaults.
14:29:48.288 [main] INFO org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
14:29:48.294 [main] INFO org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@726386ed, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@649f2009, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@14bb2297, org.springframework.test.context.support.DirtiesContextTestExecutionListener@69adf72c, org.springframework.test.context.transaction.TransactionalTestExecutionListener@797501a, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a15b789, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@57f791c6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@51650883, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6c4f9535, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5bd1ceca, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@30c31dd7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@499b2a5c]
14:29:48.294 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.service.web.InternalControllerTest]
14:29:48.294 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.service.web.InternalControllerTest]
14:29:48.294 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.service.web.InternalControllerTest]
14:29:48.294 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.service.web.InternalControllerTest]
14:29:48.295 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@596df867 testClass = InternalControllerTest, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c1fca1e testClass = InternalControllerTest, locations = '{}', classes = '{class com.hedvig.productPricing.ProductPricingApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{hedvig.product-pricing.files.location = src/test/resources/, org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@241a53ef key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration, org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@279de91a, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@7770f470, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@fcc9f117, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cd554242, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], resourceBasePath = '', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]], class annotated with @DirtiesContext [false] with mode [null].
14:29:48.295 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved @ProfileValueSourceConfiguration [null] for test class [com.hedvig.productPricing.service.web.InternalControllerTest]
14:29:48.295 [main] DEBUG org.springframework.test.annotation.ProfileValueUtils - Retrieved ProfileValueSource type [class org.springframework.test.annotation.SystemProfileValueSource] for class [com.hedvig.productPricing.service.web.InternalControllerTest]
14:29:48.296 [main] DEBUG org.springframework.test.context.support.DependencyInjectionTestExecutionListener - Performing dependency injection for test context [[DefaultTestContext@596df867 testClass = InternalControllerTest, testInstance = com.hedvig.productPricing.service.web.InternalControllerTest@344344fa, testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c1fca1e testClass = InternalControllerTest, locations = '{}', classes = '{class com.hedvig.productPricing.ProductPricingApplication}', contextInitializerClasses = '[]', activeProfiles = '{test}', propertySourceLocations = '{}', propertySourceProperties = '{hedvig.product-pricing.files.location = src/test/resources/, org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true}', contextCustomizers = set[[ImportsContextCustomizer@241a53ef key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.web.ServerPropertiesAutoConfiguration, org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@21a947fe, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1445d7f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@279de91a, org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@7770f470, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@fcc9f117, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cd554242, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@491666ad], resourceBasePath = '', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]]]].
14:29:48.337 [main] DEBUG io.fabric8.kubernetes.client.Config - Trying to configure client from Kubernetes config...
14:29:48.343 [main] DEBUG io.fabric8.kubernetes.client.Config - Did not find Kubernetes config at: [/root/.kube/config]. Ignoring.
14:29:48.343 [main] DEBUG io.fabric8.kubernetes.client.Config - Trying to configure client from service account...
14:29:48.343 [main] DEBUG io.fabric8.kubernetes.client.Config - Did not find service account ca cert at: [/var/run/secrets/kubernetes.io/serviceaccount/ca.crt].
14:29:48.344 [main] WARN io.fabric8.kubernetes.client.Config - Error reading service account token from: [/var/run/secrets/kubernetes.io/serviceaccount/token]. Ignoring.
14:29:48.344 [main] DEBUG io.fabric8.kubernetes.client.Config - Trying to configure client namespace from Kubernetes service account namespace path...
14:29:48.344 [main] DEBUG io.fabric8.kubernetes.client.Config - Did not find service account namespace at: [/var/run/secrets/kubernetes.io/serviceaccount/namespace]. Ignoring.
14:29:48.637 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemProperties] PropertySource with lowest search precedence
14:29:48.637 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [systemEnvironment] PropertySource with lowest search precedence
14:29:48.637 [main] DEBUG org.springframework.core.env.StandardEnvironment - Initialized StandardEnvironment with PropertySources [systemProperties,systemEnvironment]
14:29:48.638 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [test] PropertySource with highest search precedence
14:29:48.639 [main] DEBUG org.springframework.core.env.MutablePropertySources - Adding [inline] PropertySource with highest search precedence
14:29:48.644 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, hedvig.product-pricing.files.location = src/test/resources/, org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true, server.port=-1}
14:29:48.644 [main] DEBUG org.springframework.core.env.StandardEnvironment - Adding [Inlined Test Properties] PropertySource with highest search precedence
2018-06-29 14:29:49.704  INFO [product-pricing,,,] 223 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@107f4980: startup date [Fri Jun 29 14:29:49 CEST 2018]; root of context hierarchy
2018-06-29 14:29:49.849  INFO [product-pricing,,,] 223 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-06-29 14:29:49.873  INFO [product-pricing,,,] 223 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$bd7b0f32] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v1.5.6.RELEASE)

2018-06-29 14:29:50.149  INFO [product-pricing,,,] 223 --- [           main] c.h.p.s.web.InternalControllerTest       : The following profiles are active: test
2018-06-29 14:29:50.153  INFO [product-pricing,,,] 223 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2ee83775: startup date [Fri Jun 29 14:29:50 CEST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@107f4980
2018-06-29 14:29:51.032  INFO [product-pricing,,,] 223 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-06-29 14:29:51.107  WARN [product-pricing,,,] 223 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'internalController' defined in file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/InternalController.class]: Unsatisfied dependency expressed through constructor parameter 5; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hedvig.productPricing.service.query.PerilRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2018-06-29 14:29:51.110  INFO [product-pricing,,,] 223 --- [           main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2018-06-29 14:29:51.147 ERROR [product-pricing,,,] 223 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of constructor in com.hedvig.productPricing.service.web.InternalController required a bean of type 'com.hedvig.productPricing.service.query.PerilRepository' that could not be found.


Action:

Consider defining a bean of type 'com.hedvig.productPricing.service.query.PerilRepository' in your configuration.

2018-06-29 14:29:51.152  WARN [product-pricing,,,] 223 --- [           main] io.fabric8.kubernetes.client.Config      : Error reading service account token from: [/var/run/secrets/kubernetes.io/serviceaccount/token]. Ignoring.
2018-06-29 14:29:51.248  INFO [product-pricing,,,] 223 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@6cc48a17: startup date [Fri Jun 29 14:29:51 CEST 2018]; root of context hierarchy
2018-06-29 14:29:51.265  INFO [product-pricing,,,] 223 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-06-29 14:29:51.285  INFO [product-pricing,,,] 223 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'configurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$bd7b0f32] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v1.5.6.RELEASE)

2018-06-29 14:29:51.377  INFO [product-pricing,,,] 223 --- [           main] c.h.p.s.web.InternalControllerTest       : The following profiles are active: test
2018-06-29 14:29:51.379  INFO [product-pricing,,,] 223 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@2ad7bd26: startup date [Fri Jun 29 14:29:51 CEST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@6cc48a17
2018-06-29 14:29:51.773  INFO [product-pricing,,,] 223 --- [           main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-06-29 14:29:51.825  WARN [product-pricing,,,] 223 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'internalController' defined in file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/InternalController.class]: Unsatisfied dependency expressed through constructor parameter 5; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hedvig.productPricing.service.query.PerilRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2018-06-29 14:29:51.827  INFO [product-pricing,,,] 223 --- [           main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2018-06-29 14:29:51.863 ERROR [product-pricing,,,] 223 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 5 of constructor in com.hedvig.productPricing.service.web.InternalController required a bean of type 'com.hedvig.productPricing.service.query.PerilRepository' that could not be found.


Action:

Consider defining a bean of type 'com.hedvig.productPricing.service.query.PerilRepository' in your configuration.

2018-06-29 14:29:51.867 ERROR [product-pricing,,,] 223 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@14bb2297] to prepare test instance [com.hedvig.productPricing.service.web.InternalControllerTest@344344fa]

java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'internalController' defined in file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/InternalController.class]: Unsatisfied dependency expressed through constructor parameter 5; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hedvig.productPricing.service.query.PerilRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 27 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hedvig.productPricing.service.query.PerilRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)
	... 45 common frames omitted

Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 3.619 sec <<< FAILURE! - in com.hedvig.productPricing.service.web.InternalControllerTest
test(com.hedvig.productPricing.service.web.InternalControllerTest)  Time elapsed: 0.005 sec  <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'internalController' defined in file [/root/workspace/HedvigInsurance/product-pricing/398213825/target/classes/com/hedvig/productPricing/service/web/InternalController.class]: Unsatisfied dependency expressed through constructor parameter 5; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hedvig.productPricing.service.query.PerilRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.hedvig.productPricing.service.query.PerilRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1493)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1104)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:283)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:173)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:153)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:128)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)

2018-06-29 14:29:51.876  INFO [product-pricing,,,] 223 --- [       Thread-1] o.s.c.support.GenericApplicationContext  : Closing org.springframework.context.support.GenericApplicationContext@62e70ea3: startup date [Fri Jun 29 14:29:48 CEST 2018]; root of context hierarchy
2018-06-29 14:29:51.876  INFO [product-pricing,,,] 223 --- [       Thread-0] o.s.c.support.GenericApplicationContext  : Closing org.springframework.context.support.GenericApplicationContext@19e4653c: startup date [Fri Jun 29 14:29:47 CEST 2018]; root of context hierarchy

Results :

Failed tests: 
  MemberAggregateTest.CreateProductCommandWhenMemberHasInsuranceFromOtherCompany:180 Illegal state change detected! Property "com.hedvig.productPricing.service.aggregates.MemberAggregate.products" has different value when sourcing events.
Working aggregate value:     <[com.hedvig.productPricing.service.aggregates.Product@2783717b]>
Value after applying events: <[com.hedvig.productPricing.service.aggregates.Product@76f7d241]>
  MemberAggregateTest.CreateProductCommandWhenMemberNoInsuranceFromOtherCompany:211 Illegal state change detected! Property "com.hedvig.productPricing.service.aggregates.MemberAggregate.products" has different value when sourcing events.
Working aggregate value:     <[com.hedvig.productPricing.service.aggregates.Product@773cbf4f]>
Value after applying events: <[com.hedvig.productPricing.service.aggregates.Product@6b54655f]>
Tests in error: 
  InternalControllerTest.test  IllegalState Failed to load ApplicationContext

Tests run: 17, Failures: 2, Errors: 1, Skipped: 0

[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 8.631 s
[INFO] Finished at: 2018-06-29T14:29:52+02:00
[INFO] Final Memory: 38M/966M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (default-test) on project product-pricing: There are test failures.
[ERROR] 
[ERROR] Please refer to /root/workspace/HedvigInsurance/product-pricing/398213825/target/surefire-reports for the individual test results.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
