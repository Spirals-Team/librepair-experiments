{
  "totalNumberSkippingTests": 28,
  "bugType": "only_fail",
  "totalNumberErroringTests": 9,
  "repo": "spotify/cassandra-reaper",
  "metrics": {
    "FailureNames": [
      "java.lang.RuntimeException",
      "java.lang.AssertionError",
      "skipped"
    ],
    "StepsDurationsInSeconds": {
      "CheckoutBuggyBuild": 0,
      "ComputeClasspath": 8,
      "ComputeTestDir": 0,
      "ResolveDependency": 30,
      "BuildProject": 42,
      "ComputeSourceDir": 0,
      "InitRepoToPush": 2,
      "CloneRepository": 3,
      "NopolRepair": 120,
      "CheckoutPatchedBuild": 0,
      "TestProject": 27,
      "GatherTestInformation": 0,
      "PushIncriminatedBuild": 4,
      "CommitPatch": 4
    },
    "NbFailingTests": 11,
    "BugCommitUrl": "http://github.com/spotify/cassandra-reaper/commit/d8510cd02ea094d28a7eb568b8e3bd7ccae97e29",
    "ReproductionDate": "Jun 26, 2017 8:42:14 PM",
    "BuggyBuildId": 247176597,
    "PatchedBuilId": 0,
    "BuggyBuildURL": "http://travis-ci.org/spotify/cassandra-reaper/builds/247176597",
    "BuggyBuildDate": "Jun 26, 2017 6:38:33 PM",
    "BugCommit": "d8510cd02ea094d28a7eb568b8e3bd7ccae97e29",
    "PatchChangedFiles": 1,
    "PatchAddedLines": 0,
    "PatchDeletedLines": 0,
    "NbRunningTests": 152,
    "NbLibraries": 166,
    "NbFileApp": 112,
    "NbFileTests": 52,
    "NbCPU": 8,
    "FreeMemory": 544811344,
    "TotalMemory": 3058171904,
    "AngelicValuesByTest": {
      "com/spotify/reaper/resources/view/RepairScheduleStatusTest": 16,
      "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace": 0,
      "Scenario: Deleting a scheduled repair": 0,
      "Scenario: Adding a scheduled repair that already exists": 0,
      "Scenario: Create a cluster and a repair run and delete them": 0,
      "Scenario: Registering a scheduled repair": 0
    },
    "FreeMemoryByStep": {
      "CheckoutBuggyBuild": 457616120,
      "ComputeClasspath": 270446232,
      "ComputeTestDir": 313608168,
      "ResolveDependency": 292023688,
      "BuildProject": 284974744,
      "ComputeSourceDir": 270446232,
      "InitRepoToPush": 198809688,
      "CloneRepository": 469903456,
      "NopolRepair": 585876472,
      "CheckoutPatchedBuild": 544811344,
      "TestProject": 271758056,
      "GatherTestInformation": 264467288,
      "PushIncriminatedBuild": 273287368,
      "CommitPatch": 544811344
    }
  },
  "bugCommit": "https://github.com/spotify/cassandra-reaper/compare/28251289593c...d8510cd02ea0",
  "failingModule": "/root/workspace/spotify/cassandra-reaper/247176597",
  "hostname": "spirals-librepair",
  "totalNumberFailingTests": 2,
  "error-types": [
    "java.lang.RuntimeException",
    "java.lang.AssertionError",
    "skipped"
  ],
  "totalNumberRunningTests": 152,
  "failing-test-cases": [
    {
      "className": "Scenario: Create a cluster and a repair run and delete them",
      "failingMethods": [
        "Scenario: Create a cluster and a repair run and delete them#Then reaper has no cluster called \"other_cluster\" in storage",
        "Scenario: Create a cluster and a repair run and delete them#And deleting cluster called \"other_cluster\" fails",
        "Scenario: Create a cluster and a repair run and delete them#Then reaper has 1 scheduled repairs for cluster called \"other_cluster\"",
        "Scenario: Create a cluster and a repair run and delete them#When the last added repair run is deleted",
        "Scenario: Create a cluster and a repair run and delete them#Then reaper has 1 repairs for cluster called \"other_cluster\"",
        "Scenario: Create a cluster and a repair run and delete them#And a new repair is added for \"other_cluster\" and keyspace \"system\"",
        "Scenario: Create a cluster and a repair run and delete them#And cluster called \"other_cluster\" is deleted",
        "Scenario: Create a cluster and a repair run and delete them#When the last added schedule is deleted for cluster called \"other_cluster\""
      ],
      "erroringMethods": [
        "Scenario: Create a cluster and a repair run and delete them#Scenario: Create a cluster and a repair run and delete them",
        "Scenario: Create a cluster and a repair run and delete them#When a new daily repair schedule is added for \"other_cluster\" and keyspace \"other_keyspace\""
      ],
      "failures": [
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type org.apache.cassandra.repair.RepairParallelism from String \"sequential\": value not one of declared Enum instance names: [DATACENTER_AWARE, SEQUENTIAL, PARALLEL]\n at [Source: {\"id\":2,\"owner\":\"test_user\",\"state\":\"ACTIVE\",\"intensity\":0.8999999761581421,\"cluster_name\":\"other_cluster\",\"keyspace_name\":\"other_keyspace\",\"column_families\":[],\"incremental_repair\":false,\"segment_count\":200,\"repair_parallelism\":\"sequential\",\"scheduled_days_between\":1,\"creation_time\":\"2017-06-26T18:43:51Z\",\"next_activation\":\"2017-06-27T00:00:00Z\",\"pause_time\":null}; line: 1, column: 230] (through reference chain: com.spotify.reaper.resources.view.RepairScheduleStatus[\"repair_parallelism\"])",
          "isError": true
        },
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type org.apache.cassandra.repair.RepairParallelism from String \"sequential\": value not one of declared Enum instance names: [DATACENTER_AWARE, SEQUENTIAL, PARALLEL]\n at [Source: {\"id\":2,\"owner\":\"test_user\",\"state\":\"ACTIVE\",\"intensity\":0.8999999761581421,\"cluster_name\":\"other_cluster\",\"keyspace_name\":\"other_keyspace\",\"column_families\":[],\"incremental_repair\":false,\"segment_count\":200,\"repair_parallelism\":\"sequential\",\"scheduled_days_between\":1,\"creation_time\":\"2017-06-26T18:43:51Z\",\"next_activation\":\"2017-06-27T00:00:00Z\",\"pause_time\":null}; line: 1, column: 230] (through reference chain: com.spotify.reaper.resources.view.RepairScheduleStatus[\"repair_parallelism\"])",
          "isError": true
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        }
      ],
      "nbFailures": 9,
      "nbErrors": 2
    },
    {
      "className": "com.spotify.reaper.resources.view.RepairScheduleStatusTest",
      "failingMethods": [],
      "erroringMethods": [
        "com.spotify.reaper.resources.view.RepairScheduleStatusTest#testJacksonJSONParsing"
      ],
      "failures": [
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type org.apache.cassandra.repair.RepairParallelism from String \"parallel\": value not one of declared Enum instance names: [DATACENTER_AWARE, SEQUENTIAL, PARALLEL]\n at [Source: {\"id\":1,\"owner\":\"testuser\",\"state\":\"ACTIVE\",\"intensity\":0.75,\"cluster_name\":\"testCluster\",\"keyspace_name\":\"testKeyspace\",\"column_families\":[],\"incremental_repair\":false,\"segment_count\":0,\"repair_parallelism\":\"parallel\",\"scheduled_days_between\":2,\"creation_time\":\"1970-01-01T01:00:00+01:00\",\"next_activation\":null,\"pause_time\":null}; line: 1, column: 209] (through reference chain: com.spotify.reaper.resources.view.RepairScheduleStatus[\"repair_parallelism\"])",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 1
    },
    {
      "className": "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace",
      "failingMethods": [
        "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace#When an add-cluster request is made to reaper",
        "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace#Then reaper has 2 repairs for cluster called \"other_cluster\"",
        "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace#And that we are going to use \"127.0.0.2\" as cluster seed host",
        "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace#Then reaper has a cluster called \"other_cluster\" in storage",
        "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace#And a new repair is added for \"other_cluster\" and keyspace \"system\"",
        "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace#Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace",
        "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace#Given reaper has no cluster with name \"other_cluster\" in storage",
        "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace#And reaper has 0 scheduled repairs for cluster called \"other_cluster\"",
        "Scenario: Create a cluster and one incremental repair run and one full repair run on the same keyspace#When a new incremental repair is added for \"other_cluster\" and keyspace \"system\""
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "expected:\u003c404\u003e but was:\u003c200\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "expected:\u003c404\u003e but was:\u003c200\u003e",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        }
      ],
      "nbFailures": 9,
      "nbErrors": 0
    },
    {
      "className": "Scenario: Adding a scheduled repair that already exists",
      "failingMethods": [
        "Scenario: Adding a scheduled repair that already exists#When a new daily repair schedule is added that already exists for \"test_cluster\" and keyspace \"test_keyspace2\"",
        "Scenario: Adding a scheduled repair that already exists#Then reaper has 2 scheduled repairs for cluster called \"test_cluster\"",
        "Scenario: Adding a scheduled repair that already exists#And deleting cluster called \"test_cluster\" fails"
      ],
      "erroringMethods": [
        "Scenario: Adding a scheduled repair that already exists#Scenario: Adding a scheduled repair that already exists",
        "Scenario: Adding a scheduled repair that already exists#And reaper has 2 scheduled repairs for cluster called \"test_cluster\""
      ],
      "failures": [
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type org.apache.cassandra.repair.RepairParallelism from String \"sequential\": value not one of declared Enum instance names: [DATACENTER_AWARE, SEQUENTIAL, PARALLEL]\n at [Source: [{\"id\":1,\"owner\":\"test_user\",\"state\":\"ACTIVE\",\"intensity\":0.8999999761581421,\"cluster_name\":\"test_cluster\",\"keyspace_name\":\"test_keyspace\",\"column_families\":[],\"incremental_repair\":false,\"segment_count\":200,\"repair_parallelism\":\"sequential\",\"scheduled_days_between\":1,\"creation_time\":\"2017-06-26T18:43:50Z\",\"next_activation\":\"2017-06-27T00:00:00Z\",\"pause_time\":null}]; line: 1, column: 229] (through reference chain: java.util.ArrayList[0]-\u003ecom.spotify.reaper.resources.view.RepairScheduleStatus[\"repair_parallelism\"])",
          "isError": true
        },
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type org.apache.cassandra.repair.RepairParallelism from String \"sequential\": value not one of declared Enum instance names: [DATACENTER_AWARE, SEQUENTIAL, PARALLEL]\n at [Source: [{\"id\":1,\"owner\":\"test_user\",\"state\":\"ACTIVE\",\"intensity\":0.8999999761581421,\"cluster_name\":\"test_cluster\",\"keyspace_name\":\"test_keyspace\",\"column_families\":[],\"incremental_repair\":false,\"segment_count\":200,\"repair_parallelism\":\"sequential\",\"scheduled_days_between\":1,\"creation_time\":\"2017-06-26T18:43:50Z\",\"next_activation\":\"2017-06-27T00:00:00Z\",\"pause_time\":null}]; line: 1, column: 229] (through reference chain: java.util.ArrayList[0]-\u003ecom.spotify.reaper.resources.view.RepairScheduleStatus[\"repair_parallelism\"])",
          "isError": true
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        }
      ],
      "nbFailures": 3,
      "nbErrors": 2
    },
    {
      "className": "Scenario: Registering a scheduled repair",
      "failingMethods": [
        "Scenario: Registering a scheduled repair#Then reaper has a cluster called \"test_cluster\" in storage",
        "Scenario: Registering a scheduled repair#And reaper has 1 scheduled repairs for cluster called \"test_cluster\""
      ],
      "erroringMethods": [
        "Scenario: Registering a scheduled repair#When a new daily repair schedule is added for \"test_cluster\" and keyspace \"test_keyspace\"",
        "Scenario: Registering a scheduled repair#Scenario: Registering a scheduled repair"
      ],
      "failures": [
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type org.apache.cassandra.repair.RepairParallelism from String \"sequential\": value not one of declared Enum instance names: [DATACENTER_AWARE, SEQUENTIAL, PARALLEL]\n at [Source: {\"id\":1,\"owner\":\"test_user\",\"state\":\"ACTIVE\",\"intensity\":0.8999999761581421,\"cluster_name\":\"test_cluster\",\"keyspace_name\":\"test_keyspace\",\"column_families\":[],\"incremental_repair\":false,\"segment_count\":200,\"repair_parallelism\":\"sequential\",\"scheduled_days_between\":1,\"creation_time\":\"2017-06-26T18:43:50Z\",\"next_activation\":\"2017-06-27T00:00:00Z\",\"pause_time\":null}; line: 1, column: 228] (through reference chain: com.spotify.reaper.resources.view.RepairScheduleStatus[\"repair_parallelism\"])",
          "isError": true
        },
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type org.apache.cassandra.repair.RepairParallelism from String \"sequential\": value not one of declared Enum instance names: [DATACENTER_AWARE, SEQUENTIAL, PARALLEL]\n at [Source: {\"id\":1,\"owner\":\"test_user\",\"state\":\"ACTIVE\",\"intensity\":0.8999999761581421,\"cluster_name\":\"test_cluster\",\"keyspace_name\":\"test_keyspace\",\"column_families\":[],\"incremental_repair\":false,\"segment_count\":200,\"repair_parallelism\":\"sequential\",\"scheduled_days_between\":1,\"creation_time\":\"2017-06-26T18:43:50Z\",\"next_activation\":\"2017-06-27T00:00:00Z\",\"pause_time\":null}; line: 1, column: 228] (through reference chain: com.spotify.reaper.resources.view.RepairScheduleStatus[\"repair_parallelism\"])",
          "isError": true
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        }
      ],
      "nbFailures": 2,
      "nbErrors": 2
    },
    {
      "className": "Scenario: Deleting a scheduled repair",
      "failingMethods": [
        "Scenario: Deleting a scheduled repair#When the last added schedule is deleted for cluster called \"test_cluster\"",
        "Scenario: Deleting a scheduled repair#Then reaper has a cluster called \"test_cluster\" in storage",
        "Scenario: Deleting a scheduled repair#And a second daily repair schedule is added for \"test_cluster\" and keyspace \"system\"",
        "Scenario: Deleting a scheduled repair#Then reaper has 2 scheduled repairs for cluster called \"test_cluster\"",
        "Scenario: Deleting a scheduled repair#And deleting cluster called \"test_cluster\" fails",
        "Scenario: Deleting a scheduled repair#And reaper has 3 scheduled repairs for cluster called \"test_cluster\"",
        "Scenario: Deleting a scheduled repair#When a new daily repair schedule is added for \"test_cluster\" and keyspace \"test_keyspace2\""
      ],
      "erroringMethods": [
        "Scenario: Deleting a scheduled repair#And reaper has 1 scheduled repairs for cluster called \"test_cluster\"",
        "Scenario: Deleting a scheduled repair#Scenario: Deleting a scheduled repair"
      ],
      "failures": [
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type org.apache.cassandra.repair.RepairParallelism from String \"sequential\": value not one of declared Enum instance names: [DATACENTER_AWARE, SEQUENTIAL, PARALLEL]\n at [Source: [{\"id\":1,\"owner\":\"test_user\",\"state\":\"ACTIVE\",\"intensity\":0.8999999761581421,\"cluster_name\":\"test_cluster\",\"keyspace_name\":\"test_keyspace\",\"column_families\":[],\"incremental_repair\":false,\"segment_count\":200,\"repair_parallelism\":\"sequential\",\"scheduled_days_between\":1,\"creation_time\":\"2017-06-26T18:43:50Z\",\"next_activation\":\"2017-06-27T00:00:00Z\",\"pause_time\":null}]; line: 1, column: 229] (through reference chain: java.util.ArrayList[0]-\u003ecom.spotify.reaper.resources.view.RepairScheduleStatus[\"repair_parallelism\"])",
          "isError": true
        },
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "com.fasterxml.jackson.databind.exc.InvalidFormatException: Can not deserialize value of type org.apache.cassandra.repair.RepairParallelism from String \"sequential\": value not one of declared Enum instance names: [DATACENTER_AWARE, SEQUENTIAL, PARALLEL]\n at [Source: [{\"id\":1,\"owner\":\"test_user\",\"state\":\"ACTIVE\",\"intensity\":0.8999999761581421,\"cluster_name\":\"test_cluster\",\"keyspace_name\":\"test_keyspace\",\"column_families\":[],\"incremental_repair\":false,\"segment_count\":200,\"repair_parallelism\":\"sequential\",\"scheduled_days_between\":1,\"creation_time\":\"2017-06-26T18:43:50Z\",\"next_activation\":\"2017-06-27T00:00:00Z\",\"pause_time\":null}]; line: 1, column: 229] (through reference chain: java.util.ArrayList[0]-\u003ecom.spotify.reaper.resources.view.RepairScheduleStatus[\"repair_parallelism\"])",
          "isError": true
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        },
        {
          "failureName": "skipped",
          "failureDetail": "skipped",
          "isError": false
        }
      ],
      "nbFailures": 7,
      "nbErrors": 2
    }
  ]
}