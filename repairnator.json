{
  "totalNumberSkippingTests": 0,
  "bugType": "only_fail",
  "totalNumberErroringTests": 0,
  "repo": "prestodb/presto",
  "metrics": {
    "StepsDurationsInSeconds": {
      "CheckoutBuggyBuild": 11,
      "ComputeClasspath": 4,
      "ComputeTestDir": 0,
      "ResolveDependency": 108,
      "BuildProject": 689,
      "NPERepair": 0,
      "ComputeSourceDir": 0,
      "InitRepoToPush": 29,
      "CloneRepository": 31,
      "NopolRepair": 36,
      "CheckoutPatchedBuild": 0,
      "TestProject": 2632,
      "GatherTestInformation": 0,
      "PushIncriminatedBuild": 10,
      "AstorRepair": 2,
      "CommitPatch": 21
    },
    "FailureNames": [
      "java.lang.AssertionError",
      "java.lang.RuntimeException",
      "com.facebook.presto.spi.PrestoException"
    ],
    "NbFailingTests": 26,
    "BugCommitUrl": "http://github.com/prestodb/presto/commit/2c027c16cf8933a8b359a11e310a351cd46845ec",
    "ReproductionDate": "Mar 21, 2018 7:20:34 AM",
    "BuggyBuildId": 356200541,
    "PatchedBuilId": 0,
    "BuggyBuildURL": "http://travis-ci.org/prestodb/presto/builds/356200541",
    "BuggyBuildDate": "Mar 21, 2018 7:20:25 AM",
    "BugCommit": "2c027c16cf8933a8b359a11e310a351cd46845ec",
    "PatchChangedFiles": 2,
    "PatchAddedLines": 0,
    "PatchDeletedLines": 0,
    "NbRunningTests": 6755,
    "NbLibraries": 160,
    "NbFileApp": 0,
    "NbFileTests": 0,
    "NbCPU": 32,
    "FreeMemory": 2001146024,
    "TotalMemory": 5887229952,
    "AngelicValuesByTest": {
      "com/facebook/presto/tests/TestTpchDistributedQueries": 0,
      "com/facebook/presto/tests/TestIsNotDistinctFrom": 0,
      "com/facebook/presto/tests/TestSpilledAggregations": 0,
      "com/facebook/presto/tests/TestDistributedSpilledQueries": 0,
      "com/facebook/presto/tests/TestAggregations": 0,
      "com/facebook/presto/tests/TestOptimizeMixedDistinctAggregations": 0
    },
    "FreeMemoryByStep": {
      "CheckoutBuggyBuild": 572146736,
      "ComputeClasspath": 1129376840,
      "ComputeTestDir": 561692312,
      "ResolveDependency": 485022256,
      "BuildProject": 352593144,
      "NPERepair": 1132608776,
      "ComputeSourceDir": 1129376840,
      "InitRepoToPush": 721457112,
      "CloneRepository": 1016228592,
      "NopolRepair": 2370543192,
      "CheckoutPatchedBuild": 2001146024,
      "TestProject": 1251604856,
      "GatherTestInformation": 1216261744,
      "PushIncriminatedBuild": 1132608776,
      "AstorRepair": 1765900056,
      "CommitPatch": 2001146024
    }
  },
  "failingModule": "/root/workspace/prestodb/presto/356200541/presto-tests",
  "hostname": "spirals-vortex.lille.inria.fr",
  "totalNumberFailingTests": 26,
  "error-types": [
    "java.lang.AssertionError",
    "java.lang.RuntimeException",
    "com.facebook.presto.spi.PrestoException"
  ],
  "totalNumberRunningTests": 6755,
  "failing-test-cases": [
    {
      "className": "com.facebook.presto.tests.TestAggregations",
      "failingMethods": [
        "com.facebook.presto.tests.TestAggregations#testExtractDistinctAggregationOptimizer",
        "com.facebook.presto.tests.TestAggregations#testGroupByComplexMap",
        "com.facebook.presto.tests.TestAggregations#testGroupByRow",
        "com.facebook.presto.tests.TestAggregations#testGroupByMap"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT count(DISTINCT a), max(b) FROM (VALUES (row(1, 2), 3)) t(a, b)",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT MAP_KEYS(x)[1] FROM (VALUES MAP(ARRAY[\u0027a\u0027], ARRAY[ARRAY[1]]), MAP(ARRAY[\u0027b\u0027], ARRAY[ARRAY[2]])) t(x) GROUP BY x",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT col[1], count FROM (SELECT MAP(ARRAY[1], ARRAY[custkey]) col, COUNT(*) count FROM orders GROUP BY 1)",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT col.col1, count FROM (SELECT CAST(row(custkey, custkey) AS row(col0 bigint, col1 bigint)) col, COUNT(*) count FROM orders GROUP BY 1)",
          "isError": false
        }
      ],
      "nbFailures": 4,
      "nbErrors": 0
    },
    {
      "className": "com.facebook.presto.tests.TestTpchDistributedQueries",
      "failingMethods": [
        "com.facebook.presto.tests.TestTpchDistributedQueries#testNullOnLhsOfInPredicateAllowed",
        "com.facebook.presto.tests.TestTpchDistributedQueries#testIntersect",
        "com.facebook.presto.tests.TestTpchDistributedQueries#testRowFieldAccessorInAggregate",
        "com.facebook.presto.tests.TestTpchDistributedQueries#testUnion",
        "com.facebook.presto.tests.TestTpchDistributedQueries#testInUncorrelatedSubquery",
        "com.facebook.presto.tests.TestTpchDistributedQueries#testExcept"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT NULL, NULL EXCEPT SELECT NULL, NULL FROM nation",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT x FROM (VALUES 2) t(x) WHERE MAP(ARRAY[8589934592], ARRAY[x]) IN (VALUES MAP(ARRAY[8589934592],ARRAY[2]))",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT NULL, NULL INTERSECT SELECT NULL, NULL FROM nation",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT NULL IN (SELECT NULL WHERE FALSE)",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT a.col1[1].col0, SUM(a.col0), SUM(a.col1[1].col1), SUM(a.col1[2].col0), SUM(a.col2.col1) FROM (VALUES ROW(CAST(ROW(2.2, ARRAY[row(31, 4.2E0), row(22, 4.2E0)], row(5, 4.0E0)) AS ROW(col0 double, col1 array(row(col0 integer, col1 double)), col2 row(col0 integer, col1 double)))), ROW(CAST(ROW(1.0, ARRAY[row(31, 4.5E0), row(12, 4.2E0)], row(3, 4.1E0)) AS ROW(col0 double, col1 array(row(col0 integer, col1 double)), col2 row(col0 integer, col1 double)))), ROW(CAST(ROW(3.1, ARRAY[row(41, 3.1E0), row(32, 4.2E0)], row(6, 6.0E0)) AS ROW(col0 double, col1 array(row(col0 integer, col1 double)), col2 row(col0 integer, col1 double)))), ROW(CAST(ROW(3.3, ARRAY[row(41, 3.1E0), row(32, 4.2E0)], row(6, 6.0E0)) AS ROW(col0 double, col1 array(row(col0 integer, col1 double)), col2 row(col0 integer, col1 double)))) ) t(a) GROUP BY a.col1[1]",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT NULL UNION SELECT NULL",
          "isError": false
        }
      ],
      "nbFailures": 6,
      "nbErrors": 0
    },
    {
      "className": "com.facebook.presto.tests.TestIsNotDistinctFrom",
      "failingMethods": [
        "com.facebook.presto.tests.TestIsNotDistinctFrom#testRow",
        "com.facebook.presto.tests.TestIsNotDistinctFrom#testDistinctNan"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "com.facebook.presto.spi.PrestoException",
          "failureDetail": "Division by zero",
          "isError": false
        },
        {
          "failureName": "java.lang.RuntimeException",
          "failureDetail": "java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    com/facebook/presto/$gen/PagesHashStrategy_20180321_071515_14524.positionEqualsRow(IIILcom/facebook/presto/spi/Page;[I)Z @78: invokedynamic\n  Reason:\n    Type integer (current frame, stack[3]) is not assignable to \u0027com/facebook/presto/spi/block/Block\u0027\n  Current Frame:\n    bci: @78\n    flags: { }\n    locals: { \u0027com/facebook/presto/$gen/PagesHashStrategy_20180321_071515_14524\u0027, integer, integer, integer, \u0027com/facebook/presto/spi/Page\u0027, \u0027[I\u0027 }\n    stack: { \u0027java/lang/Object\u0027, integer, \u0027java/lang/Object\u0027, integer }\n  Bytecode:\n    0x0000000: ba00 b400 002a b400 3d1b b900 2902 00c0\n    0x0000010: 0035 1cb9 00b8 0300 2ab4 003d 1bb9 0029\n    0x0000020: 0200 c000 351c b900 8302 00ba 00b4 0000\n    0x0000030: 1904 1905 032e b600 921d b900 b803 0019\n    0x0000040: 0419 0503 2eb6 0092 1db9 0083 0200 ba00\n    0x0000050: be00 0099 0005 03ac 04ac               \n  Stackmap Table:\n    full_frame(@88,{Object[#2],Integer,Integer,Integer,Object[#142],Object[#194]},{Object[#4],Integer})\n",
          "isError": false
        }
      ],
      "nbFailures": 2,
      "nbErrors": 0
    },
    {
      "className": "com.facebook.presto.tests.TestSpilledAggregations",
      "failingMethods": [
        "com.facebook.presto.tests.TestSpilledAggregations#testGroupByComplexMap",
        "com.facebook.presto.tests.TestSpilledAggregations#testExtractDistinctAggregationOptimizer",
        "com.facebook.presto.tests.TestSpilledAggregations#testGroupByMap",
        "com.facebook.presto.tests.TestSpilledAggregations#testGroupByRow"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT count(DISTINCT a), max(b) FROM (VALUES (row(1, 2), 3)) t(a, b)",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT MAP_KEYS(x)[1] FROM (VALUES MAP(ARRAY[\u0027a\u0027], ARRAY[ARRAY[1]]), MAP(ARRAY[\u0027b\u0027], ARRAY[ARRAY[2]])) t(x) GROUP BY x",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT col[1], count FROM (SELECT MAP(ARRAY[1], ARRAY[custkey]) col, COUNT(*) count FROM orders GROUP BY 1)",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT col.col1, count FROM (SELECT CAST(row(custkey, custkey) AS row(col0 bigint, col1 bigint)) col, COUNT(*) count FROM orders GROUP BY 1)",
          "isError": false
        }
      ],
      "nbFailures": 4,
      "nbErrors": 0
    },
    {
      "className": "com.facebook.presto.tests.TestOptimizeMixedDistinctAggregations",
      "failingMethods": [
        "com.facebook.presto.tests.TestOptimizeMixedDistinctAggregations#testExtractDistinctAggregationOptimizer",
        "com.facebook.presto.tests.TestOptimizeMixedDistinctAggregations#testGroupByRow",
        "com.facebook.presto.tests.TestOptimizeMixedDistinctAggregations#testGroupByMap",
        "com.facebook.presto.tests.TestOptimizeMixedDistinctAggregations#testGroupByComplexMap"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT count(DISTINCT a), max(b) FROM (VALUES (row(1, 2), 3)) t(a, b)",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT MAP_KEYS(x)[1] FROM (VALUES MAP(ARRAY[\u0027a\u0027], ARRAY[ARRAY[1]]), MAP(ARRAY[\u0027b\u0027], ARRAY[ARRAY[2]])) t(x) GROUP BY x",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT col[1], count FROM (SELECT MAP(ARRAY[1], ARRAY[custkey]) col, COUNT(*) count FROM orders GROUP BY 1)",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT col.col1, count FROM (SELECT CAST(row(custkey, custkey) AS row(col0 bigint, col1 bigint)) col, COUNT(*) count FROM orders GROUP BY 1)",
          "isError": false
        }
      ],
      "nbFailures": 4,
      "nbErrors": 0
    },
    {
      "className": "com.facebook.presto.tests.TestDistributedSpilledQueries",
      "failingMethods": [
        "com.facebook.presto.tests.TestDistributedSpilledQueries#testInUncorrelatedSubquery",
        "com.facebook.presto.tests.TestDistributedSpilledQueries#testExcept",
        "com.facebook.presto.tests.TestDistributedSpilledQueries#testNullOnLhsOfInPredicateAllowed",
        "com.facebook.presto.tests.TestDistributedSpilledQueries#testIntersect",
        "com.facebook.presto.tests.TestDistributedSpilledQueries#testUnion",
        "com.facebook.presto.tests.TestDistributedSpilledQueries#testRowFieldAccessorInAggregate"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT NULL, NULL EXCEPT SELECT NULL, NULL FROM nation",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT x FROM (VALUES 2) t(x) WHERE MAP(ARRAY[8589934592], ARRAY[x]) IN (VALUES MAP(ARRAY[8589934592],ARRAY[2]))",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT NULL, NULL INTERSECT SELECT NULL, NULL FROM nation",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT NULL IN (SELECT NULL WHERE FALSE)",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT a.col1[1].col0, SUM(a.col0), SUM(a.col1[1].col1), SUM(a.col1[2].col0), SUM(a.col2.col1) FROM (VALUES ROW(CAST(ROW(2.2, ARRAY[row(31, 4.2E0), row(22, 4.2E0)], row(5, 4.0E0)) AS ROW(col0 double, col1 array(row(col0 integer, col1 double)), col2 row(col0 integer, col1 double)))), ROW(CAST(ROW(1.0, ARRAY[row(31, 4.5E0), row(12, 4.2E0)], row(3, 4.1E0)) AS ROW(col0 double, col1 array(row(col0 integer, col1 double)), col2 row(col0 integer, col1 double)))), ROW(CAST(ROW(3.1, ARRAY[row(41, 3.1E0), row(32, 4.2E0)], row(6, 6.0E0)) AS ROW(col0 double, col1 array(row(col0 integer, col1 double)), col2 row(col0 integer, col1 double)))), ROW(CAST(ROW(3.3, ARRAY[row(41, 3.1E0), row(32, 4.2E0)], row(6, 6.0E0)) AS ROW(col0 double, col1 array(row(col0 integer, col1 double)), col2 row(col0 integer, col1 double)))) ) t(a) GROUP BY a.col1[1]",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Execution of \u0027actual\u0027 query failed: SELECT NULL UNION SELECT NULL",
          "isError": false
        }
      ],
      "nbFailures": 6,
      "nbErrors": 0
    }
  ]
}