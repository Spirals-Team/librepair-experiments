{
  "totalNumberSkippingTests": 0,
  "bugType": "only_fail",
  "totalNumberErroringTests": 16,
  "repo": "thingsboard/thingsboard",
  "metrics": {
    "StepsDurationsInSeconds": {
      "CheckoutBuggyBuild": 0,
      "ComputeClasspath": 5,
      "ComputeTestDir": 0,
      "ResolveDependency": 12,
      "BuildProject": 113,
      "NPERepair": 0,
      "ComputeSourceDir": 0,
      "InitRepoToPush": 7,
      "CloneRepository": 5,
      "NopolRepair": 9,
      "CheckoutPatchedBuild": 0,
      "TestProject": 1538,
      "GatherTestInformation": 0,
      "PushIncriminatedBuild": 8,
      "AstorRepair": 592,
      "CommitPatch": 9
    },
    "FailureNames": [
      "java.lang.IllegalStateException",
      "org.mockito.exceptions.verification.WantedButNotInvoked",
      "java.lang.AssertionError"
    ],
    "NbFailingTests": 37,
    "BugCommitUrl": "http://github.com/thingsboard/thingsboard/commit/68a943e2677053358bea9566e4e42a26d4eed217",
    "ReproductionDate": "Mar 23, 2018 4:16:08 PM",
    "BuggyBuildId": 357423823,
    "PatchedBuilId": 0,
    "BuggyBuildURL": "http://travis-ci.org/thingsboard/thingsboard/builds/357423823",
    "BuggyBuildDate": "Mar 23, 2018 4:15:45 PM",
    "BugCommit": "68a943e2677053358bea9566e4e42a26d4eed217",
    "PatchChangedFiles": 1,
    "PatchAddedLines": 0,
    "PatchDeletedLines": 0,
    "NbRunningTests": 642,
    "NbLibraries": 243,
    "NbFileApp": 1790,
    "NbFileTests": 350,
    "NbCPU": 32,
    "FreeMemory": 1344390312,
    "TotalMemory": 2475687936,
    "AngelicValuesByTest": {},
    "FreeMemoryByStep": {
      "CheckoutBuggyBuild": 563342976,
      "ComputeClasspath": 556943224,
      "ComputeTestDir": 506263416,
      "ResolveDependency": 459490536,
      "BuildProject": 715565064,
      "NPERepair": 559956168,
      "ComputeSourceDir": 556943224,
      "InitRepoToPush": 589724064,
      "CloneRepository": 595084192,
      "NopolRepair": 1528131976,
      "CheckoutPatchedBuild": 1344390312,
      "TestProject": 509870928,
      "GatherTestInformation": 488126760,
      "PushIncriminatedBuild": 559956168,
      "AstorRepair": 631085760,
      "CommitPatch": 1344390312
    }
  },
  "bugCommit": "https://github.com/thingsboard/thingsboard/compare/adb71ecfe7b2...68a943e26770",
  "failingModule": "/root/workspace/thingsboard/thingsboard/357423823/application",
  "hostname": "spirals-vortex.lille.inria.fr",
  "totalNumberFailingTests": 21,
  "error-types": [
    "java.lang.IllegalStateException",
    "org.mockito.exceptions.verification.WantedButNotInvoked",
    "java.lang.AssertionError"
  ],
  "totalNumberRunningTests": 642,
  "failing-test-cases": [
    {
      "className": "org.thingsboard.server.controller.nosql.RuleControllerNoSqlTest",
      "failingMethods": [
        "org.thingsboard.server.controller.nosql.RuleControllerNoSqlTest#testFindRuleByPluginToken",
        "org.thingsboard.server.controller.nosql.RuleControllerNoSqlTest#testFindRuleById",
        "org.thingsboard.server.controller.nosql.RuleControllerNoSqlTest#testSaveRule",
        "org.thingsboard.server.controller.nosql.RuleControllerNoSqlTest#testFindTenantPlugins",
        "org.thingsboard.server.controller.nosql.RuleControllerNoSqlTest#testActivateRule",
        "org.thingsboard.server.controller.nosql.RuleControllerNoSqlTest#testFindCurrentTenantPlugins",
        "org.thingsboard.server.controller.nosql.RuleControllerNoSqlTest#testSuspendRule",
        "org.thingsboard.server.controller.nosql.RuleControllerNoSqlTest#testFindSystemRules"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c400\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        }
      ],
      "nbFailures": 8,
      "nbErrors": 0
    },
    {
      "className": "org.thingsboard.server.system.nosql.DeviceApiNoSqlTest",
      "failingMethods": [],
      "erroringMethods": [
        "org.thingsboard.server.system.nosql.DeviceApiNoSqlTest#testGetAttributes"
      ],
      "failures": [
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.transport.http.DeviceApiController.getDeviceAttributes(java.lang.String,java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest)] was not set during the specified timeToWait\u003d10000",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 1
    },
    {
      "className": "org.thingsboard.server.controller.nosql.PluginControllerNoSqlTest",
      "failingMethods": [
        "org.thingsboard.server.controller.nosql.PluginControllerNoSqlTest#testSuspendPlugin",
        "org.thingsboard.server.controller.nosql.PluginControllerNoSqlTest#testDeletePluginById"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        }
      ],
      "nbFailures": 2,
      "nbErrors": 0
    },
    {
      "className": "org.thingsboard.server.actors.DefaultActorServiceTest",
      "failingMethods": [
        "org.thingsboard.server.actors.DefaultActorServiceTest#testBasicPostWithSyncSession"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "org.mockito.exceptions.verification.WantedButNotInvoked",
          "failureDetail": "\nWanted but not invoked:\ntimeseriesService.save(\n    69b97bf4-e3b4-49a6-bc16-40cd6dedb2ad,\n    [BasicTsKvEntry{ts\u003d42, kv\u003dStringDataEntry{value\u003d\u0027value1\u0027} BasicKvEntry{key\u003d\u0027key1\u0027}}, BasicTsKvEntry{ts\u003d42, kv\u003dStringDataEntry{value\u003d\u0027value2\u0027} BasicKvEntry{key\u003d\u0027key2\u0027}}],\n    0\n);\n-\u003e at org.thingsboard.server.actors.DefaultActorServiceTest.testBasicPostWithSyncSession(DefaultActorServiceTest.java:242)\nActually, there were zero interactions with this mock.\n",
          "isError": false
        }
      ],
      "nbFailures": 1,
      "nbErrors": 0
    },
    {
      "className": "org.thingsboard.server.controller.sql.PluginControllerSqlTest",
      "failingMethods": [
        "org.thingsboard.server.controller.sql.PluginControllerSqlTest#testSuspendPlugin",
        "org.thingsboard.server.controller.sql.PluginControllerSqlTest#testDeletePluginById"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        }
      ],
      "nbFailures": 2,
      "nbErrors": 0
    },
    {
      "className": "org.thingsboard.server.mqtt.telemetry.nosql.MqttTelemetryNoSqlIntegrationTest",
      "failingMethods": [],
      "erroringMethods": [
        "org.thingsboard.server.mqtt.telemetry.nosql.MqttTelemetryNoSqlIntegrationTest#testPushMqttRpcData"
      ],
      "failures": [
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 1
    },
    {
      "className": "org.thingsboard.server.mqtt.rpc.sql.MqttServerSideRpcSqlIntegrationTest",
      "failingMethods": [],
      "erroringMethods": [
        "org.thingsboard.server.mqtt.rpc.sql.MqttServerSideRpcSqlIntegrationTest#testServerMqttOneWayRpcDeviceDoesNotExist",
        "org.thingsboard.server.mqtt.rpc.sql.MqttServerSideRpcSqlIntegrationTest#testServerMqttOneWayRpc",
        "org.thingsboard.server.mqtt.rpc.sql.MqttServerSideRpcSqlIntegrationTest#testServerMqttOneWayRpcDeviceOffline",
        "org.thingsboard.server.mqtt.rpc.sql.MqttServerSideRpcSqlIntegrationTest#testServerMqttTwoWayRpcDeviceDoesNotExist",
        "org.thingsboard.server.mqtt.rpc.sql.MqttServerSideRpcSqlIntegrationTest#testServerMqttTwoWayRpc",
        "org.thingsboard.server.mqtt.rpc.sql.MqttServerSideRpcSqlIntegrationTest#testServerMqttTwoWayRpcDeviceOffline"
      ],
      "failures": [
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d20500",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d20500",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 6
    },
    {
      "className": "org.thingsboard.server.mqtt.telemetry.sql.MqttTelemetrySqlIntegrationTest",
      "failingMethods": [],
      "erroringMethods": [
        "org.thingsboard.server.mqtt.telemetry.sql.MqttTelemetrySqlIntegrationTest#testPushMqttRpcData"
      ],
      "failures": [
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 1
    },
    {
      "className": "org.thingsboard.server.system.sql.DeviceApiSqlTest",
      "failingMethods": [],
      "erroringMethods": [
        "org.thingsboard.server.system.sql.DeviceApiSqlTest#testGetAttributes"
      ],
      "failures": [
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.transport.http.DeviceApiController.getDeviceAttributes(java.lang.String,java.lang.String,java.lang.String,javax.servlet.http.HttpServletRequest)] was not set during the specified timeToWait\u003d10000",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 1
    },
    {
      "className": "org.thingsboard.server.controller.sql.RuleControllerSqlTest",
      "failingMethods": [
        "org.thingsboard.server.controller.sql.RuleControllerSqlTest#testFindRuleById",
        "org.thingsboard.server.controller.sql.RuleControllerSqlTest#testFindTenantPlugins",
        "org.thingsboard.server.controller.sql.RuleControllerSqlTest#testActivateRule",
        "org.thingsboard.server.controller.sql.RuleControllerSqlTest#testSuspendRule",
        "org.thingsboard.server.controller.sql.RuleControllerSqlTest#testFindCurrentTenantPlugins",
        "org.thingsboard.server.controller.sql.RuleControllerSqlTest#testFindSystemRules",
        "org.thingsboard.server.controller.sql.RuleControllerSqlTest#testSaveRule",
        "org.thingsboard.server.controller.sql.RuleControllerSqlTest#testFindRuleByPluginToken"
      ],
      "erroringMethods": [],
      "failures": [
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c400\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        },
        {
          "failureName": "java.lang.AssertionError",
          "failureDetail": "Status expected:\u003c200\u003e but was:\u003c500\u003e",
          "isError": false
        }
      ],
      "nbFailures": 8,
      "nbErrors": 0
    },
    {
      "className": "org.thingsboard.server.mqtt.rpc.nosql.MqttServerSideRpcNoSqlIntegrationTest",
      "failingMethods": [],
      "erroringMethods": [
        "org.thingsboard.server.mqtt.rpc.nosql.MqttServerSideRpcNoSqlIntegrationTest#testServerMqttTwoWayRpcDeviceDoesNotExist",
        "org.thingsboard.server.mqtt.rpc.nosql.MqttServerSideRpcNoSqlIntegrationTest#testServerMqttOneWayRpcDeviceOffline",
        "org.thingsboard.server.mqtt.rpc.nosql.MqttServerSideRpcNoSqlIntegrationTest#testServerMqttOneWayRpc",
        "org.thingsboard.server.mqtt.rpc.nosql.MqttServerSideRpcNoSqlIntegrationTest#testServerMqttOneWayRpcDeviceDoesNotExist",
        "org.thingsboard.server.mqtt.rpc.nosql.MqttServerSideRpcNoSqlIntegrationTest#testServerMqttTwoWayRpcDeviceOffline",
        "org.thingsboard.server.mqtt.rpc.nosql.MqttServerSideRpcNoSqlIntegrationTest#testServerMqttTwoWayRpc"
      ],
      "failures": [
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d20500",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d20500",
          "isError": true
        },
        {
          "failureName": "java.lang.IllegalStateException",
          "failureDetail": "Async result for handler [public org.springframework.web.context.request.async.DeferredResult\u003corg.springframework.http.ResponseEntity\u003e org.thingsboard.server.controller.plugin.PluginApiController.processRequest(java.lang.String,org.springframework.http.RequestEntity\u003cbyte[]\u003e,javax.servlet.http.HttpServletRequest) throws org.thingsboard.server.exception.ThingsboardException] was not set during the specified timeToWait\u003d10000",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 6
    }
  ]
}