{
  "totalNumberSkippingTests": 1,
  "bugType": "only_fail",
  "totalNumberErroringTests": 14,
  "repo": "uber/hudi",
  "metrics": {
    "StepsDurationsInSeconds": {
      "CheckoutBuggyBuild": 3,
      "ComputeClasspath": 3,
      "ComputeTestDir": 0,
      "ResolveDependency": 129,
      "BuildProject": 246,
      "NPERepair": 7,
      "ComputeSourceDir": 0,
      "InitRepoToPush": 4,
      "CloneRepository": 2,
      "NopolRepair": 10,
      "CheckoutPatchedBuild": 0,
      "TestProject": 312,
      "GatherTestInformation": 0,
      "PushIncriminatedBuild": 6,
      "AstorRepair": 6000,
      "CommitPatch": 44
    },
    "FailureNames": [
      "com.uber.hoodie.exception.HoodieInsertException",
      "java.util.NoSuchElementException",
      "com.uber.hoodie.exception.HoodieUpsertException",
      "org.apache.spark.SparkException",
      "java.lang.NullPointerException"
    ],
    "NbFailingTests": 14,
    "BugCommitUrl": "http://github.com/uber/hudi/commit/4c5ba0ff8e2600b3f5e1c77e75c0a4167defbc82",
    "ReproductionDate": "Mar 16, 2018 8:11:52 AM",
    "BuggyBuildId": 354187058,
    "PatchedBuilId": 0,
    "BuggyBuildURL": "http://travis-ci.org/uber/hudi/builds/354187058",
    "BuggyBuildDate": "Mar 16, 2018 8:11:44 AM",
    "BugCommit": "4c5ba0ff8e2600b3f5e1c77e75c0a4167defbc82",
    "PatchChangedFiles": 1,
    "PatchAddedLines": 0,
    "PatchDeletedLines": 0,
    "NbRunningTests": 157,
    "NbLibraries": 267,
    "NbFileApp": 396,
    "NbFileTests": 106,
    "NbCPU": 32,
    "FreeMemory": 793606592,
    "TotalMemory": 2065170432,
    "FreeMemoryByStep": {
      "CheckoutBuggyBuild": 627251272,
      "ComputeClasspath": 660429656,
      "ComputeTestDir": 607215456,
      "ResolveDependency": 582592168,
      "BuildProject": 542140392,
      "NPERepair": 661050184,
      "ComputeSourceDir": 660429656,
      "InitRepoToPush": 555502600,
      "CloneRepository": 708366136,
      "NopolRepair": 1417900040,
      "CheckoutPatchedBuild": 793606592,
      "TestProject": 685756120,
      "GatherTestInformation": 660427176,
      "PushIncriminatedBuild": 673172776,
      "AstorRepair": 788084248,
      "CommitPatch": 793606592
    },
    "AngelicValuesByTest": {
      "com/uber/hoodie/table/TestMergeOnReadTable": 0,
      "com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage": 0,
      "com/uber/hoodie/func/TestUpdateMapFunction": 0,
      "com/uber/hoodie/table/TestCopyOnWriteTable": 0
    }
  },
  "failingModule": "/root/workspace/uber/hudi/354187058/hoodie-client",
  "hostname": "spirals-vortex.lille.inria.fr",
  "totalNumberFailingTests": 0,
  "error-types": [
    "com.uber.hoodie.exception.HoodieInsertException",
    "java.util.NoSuchElementException",
    "com.uber.hoodie.exception.HoodieUpsertException",
    "org.apache.spark.SparkException",
    "java.lang.NullPointerException"
  ],
  "totalNumberRunningTests": 157,
  "failing-test-cases": [
    {
      "className": "com.uber.hoodie.table.TestCopyOnWriteTable",
      "failingMethods": [],
      "erroringMethods": [
        "com.uber.hoodie.table.TestCopyOnWriteTable#testUpdateRecords"
      ],
      "failures": [
        {
          "failureName": "java.util.NoSuchElementException",
          "failureDetail": "spark.executor.memory",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 1
    },
    {
      "className": "com.uber.hoodie.func.TestUpdateMapFunction",
      "failingMethods": [],
      "erroringMethods": [
        "com.uber.hoodie.func.TestUpdateMapFunction#testSchemaEvolutionOnUpdate"
      ],
      "failures": [
        {
          "failureName": "java.lang.NullPointerException",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 1
    },
    {
      "className": "com.uber.hoodie.table.TestMergeOnReadTable",
      "failingMethods": [],
      "erroringMethods": [
        "com.uber.hoodie.table.TestMergeOnReadTable#testUpsertPartitioner",
        "com.uber.hoodie.table.TestMergeOnReadTable#testCOWToMORConvertedDatasetRollback"
      ],
      "failures": [
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 002",
          "isError": true
        },
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 002",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 2
    },
    {
      "className": "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage",
      "failingMethods": [],
      "erroringMethods": [
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testCreateSavepoint",
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testUpsertsWithFinalizeWrite",
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testRollbackToSavepoint",
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testInsertAndCleanByVersions",
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testInsertAndCleanByCommits",
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testSmallInsertHandlingForUpserts",
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testSmallInsertHandlingForInserts",
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testDeletes",
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testAutoCommit",
        "com.uber.hoodie.TestHoodieClientOnCopyOnWriteStorage#testUpserts"
      ],
      "failures": [
        {
          "failureName": "com.uber.hoodie.exception.HoodieInsertException",
          "failureDetail": "Failed to insert for commit time 002",
          "isError": true
        },
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 20180316082216",
          "isError": true
        },
        {
          "failureName": "org.apache.spark.SparkException",
          "failureDetail": "Job aborted due to stage failure: Task 0 in stage 26.0 failed 1 times, most recent failure: Lost task 0.0 in stage 26.0 (TID 435, localhost, executor driver): com.uber.hoodie.exception.HoodieUpsertException: Error upserting bucketType UPDATE for partition :0\n at com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpsertPartition(HoodieCopyOnWriteTable.java:512)\n at com.uber.hoodie.HoodieWriteClient.lambda$upsertRecordsInternal$7ef77fd$1(HoodieWriteClient.java:433)\n at org.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\n at org.apache.spark.api.java.JavaRDDLike$$anonfun$mapPartitionsWithIndex$1.apply(JavaRDDLike.scala:102)\n at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$26.apply(RDD.scala:843)\n at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndex$1$$anonfun$apply$26.apply(RDD.scala:843)\n at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\n at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\n at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)\n at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\n at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\n at org.apache.spark.rdd.RDD$$anonfun$8.apply(RDD.scala:336)\n at org.apache.spark.rdd.RDD$$anonfun$8.apply(RDD.scala:334)\n at org.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:973)\n at org.apache.spark.storage.BlockManager$$anonfun$doPutIterator$1.apply(BlockManager.scala:948)\n at org.apache.spark.storage.BlockManager.doPut(BlockManager.scala:888)\n at org.apache.spark.storage.BlockManager.doPutIterator(BlockManager.scala:948)\n at org.apache.spark.storage.BlockManager.getOrElseUpdate(BlockManager.scala:694)\n at org.apache.spark.rdd.RDD.getOrCompute(RDD.scala:334)\n at org.apache.spark.rdd.RDD.iterator(RDD.scala:285)\n at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)\n at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:323)\n at org.apache.spark.rdd.RDD.iterator(RDD.scala:287)\n at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\n at org.apache.spark.scheduler.Task.run(Task.scala:99)\n at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:282)\n at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n at java.lang.Thread.run(Thread.java:745)\nCaused by: java.util.NoSuchElementException: spark.executor.memory\n at org.apache.spark.SparkConf$$anonfun$get$1.apply(SparkConf.scala:243)\n at org.apache.spark.SparkConf$$anonfun$get$1.apply(SparkConf.scala:243)\n at scala.Option.getOrElse(Option.scala:121)\n at org.apache.spark.SparkConf.get(SparkConf.scala:243)\n at com.uber.hoodie.io.HoodieIOHandle.getMaxMemoryAllowedForMerge(HoodieIOHandle.java:112)\n at com.uber.hoodie.io.HoodieMergeHandle.init(HoodieMergeHandle.java:154)\n at com.uber.hoodie.io.HoodieMergeHandle.\u003cinit\u003e(HoodieMergeHandle.java:73)\n at com.uber.hoodie.table.HoodieCopyOnWriteTable.getUpdateHandle(HoodieCopyOnWriteTable.java:479)\n at com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpdate(HoodieCopyOnWriteTable.java:429)\n at com.uber.hoodie.table.HoodieCopyOnWriteTable.handleUpsertPartition(HoodieCopyOnWriteTable.java:504)\n ... 28 more\n\nDriver stacktrace:",
          "isError": true
        },
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 002",
          "isError": true
        },
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 004",
          "isError": true
        },
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 002",
          "isError": true
        },
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 004",
          "isError": true
        },
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 20180316082303",
          "isError": true
        },
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 004",
          "isError": true
        },
        {
          "failureName": "com.uber.hoodie.exception.HoodieUpsertException",
          "failureDetail": "Failed to upsert for commit time 002",
          "isError": true
        }
      ],
      "nbFailures": 0,
      "nbErrors": 10
    }
  ]
}