language: java
dist: trusty
sudo: false
jdk: openjdk8
install: true

script:
- mvn install -Dmaven.javadoc.skip=true -B -V
- mvn clean test -B
- mvn sonar:sonar -Dsonar.organization=massillia65-github -Dsonar.host.url=https://sonarcloud.io -Dsonar.login=d402a6f4e2763647229d52ac742e8273c20618f8
- mvn cobertura:cobertura
after_success:
- bash <(curl -s https://codecov.io/bash)
deploy:
  provider: heroku
  api_key:
    secure: KNYU7iYAPL9AO8vgM3oYjhv4wzElwv5c7ZyZabemD9y6Vsl6sPqn6F0r2IhyHaUCwbRFWrukKSI7octhIhuZh6tK23sELsm6/afuLqKAREYOPrwmWjm7Itrrduy79VUF+aeexOwYMTXSddr1y7Eu3niel+cbe/Ztmp2Cea6s9uroqq7J+O/Pr4qu/oZAQrQ88eemrlT+W3hymsIntbGWD+v8id+oP4kMLYdmX94urmukiH/Ef0q9xnyL8R2fTRBai5T68jEdvbofAJhq3wJAs1gYKItQ8CXhVbGvDUFw2hYvQQsKviwLNBtanbQIHihJDQ1dLJER2bCgAXl5Y2U4Wb/2kkBIt/pCaEp8kS33NiyZ3R5OsSmX7+bR+YBDQJi8RT4gr+M6roo5JQqtPimuW8TW+GgUB8JRWjeHes5WlW7PjCKzAb+hAXT/3pspHQvd+QO7PDDEbYJT92+g+evz3gEaMZOYid6IUkVYk1GOkO5R+j5R0Kjlx5o+lE7H1ocJ825F8qM+4GiTxTbRNF3YaeYdZAcVJZoqtQsfHLlSPSJzmZ/jCD3sbiY1Hc4KvcG4ICWKKj8LDpPOcWeYiAugvFKc6Sn1hAeDfg5wGfqNu9SAwX4Xx19St+3Om6/VeuhkHxupARG5SYr4F0D/8ziMKSPsttngwUvMH8MpoUk8Z/Q=
  on: master
  app: les-pas-rieurs