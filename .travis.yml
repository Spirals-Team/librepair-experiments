language: java
sudo: false

jdk:
  - oraclejdk8

services:
  - mysql

before_install:
  - mysql -e 'DROP DATABASE IF EXISTS `spring-boot-mini-program-examples`;'
  - mysql -e 'CREATE DATABASE IF NOT EXISTS `spring-boot-mini-program-examples`;'
  - mysql -e 'ALTER DATABASE `spring-boot-mini-program-examples` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci;'
  - mysql -e 'SHOW CREATE DATABASE `spring-boot-mini-program-examples`;'
  - mysql -u root --password="" < database/structure.sql
  - mysql -u root --password="" < database/migration.sql

cache:
  directories:
  - "$HOME/.cache"