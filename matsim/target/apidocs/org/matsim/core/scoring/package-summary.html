<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_121) on Thu May 31 17:49:42 CEST 2018 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>org.matsim.core.scoring (MATSim 0.11.0-SNAPSHOT API)</title>
<meta name="date" content="2018-05-31">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.matsim.core.scoring (MATSim 0.11.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">MATSim API</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/matsim/core/scenario/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../org/matsim/core/scoring/functions/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/matsim/core/scoring/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.matsim.core.scoring</h1>
<div class="docSummary">
<div class="block">Scoring is responsible for calculating the (actual) utility/score of a plan.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/EventsToActivities.ActivityHandler.html" title="interface in org.matsim.core.scoring">EventsToActivities.ActivityHandler</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/EventsToLegs.LegHandler.html" title="interface in org.matsim.core.scoring">EventsToLegs.LegHandler</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/ExperiencedPlansService.html" title="interface in org.matsim.core.scoring">ExperiencedPlansService</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/ScoringFunction.html" title="interface in org.matsim.core.scoring">ScoringFunction</a></td>
<td class="colLast">
<div class="block">A scoring function calculates the score for one plan of an agent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/ScoringFunctionFactory.html" title="interface in org.matsim.core.scoring">ScoringFunctionFactory</a></td>
<td class="colLast">
<div class="block">The <code>ScoringFunctionFactory</code> creates new scoring functions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/SumScoringFunction.ActivityScoring.html" title="interface in org.matsim.core.scoring">SumScoringFunction.ActivityScoring</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/SumScoringFunction.AgentStuckScoring.html" title="interface in org.matsim.core.scoring">SumScoringFunction.AgentStuckScoring</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/SumScoringFunction.ArbitraryEventScoring.html" title="interface in org.matsim.core.scoring">SumScoringFunction.ArbitraryEventScoring</a></td>
<td class="colLast">
<div class="block">NOTE: Despite its somewhat misleading name, only Events that at the same time implement HasPersonId are passed 
 through this interface.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/SumScoringFunction.BasicScoring.html" title="interface in org.matsim.core.scoring">SumScoringFunction.BasicScoring</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/SumScoringFunction.LegScoring.html" title="interface in org.matsim.core.scoring">SumScoringFunction.LegScoring</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/SumScoringFunction.MoneyScoring.html" title="interface in org.matsim.core.scoring">SumScoringFunction.MoneyScoring</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/EventsToActivities.html" title="class in org.matsim.core.scoring">EventsToActivities</a></td>
<td class="colLast">
<div class="block">Converts a stream of Events into a stream of Activities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/EventsToLegs.html" title="class in org.matsim.core.scoring">EventsToLegs</a></td>
<td class="colLast">
<div class="block">Converts a stream of Events into a stream of Legs.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/EventsToScore.html" title="class in org.matsim.core.scoring">EventsToScore</a></td>
<td class="colLast">
<div class="block">Calculates the score of the selected plans of a given scenario
 based on events.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/ExperiencedPlanElementsModule.html" title="class in org.matsim.core.scoring">ExperiencedPlanElementsModule</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/ExperiencedPlansModule.html" title="class in org.matsim.core.scoring">ExperiencedPlansModule</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/PersonExperiencedActivity.html" title="class in org.matsim.core.scoring">PersonExperiencedActivity</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/PersonExperiencedLeg.html" title="class in org.matsim.core.scoring">PersonExperiencedLeg</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/PlansScoringModule.html" title="class in org.matsim.core.scoring">PlansScoringModule</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/ScoringFunctionsForPopulation.html" title="class in org.matsim.core.scoring">ScoringFunctionsForPopulation</a></td>
<td class="colLast">
<div class="block">This class helps EventsToScore by keeping ScoringFunctions for the entire Population - one per Person -, and dispatching Activities
 and Legs to the ScoringFunctions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../org/matsim/core/scoring/SumScoringFunction.html" title="class in org.matsim.core.scoring">SumScoringFunction</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package org.matsim.core.scoring Description">Package org.matsim.core.scoring Description</h2>
<div class="block">Scoring is responsible for calculating the (actual) utility/score of a plan.
 <br>
 <h3>Important Classes and Interfaces</h3>
 A <a href="../../../../org/matsim/core/scoring/ScoringFunction.html" title="interface in org.matsim.core.scoring"><code>ScoringFunction</code></a> is responsible for calculating
 the score of a plan based on information about how long an activity was
 executed or how much time an agent spent traveling. MATSim provides a
 default scoring function,
 <a href="../../../../org/matsim/core/scoring/functions/CharyparNagelScoringFunctionFactory.html" title="class in org.matsim.core.scoring.functions"><code>CharyparNagelScoringFunctionFactory</code></a>, which takes
 performing activities and traveling into account for the calculation of the
 score. Advanced scoring functions could be thought of where where the
 distance, people traveling along, people met at activities etc. have an
 influence on the score as well.
 <br>
 Because an instance of a ScoringFunction is usually specific for one person
 or for one plan only, a <a href="../../../../org/matsim/core/scoring/ScoringFunctionFactory.html" title="interface in org.matsim.core.scoring"><code>ScoringFunctionFactory</code></a> is
 needed to create the needed instances of the ScoringFunction to be used.
 <br>
 The information, when an agent is traveling and when it is performing an
 activity, usually comes from <a href="../../../../org/matsim/core/events/package-summary.html">MATSim-Events</a>.
 <a href="../../../../org/matsim/core/scoring/EventsToScore.html" title="class in org.matsim.core.scoring"><code>EventsToScore</code></a> feeds the information from the
 simulation to the agents' ScoringFunction-instance, which then calculates
 the effective score.

 <h3>Typical Usage</h3>
 If you are using the MATSim-<a href="../../../../org/matsim/core/controler/Controler.html" title="class in org.matsim.core.controler">Controler</a> but
 want to use your own ScoringFunction, you can provide a factory for your
 ScoringFunction and set it with
 <a href="../../../../org/matsim/core/controler/Controler.html#setScoringFunctionFactory-org.matsim.core.scoring.ScoringFunctionFactory-"><code>Controler.setScoringFunctionFactory(org.matsim.core.scoring.ScoringFunctionFactory)</code></a>.
 If you do not use the Controler, you can can use
 <a href="../../../../org/matsim/core/scoring/EventsToScore.html" title="class in org.matsim.core.scoring"><code>EventsToScore</code></a> as events handler with your
 <code>org.matsim.core.events.EventsManager</code>-object to calculate the scores. Do not
 forget to call <a href="../../../../org/matsim/core/scoring/EventsToScore.html#finish--"><code>EventsToScore.finish()</code></a> after
 processing all events.

 <h3>Replacing / Extending the scoring function</h3>
 There are two possibilities one can think of on how to change the scoring
 function: One can either want to use a complete different scoring algorithm,
 or one might plan to use an existing scoring function, but add additional
 utility-terms to it (e.g. tolls paid, money paid for parking lots, ...).
 For the first case (use a complete different scoring algorithm), write your
 own scoring function and scoring function factory, and add it to the
 Controler with <a href="../../../../org/matsim/core/controler/Controler.html#setScoringFunctionFactory-org.matsim.core.scoring.ScoringFunctionFactory-"><code>Controler.setScoringFunctionFactory(org.matsim.core.scoring.ScoringFunctionFactory)</code></a>.
 But if you only plan to add or subtract some utility amounts from agents'
 score, you can generate <a href="../../../../org/matsim/api/core/v01/events/PersonMoneyEvent.html" title="class in org.matsim.api.core.v01.events"><code>PersonMoneyEvent</code></a>s.
 Scoring functions should listen for <code>AgentUtilityEvent</code>s and just
 add the utility amount specified in the event to the agent's score.

 As an example, the roadpricing-package makes use of <code>AgentMoneyEvent</code>s:
 An event-handler listens for agents entering and leaving links and thus
 calculates how much toll an agent pays. After the iteration, the event
 handler generates events itself: for each agent that must pay some toll, an
 <code>AgentUtilityEvent</code> is generated with the correct amount of toll.
 The scoring function receives those events and thus adds the paid tolls to
 the agents' score.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>playground.meisterk.org.matsim.run.westumfahrung.PlanAverageScore</code></dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">MATSim API</div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/matsim/core/scenario/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../org/matsim/core/scoring/functions/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/matsim/core/scoring/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2005&#x2013;2018. All rights reserved.</small></p>
</body>
</html>
