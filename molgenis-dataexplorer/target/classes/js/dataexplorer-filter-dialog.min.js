(function(c,b){b.dataexplorer=b.dataexplorer||{};b.dataexplorer.filter=b.dataexplorer.filter||{};var a=b.dataexplorer.filter.dialog=b.dataexplorer.filter.dialog||{};a.openFilterModal=function(j,f){var i=e();var k=b.getAttributeLabel(j);var h=j.description?j.description:"No description available";var g=b.dataexplorer.filter.createFilter(j,f,false);c(".filter-title",i).html(k);c(".filter-description",i).html(h);c(".form-horizontal",i).html(g);i.modal("show")};function e(){var g=c("#filter-modal");var f=Handlebars.compile(c("#filter-modal-template").html());g=c(f({}));d(g);return g}function d(f){c(".filter-apply-btn",f).unbind("click");c(".filter-apply-btn",f).click(function(){var g=b.dataexplorer.filter.createFilters(c("form",f));c(document).trigger("updateAttributeFilters",{filters:g})});c(f).unbind("shown.bs.modal");f.on("shown.bs.modal",function(){c("form input:visible:first",f).focus()});c(f).unbind("keypress");f.keypress(function(g){if(g.which==13){g.preventDefault();c(".filter-apply-btn",f).click()}})}}($,window.top.molgenis=window.top.molgenis||{}));